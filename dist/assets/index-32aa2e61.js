(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ff(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fy={exports:{}},ql={},hy={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xs=Symbol.for("react.element"),mC=Symbol.for("react.portal"),vC=Symbol.for("react.fragment"),yC=Symbol.for("react.strict_mode"),wC=Symbol.for("react.profiler"),EC=Symbol.for("react.provider"),SC=Symbol.for("react.context"),CC=Symbol.for("react.forward_ref"),IC=Symbol.for("react.suspense"),DC=Symbol.for("react.memo"),xC=Symbol.for("react.lazy"),ag=Symbol.iterator;function bC(t){return t===null||typeof t!="object"?null:(t=ag&&t[ag]||t["@@iterator"],typeof t=="function"?t:null)}var py={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gy=Object.assign,my={};function Fi(t,e,n){this.props=t,this.context=e,this.refs=my,this.updater=n||py}Fi.prototype.isReactComponent={};Fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vy(){}vy.prototype=Fi.prototype;function Bf(t,e,n){this.props=t,this.context=e,this.refs=my,this.updater=n||py}var Uf=Bf.prototype=new vy;Uf.constructor=Bf;gy(Uf,Fi.prototype);Uf.isPureReactComponent=!0;var lg=Array.isArray,yy=Object.prototype.hasOwnProperty,Vf={current:null},wy={key:!0,ref:!0,__self:!0,__source:!0};function Ey(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)yy.call(e,r)&&!wy.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xs,type:t,key:o,ref:s,props:i,_owner:Vf.current}}function TC(t,e){return{$$typeof:xs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zf(t){return typeof t=="object"&&t!==null&&t.$$typeof===xs}function AC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ug=/\/+/g;function sc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AC(""+t.key):e.toString(36)}function Ma(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case xs:case mC:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+sc(s,0):r,lg(i)?(n="",t!=null&&(n=t.replace(ug,"$&/")+"/"),Ma(i,e,n,"",function(u){return u})):i!=null&&(zf(i)&&(i=TC(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(ug,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",lg(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+sc(o,a);s+=Ma(o,e,n,l,i)}else if(l=bC(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+sc(o,a++),s+=Ma(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ia(t,e,n){if(t==null)return t;var r=[],i=0;return Ma(t,r,"","",function(o){return e.call(n,o,i++)}),r}function kC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dt={current:null},$a={transition:null},PC={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:$a,ReactCurrentOwner:Vf};K.Children={map:ia,forEach:function(t,e,n){ia(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ia(t,function(){e++}),e},toArray:function(t){return ia(t,function(e){return e})||[]},only:function(t){if(!zf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=Fi;K.Fragment=vC;K.Profiler=wC;K.PureComponent=Bf;K.StrictMode=yC;K.Suspense=IC;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PC;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gy({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Vf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)yy.call(e,l)&&!wy.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:xs,type:t.type,key:i,ref:o,props:r,_owner:s}};K.createContext=function(t){return t={$$typeof:SC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EC,_context:t},t.Consumer=t};K.createElement=Ey;K.createFactory=function(t){var e=Ey.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:CC,render:t}};K.isValidElement=zf;K.lazy=function(t){return{$$typeof:xC,_payload:{_status:-1,_result:t},_init:kC}};K.memo=function(t,e){return{$$typeof:DC,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=$a.transition;$a.transition={};try{t()}finally{$a.transition=e}};K.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};K.useCallback=function(t,e){return dt.current.useCallback(t,e)};K.useContext=function(t){return dt.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return dt.current.useDeferredValue(t)};K.useEffect=function(t,e){return dt.current.useEffect(t,e)};K.useId=function(){return dt.current.useId()};K.useImperativeHandle=function(t,e,n){return dt.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return dt.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return dt.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return dt.current.useMemo(t,e)};K.useReducer=function(t,e,n){return dt.current.useReducer(t,e,n)};K.useRef=function(t){return dt.current.useRef(t)};K.useState=function(t){return dt.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return dt.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return dt.current.useTransition()};K.version="18.2.0";hy.exports=K;var R=hy.exports;const le=Ff(R);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC=R,RC=Symbol.for("react.element"),OC=Symbol.for("react.fragment"),MC=Object.prototype.hasOwnProperty,$C=NC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LC={key:!0,ref:!0,__self:!0,__source:!0};function Sy(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)MC.call(e,r)&&!LC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:RC,type:t,key:o,ref:s,props:i,_owner:$C.current}}ql.Fragment=OC;ql.jsx=Sy;ql.jsxs=Sy;fy.exports=ql;var xe=fy.exports,Cy={exports:{}},At={},Iy={exports:{}},Dy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,V){var B=P.length;P.push(V);e:for(;0<B;){var te=B-1>>>1,J=P[te];if(0<i(J,V))P[te]=V,P[B]=J,B=te;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var V=P[0],B=P.pop();if(B!==V){P[0]=B;e:for(var te=0,J=P.length,on=J>>>1;te<on;){var Nt=2*(te+1)-1,Rt=P[Nt],Ot=Nt+1,vn=P[Ot];if(0>i(Rt,B))Ot<J&&0>i(vn,Rt)?(P[te]=vn,P[Ot]=B,te=Ot):(P[te]=Rt,P[Nt]=B,te=Nt);else if(Ot<J&&0>i(vn,B))P[te]=vn,P[Ot]=B,te=Ot;else break e}}return V}function i(P,V){var B=P.sortIndex-V.sortIndex;return B!==0?B:P.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,m=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=P)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function w(P){if(y=!1,v(P),!m)if(n(l)!==null)m=!0,Ke(S);else{var V=n(u);V!==null&&rn(w,V.startTime-P)}}function S(P,V){m=!1,y&&(y=!1,g(A),A=-1),h=!0;var B=f;try{for(v(V),d=n(l);d!==null&&(!(d.expirationTime>V)||P&&!W());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var J=te(d.expirationTime<=V);V=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),v(V)}else r(l);d=n(l)}if(d!==null)var on=!0;else{var Nt=n(u);Nt!==null&&rn(w,Nt.startTime-V),on=!1}return on}finally{d=null,f=B,h=!1}}var C=!1,x=null,A=-1,O=5,M=-1;function W(){return!(t.unstable_now()-M<O)}function Pe(){if(x!==null){var P=t.unstable_now();M=P;var V=!0;try{V=x(!0,P)}finally{V?Ne():(C=!1,x=null)}}else C=!1}var Ne;if(typeof p=="function")Ne=function(){p(Pe)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,ht=fe.port2;fe.port1.onmessage=Pe,Ne=function(){ht.postMessage(null)}}else Ne=function(){E(Pe,0)};function Ke(P){x=P,C||(C=!0,Ne())}function rn(P,V){A=E(function(){P(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,Ke(S))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var B=f;f=V;try{return P()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,V){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var B=f;f=P;try{return V()}finally{f=B}},t.unstable_scheduleCallback=function(P,V,B){var te=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?te+B:te):B=te,P){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=B+J,P={id:c++,callback:V,priorityLevel:P,startTime:B,expirationTime:J,sortIndex:-1},B>te?(P.sortIndex=B,e(u,P),n(l)===null&&P===n(u)&&(y?(g(A),A=-1):y=!0,rn(w,B-te))):(P.sortIndex=J,e(l,P),m||h||(m=!0,Ke(S))),P},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(P){var V=f;return function(){var B=f;f=V;try{return P.apply(this,arguments)}finally{f=B}}}})(Dy);Iy.exports=Dy;var _C=Iy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy=R,bt=_C;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var by=new Set,_o={};function Fr(t,e){Ei(t,e),Ei(t+"Capture",e)}function Ei(t,e){for(_o[t]=e,t=0;t<e.length;t++)by.add(e[t])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ld=Object.prototype.hasOwnProperty,FC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cg={},dg={};function BC(t){return ld.call(dg,t)?!0:ld.call(cg,t)?!1:FC.test(t)?dg[t]=!0:(cg[t]=!0,!1)}function UC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VC(t,e,n,r){if(e===null||typeof e>"u"||UC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var jf=/[\-:]([a-z])/g;function Gf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jf,Gf);qe[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jf,Gf);qe[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jf,Gf);qe[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hf(t,e,n,r){var i=qe.hasOwnProperty(e)?qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VC(e,n,i,r)&&(n=null),r||i===null?BC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var On=xy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oa=Symbol.for("react.element"),Qr=Symbol.for("react.portal"),Yr=Symbol.for("react.fragment"),Wf=Symbol.for("react.strict_mode"),ud=Symbol.for("react.profiler"),Ty=Symbol.for("react.provider"),Ay=Symbol.for("react.context"),qf=Symbol.for("react.forward_ref"),cd=Symbol.for("react.suspense"),dd=Symbol.for("react.suspense_list"),Kf=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),ky=Symbol.for("react.offscreen"),fg=Symbol.iterator;function Ji(t){return t===null||typeof t!="object"?null:(t=fg&&t[fg]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,ac;function fo(t){if(ac===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ac=e&&e[1]||""}return`
`+ac+t}var lc=!1;function uc(t,e){if(!t||lc)return"";lc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{lc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fo(t):""}function zC(t){switch(t.tag){case 5:return fo(t.type);case 16:return fo("Lazy");case 13:return fo("Suspense");case 19:return fo("SuspenseList");case 0:case 2:case 15:return t=uc(t.type,!1),t;case 11:return t=uc(t.type.render,!1),t;case 1:return t=uc(t.type,!0),t;default:return""}}function fd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yr:return"Fragment";case Qr:return"Portal";case ud:return"Profiler";case Wf:return"StrictMode";case cd:return"Suspense";case dd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ay:return(t.displayName||"Context")+".Consumer";case Ty:return(t._context.displayName||"Context")+".Provider";case qf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kf:return e=t.displayName||null,e!==null?e:fd(t.type)||"Memo";case $n:e=t._payload,t=t._init;try{return fd(t(e))}catch{}}return null}function jC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fd(e);case 8:return e===Wf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Py(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GC(t){var e=Py(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sa(t){t._valueTracker||(t._valueTracker=GC(t))}function Ny(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Py(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hd(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=tr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ry(t,e){e=e.checked,e!=null&&Hf(t,"checked",e,!1)}function pd(t,e){Ry(t,e);var n=tr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gd(t,e.type,n):e.hasOwnProperty("defaultValue")&&gd(t,e.type,tr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gd(t,e,n){(e!=="number"||Xa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ho=Array.isArray;function li(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+tr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function md(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(ho(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:tr(n)}}function Oy(t,e){var n=tr(e.value),r=tr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function mg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function My(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?My(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var aa,$y=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(aa=aa||document.createElement("div"),aa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=aa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HC=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(t){HC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),So[e]=So[t]})});function Ly(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||So.hasOwnProperty(t)&&So[t]?(""+e).trim():e+"px"}function _y(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ly(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WC=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yd(t,e){if(e){if(WC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function wd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ed=null;function Qf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sd=null,ui=null,ci=null;function vg(t){if(t=As(t)){if(typeof Sd!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Jl(e),Sd(t.stateNode,t.type,e))}}function Fy(t){ui?ci?ci.push(t):ci=[t]:ui=t}function By(){if(ui){var t=ui,e=ci;if(ci=ui=null,vg(t),e)for(t=0;t<e.length;t++)vg(e[t])}}function Uy(t,e){return t(e)}function Vy(){}var cc=!1;function zy(t,e,n){if(cc)return t(e,n);cc=!0;try{return Uy(t,e,n)}finally{cc=!1,(ui!==null||ci!==null)&&(Vy(),By())}}function Bo(t,e){var n=t.stateNode;if(n===null)return null;var r=Jl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Cd=!1;if(xn)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){Cd=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{Cd=!1}function qC(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Co=!1,Ja=null,Za=!1,Id=null,KC={onError:function(t){Co=!0,Ja=t}};function QC(t,e,n,r,i,o,s,a,l){Co=!1,Ja=null,qC.apply(KC,arguments)}function YC(t,e,n,r,i,o,s,a,l){if(QC.apply(this,arguments),Co){if(Co){var u=Ja;Co=!1,Ja=null}else throw Error(D(198));Za||(Za=!0,Id=u)}}function Br(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yg(t){if(Br(t)!==t)throw Error(D(188))}function XC(t){var e=t.alternate;if(!e){if(e=Br(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return yg(i),t;if(o===r)return yg(i),e;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function Gy(t){return t=XC(t),t!==null?Hy(t):null}function Hy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hy(t);if(e!==null)return e;t=t.sibling}return null}var Wy=bt.unstable_scheduleCallback,wg=bt.unstable_cancelCallback,JC=bt.unstable_shouldYield,ZC=bt.unstable_requestPaint,Se=bt.unstable_now,eI=bt.unstable_getCurrentPriorityLevel,Yf=bt.unstable_ImmediatePriority,qy=bt.unstable_UserBlockingPriority,el=bt.unstable_NormalPriority,tI=bt.unstable_LowPriority,Ky=bt.unstable_IdlePriority,Kl=null,fn=null;function nI(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Kl,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:oI,rI=Math.log,iI=Math.LN2;function oI(t){return t>>>=0,t===0?32:31-(rI(t)/iI|0)|0}var la=64,ua=4194304;function po(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=po(a):(o&=s,o!==0&&(r=po(o)))}else s=n&~i,s!==0?r=po(s):o!==0&&(r=po(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),i=1<<n,r|=t[n],e&=~i;return r}function sI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Jt(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=sI(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Dd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qy(){var t=la;return la<<=1,!(la&4194240)&&(la=64),t}function dc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function lI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Xf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ne=0;function Yy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xy,Jf,Jy,Zy,e0,xd=!1,ca=[],zn=null,jn=null,Gn=null,Uo=new Map,Vo=new Map,_n=[],uI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eg(t,e){switch(t){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Uo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(e.pointerId)}}function eo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=As(e),e!==null&&Jf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cI(t,e,n,r,i){switch(e){case"focusin":return zn=eo(zn,t,e,n,r,i),!0;case"dragenter":return jn=eo(jn,t,e,n,r,i),!0;case"mouseover":return Gn=eo(Gn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Uo.set(o,eo(Uo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Vo.set(o,eo(Vo.get(o)||null,t,e,n,r,i)),!0}return!1}function t0(t){var e=yr(t.target);if(e!==null){var n=Br(e);if(n!==null){if(e=n.tag,e===13){if(e=jy(n),e!==null){t.blockedOn=e,e0(t.priority,function(){Jy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function La(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ed=r,n.target.dispatchEvent(r),Ed=null}else return e=As(n),e!==null&&Jf(e),t.blockedOn=n,!1;e.shift()}return!0}function Sg(t,e,n){La(t)&&n.delete(e)}function dI(){xd=!1,zn!==null&&La(zn)&&(zn=null),jn!==null&&La(jn)&&(jn=null),Gn!==null&&La(Gn)&&(Gn=null),Uo.forEach(Sg),Vo.forEach(Sg)}function to(t,e){t.blockedOn===e&&(t.blockedOn=null,xd||(xd=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,dI)))}function zo(t){function e(i){return to(i,t)}if(0<ca.length){to(ca[0],t);for(var n=1;n<ca.length;n++){var r=ca[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zn!==null&&to(zn,t),jn!==null&&to(jn,t),Gn!==null&&to(Gn,t),Uo.forEach(e),Vo.forEach(e),n=0;n<_n.length;n++)r=_n[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)t0(n),n.blockedOn===null&&_n.shift()}var di=On.ReactCurrentBatchConfig,nl=!0;function fI(t,e,n,r){var i=ne,o=di.transition;di.transition=null;try{ne=1,Zf(t,e,n,r)}finally{ne=i,di.transition=o}}function hI(t,e,n,r){var i=ne,o=di.transition;di.transition=null;try{ne=4,Zf(t,e,n,r)}finally{ne=i,di.transition=o}}function Zf(t,e,n,r){if(nl){var i=bd(t,e,n,r);if(i===null)Sc(t,e,r,rl,n),Eg(t,r);else if(cI(i,t,e,n,r))r.stopPropagation();else if(Eg(t,r),e&4&&-1<uI.indexOf(t)){for(;i!==null;){var o=As(i);if(o!==null&&Xy(o),o=bd(t,e,n,r),o===null&&Sc(t,e,r,rl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Sc(t,e,r,null,n)}}var rl=null;function bd(t,e,n,r){if(rl=null,t=Qf(r),t=yr(t),t!==null)if(e=Br(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rl=t,null}function n0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eI()){case Yf:return 1;case qy:return 4;case el:case tI:return 16;case Ky:return 536870912;default:return 16}default:return 16}}var Bn=null,eh=null,_a=null;function r0(){if(_a)return _a;var t,e=eh,n=e.length,r,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return _a=i.slice(t,1<r?1-r:void 0)}function Fa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function da(){return!0}function Cg(){return!1}function kt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?da:Cg,this.isPropagationStopped=Cg,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=da)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=da)},persist:function(){},isPersistent:da}),e}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},th=kt(Bi),Ts=me({},Bi,{view:0,detail:0}),pI=kt(Ts),fc,hc,no,Ql=me({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==no&&(no&&t.type==="mousemove"?(fc=t.screenX-no.screenX,hc=t.screenY-no.screenY):hc=fc=0,no=t),fc)},movementY:function(t){return"movementY"in t?t.movementY:hc}}),Ig=kt(Ql),gI=me({},Ql,{dataTransfer:0}),mI=kt(gI),vI=me({},Ts,{relatedTarget:0}),pc=kt(vI),yI=me({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),wI=kt(yI),EI=me({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SI=kt(EI),CI=me({},Bi,{data:0}),Dg=kt(CI),II={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=xI[t])?!!e[t]:!1}function nh(){return bI}var TI=me({},Ts,{key:function(t){if(t.key){var e=II[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nh,charCode:function(t){return t.type==="keypress"?Fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AI=kt(TI),kI=me({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xg=kt(kI),PI=me({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nh}),NI=kt(PI),RI=me({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),OI=kt(RI),MI=me({},Ql,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$I=kt(MI),LI=[9,13,27,32],rh=xn&&"CompositionEvent"in window,Io=null;xn&&"documentMode"in document&&(Io=document.documentMode);var _I=xn&&"TextEvent"in window&&!Io,i0=xn&&(!rh||Io&&8<Io&&11>=Io),bg=String.fromCharCode(32),Tg=!1;function o0(t,e){switch(t){case"keyup":return LI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xr=!1;function FI(t,e){switch(t){case"compositionend":return s0(e);case"keypress":return e.which!==32?null:(Tg=!0,bg);case"textInput":return t=e.data,t===bg&&Tg?null:t;default:return null}}function BI(t,e){if(Xr)return t==="compositionend"||!rh&&o0(t,e)?(t=r0(),_a=eh=Bn=null,Xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return i0&&e.locale!=="ko"?null:e.data;default:return null}}var UI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UI[t.type]:e==="textarea"}function a0(t,e,n,r){Fy(r),e=il(e,"onChange"),0<e.length&&(n=new th("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Do=null,jo=null;function VI(t){y0(t,0)}function Yl(t){var e=ei(t);if(Ny(e))return t}function zI(t,e){if(t==="change")return e}var l0=!1;if(xn){var gc;if(xn){var mc="oninput"in document;if(!mc){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),mc=typeof kg.oninput=="function"}gc=mc}else gc=!1;l0=gc&&(!document.documentMode||9<document.documentMode)}function Pg(){Do&&(Do.detachEvent("onpropertychange",u0),jo=Do=null)}function u0(t){if(t.propertyName==="value"&&Yl(jo)){var e=[];a0(e,jo,t,Qf(t)),zy(VI,e)}}function jI(t,e,n){t==="focusin"?(Pg(),Do=e,jo=n,Do.attachEvent("onpropertychange",u0)):t==="focusout"&&Pg()}function GI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yl(jo)}function HI(t,e){if(t==="click")return Yl(e)}function WI(t,e){if(t==="input"||t==="change")return Yl(e)}function qI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:qI;function Go(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ld.call(e,i)||!en(t[i],e[i]))return!1}return!0}function Ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rg(t,e){var n=Ng(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ng(n)}}function c0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?c0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d0(){for(var t=window,e=Xa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xa(t.document)}return e}function ih(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function KI(t){var e=d0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&c0(n.ownerDocument.documentElement,n)){if(r!==null&&ih(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Rg(n,o);var s=Rg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QI=xn&&"documentMode"in document&&11>=document.documentMode,Jr=null,Td=null,xo=null,Ad=!1;function Og(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ad||Jr==null||Jr!==Xa(r)||(r=Jr,"selectionStart"in r&&ih(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xo&&Go(xo,r)||(xo=r,r=il(Td,"onSelect"),0<r.length&&(e=new th("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jr)))}function fa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zr={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionend:fa("Transition","TransitionEnd")},vc={},f0={};xn&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function Xl(t){if(vc[t])return vc[t];if(!Zr[t])return t;var e=Zr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in f0)return vc[t]=e[n];return t}var h0=Xl("animationend"),p0=Xl("animationiteration"),g0=Xl("animationstart"),m0=Xl("transitionend"),v0=new Map,Mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(t,e){v0.set(t,e),Fr(e,[t])}for(var yc=0;yc<Mg.length;yc++){var wc=Mg[yc],YI=wc.toLowerCase(),XI=wc[0].toUpperCase()+wc.slice(1);ar(YI,"on"+XI)}ar(h0,"onAnimationEnd");ar(p0,"onAnimationIteration");ar(g0,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(m0,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JI=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function $g(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,YC(r,e,void 0,t),t.currentTarget=null}function y0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;$g(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;$g(i,a,u),o=l}}}if(Za)throw t=Id,Za=!1,Id=null,t}function ae(t,e){var n=e[Od];n===void 0&&(n=e[Od]=new Set);var r=t+"__bubble";n.has(r)||(w0(e,t,2,!1),n.add(r))}function Ec(t,e,n){var r=0;e&&(r|=4),w0(n,t,r,e)}var ha="_reactListening"+Math.random().toString(36).slice(2);function Ho(t){if(!t[ha]){t[ha]=!0,by.forEach(function(n){n!=="selectionchange"&&(JI.has(n)||Ec(n,!1,t),Ec(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ha]||(e[ha]=!0,Ec("selectionchange",!1,e))}}function w0(t,e,n,r){switch(n0(e)){case 1:var i=fI;break;case 4:i=hI;break;default:i=Zf}n=i.bind(null,e,n,t),i=void 0,!Cd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=yr(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}zy(function(){var u=o,c=Qf(n),d=[];e:{var f=v0.get(t);if(f!==void 0){var h=th,m=t;switch(t){case"keypress":if(Fa(n)===0)break e;case"keydown":case"keyup":h=AI;break;case"focusin":m="focus",h=pc;break;case"focusout":m="blur",h=pc;break;case"beforeblur":case"afterblur":h=pc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=mI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=NI;break;case h0:case p0:case g0:h=wI;break;case m0:h=OI;break;case"scroll":h=pI;break;case"wheel":h=$I;break;case"copy":case"cut":case"paste":h=SI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=xg}var y=(e&4)!==0,E=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var p=u,v;p!==null;){v=p;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,g!==null&&(w=Bo(p,g),w!=null&&y.push(Wo(p,w,v)))),E)break;p=p.return}0<y.length&&(f=new h(f,m,null,n,c),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==Ed&&(m=n.relatedTarget||n.fromElement)&&(yr(m)||m[bn]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=u,m=m?yr(m):null,m!==null&&(E=Br(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=u),h!==m)){if(y=Ig,w="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=xg,w="onPointerLeave",g="onPointerEnter",p="pointer"),E=h==null?f:ei(h),v=m==null?f:ei(m),f=new y(w,p+"leave",h,n,c),f.target=E,f.relatedTarget=v,w=null,yr(c)===u&&(y=new y(g,p+"enter",m,n,c),y.target=v,y.relatedTarget=E,w=y),E=w,h&&m)t:{for(y=h,g=m,p=0,v=y;v;v=Gr(v))p++;for(v=0,w=g;w;w=Gr(w))v++;for(;0<p-v;)y=Gr(y),p--;for(;0<v-p;)g=Gr(g),v--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=Gr(y),g=Gr(g)}y=null}else y=null;h!==null&&Lg(d,f,h,y,!1),m!==null&&E!==null&&Lg(d,E,m,y,!0)}}e:{if(f=u?ei(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var S=zI;else if(Ag(f))if(l0)S=WI;else{S=GI;var C=jI}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=HI);if(S&&(S=S(t,u))){a0(d,S,n,c);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&gd(f,"number",f.value)}switch(C=u?ei(u):window,t){case"focusin":(Ag(C)||C.contentEditable==="true")&&(Jr=C,Td=u,xo=null);break;case"focusout":xo=Td=Jr=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,Og(d,n,c);break;case"selectionchange":if(QI)break;case"keydown":case"keyup":Og(d,n,c)}var x;if(rh)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Xr?o0(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(i0&&n.locale!=="ko"&&(Xr||A!=="onCompositionStart"?A==="onCompositionEnd"&&Xr&&(x=r0()):(Bn=c,eh="value"in Bn?Bn.value:Bn.textContent,Xr=!0)),C=il(u,A),0<C.length&&(A=new Dg(A,t,null,n,c),d.push({event:A,listeners:C}),x?A.data=x:(x=s0(n),x!==null&&(A.data=x)))),(x=_I?FI(t,n):BI(t,n))&&(u=il(u,"onBeforeInput"),0<u.length&&(c=new Dg("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=x))}y0(d,e)})}function Wo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function il(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bo(t,n),o!=null&&r.unshift(Wo(t,o,i)),o=Bo(t,e),o!=null&&r.push(Wo(t,o,i))),t=t.return}return r}function Gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lg(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Bo(n,o),l!=null&&s.unshift(Wo(n,l,a))):i||(l=Bo(n,o),l!=null&&s.push(Wo(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var ZI=/\r\n?/g,eD=/\u0000|\uFFFD/g;function _g(t){return(typeof t=="string"?t:""+t).replace(ZI,`
`).replace(eD,"")}function pa(t,e,n){if(e=_g(e),_g(t)!==e&&n)throw Error(D(425))}function ol(){}var kd=null,Pd=null;function Nd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rd=typeof setTimeout=="function"?setTimeout:void 0,tD=typeof clearTimeout=="function"?clearTimeout:void 0,Fg=typeof Promise=="function"?Promise:void 0,nD=typeof queueMicrotask=="function"?queueMicrotask:typeof Fg<"u"?function(t){return Fg.resolve(null).then(t).catch(rD)}:Rd;function rD(t){setTimeout(function(){throw t})}function Cc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zo(e)}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),ln="__reactFiber$"+Ui,qo="__reactProps$"+Ui,bn="__reactContainer$"+Ui,Od="__reactEvents$"+Ui,iD="__reactListeners$"+Ui,oD="__reactHandles$"+Ui;function yr(t){var e=t[ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bn]||n[ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bg(t);t!==null;){if(n=t[ln])return n;t=Bg(t)}return e}t=n,n=t.parentNode}return null}function As(t){return t=t[ln]||t[bn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ei(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Jl(t){return t[qo]||null}var Md=[],ti=-1;function lr(t){return{current:t}}function ce(t){0>ti||(t.current=Md[ti],Md[ti]=null,ti--)}function se(t,e){ti++,Md[ti]=t.current,t.current=e}var nr={},ot=lr(nr),vt=lr(!1),Ar=nr;function Si(t,e){var n=t.type.contextTypes;if(!n)return nr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yt(t){return t=t.childContextTypes,t!=null}function sl(){ce(vt),ce(ot)}function Ug(t,e,n){if(ot.current!==nr)throw Error(D(168));se(ot,e),se(vt,n)}function E0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,jC(t)||"Unknown",i));return me({},n,r)}function al(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nr,Ar=ot.current,se(ot,t),se(vt,vt.current),!0}function Vg(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=E0(t,e,Ar),r.__reactInternalMemoizedMergedChildContext=t,ce(vt),ce(ot),se(ot,t)):ce(vt),se(vt,n)}var wn=null,Zl=!1,Ic=!1;function S0(t){wn===null?wn=[t]:wn.push(t)}function sD(t){Zl=!0,S0(t)}function ur(){if(!Ic&&wn!==null){Ic=!0;var t=0,e=ne;try{var n=wn;for(ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wn=null,Zl=!1}catch(i){throw wn!==null&&(wn=wn.slice(t+1)),Wy(Yf,ur),i}finally{ne=e,Ic=!1}}return null}var ni=[],ri=0,ll=null,ul=0,$t=[],Lt=0,kr=null,En=1,Sn="";function pr(t,e){ni[ri++]=ul,ni[ri++]=ll,ll=t,ul=e}function C0(t,e,n){$t[Lt++]=En,$t[Lt++]=Sn,$t[Lt++]=kr,kr=t;var r=En;t=Sn;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var o=32-Jt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,En=1<<32-Jt(e)+i|n<<i|r,Sn=o+t}else En=1<<o|n<<i|r,Sn=t}function oh(t){t.return!==null&&(pr(t,1),C0(t,1,0))}function sh(t){for(;t===ll;)ll=ni[--ri],ni[ri]=null,ul=ni[--ri],ni[ri]=null;for(;t===kr;)kr=$t[--Lt],$t[Lt]=null,Sn=$t[--Lt],$t[Lt]=null,En=$t[--Lt],$t[Lt]=null}var It=null,St=null,he=!1,Qt=null;function I0(t,e){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,It=t,St=Hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,It=t,St=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=kr!==null?{id:En,overflow:Sn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,It=t,St=null,!0):!1;default:return!1}}function $d(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ld(t){if(he){var e=St;if(e){var n=e;if(!zg(t,e)){if($d(t))throw Error(D(418));e=Hn(n.nextSibling);var r=It;e&&zg(t,e)?I0(r,n):(t.flags=t.flags&-4097|2,he=!1,It=t)}}else{if($d(t))throw Error(D(418));t.flags=t.flags&-4097|2,he=!1,It=t}}}function jg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function ga(t){if(t!==It)return!1;if(!he)return jg(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Nd(t.type,t.memoizedProps)),e&&(e=St)){if($d(t))throw D0(),Error(D(418));for(;e;)I0(t,e),e=Hn(e.nextSibling)}if(jg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){St=Hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}St=null}}else St=It?Hn(t.stateNode.nextSibling):null;return!0}function D0(){for(var t=St;t;)t=Hn(t.nextSibling)}function Ci(){St=It=null,he=!1}function ah(t){Qt===null?Qt=[t]:Qt.push(t)}var aD=On.ReactCurrentBatchConfig;function qt(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var cl=lr(null),dl=null,ii=null,lh=null;function uh(){lh=ii=dl=null}function ch(t){var e=cl.current;ce(cl),t._currentValue=e}function _d(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fi(t,e){dl=t,lh=ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mt=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(lh!==t)if(t={context:t,memoizedValue:e,next:null},ii===null){if(dl===null)throw Error(D(308));ii=t,dl.dependencies={lanes:0,firstContext:t}}else ii=ii.next=t;return e}var wr=null;function dh(t){wr===null?wr=[t]:wr.push(t)}function x0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dh(e)):(n.next=i.next,i.next=n),e.interleaved=n,Tn(t,r)}function Tn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ln=!1;function fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function In(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Tn(t,n)}return i=r.interleaved,i===null?(e.next=e,dh(r)):(e.next=i.next,i.next=e),r.interleaved=e,Tn(t,n)}function Ba(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xf(t,n)}}function Gg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fl(t,e,n,r){var i=t.updateQueue;Ln=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(f=e,h=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=me({},d,f);break e;case 2:Ln=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Nr|=s,t.lanes=s,t.memoizedState=d}}function Hg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var T0=new xy.Component().refs;function Fd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eu={isMounted:function(t){return(t=t._reactInternals)?Br(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ct(),i=Kn(t),o=In(r,i);o.payload=e,n!=null&&(o.callback=n),e=Wn(t,o,i),e!==null&&(Zt(e,t,i,r),Ba(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ct(),i=Kn(t),o=In(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Wn(t,o,i),e!==null&&(Zt(e,t,i,r),Ba(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ct(),r=Kn(t),i=In(n,r);i.tag=2,e!=null&&(i.callback=e),e=Wn(t,i,r),e!==null&&(Zt(e,t,r,n),Ba(e,t,r))}};function Wg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Go(n,r)||!Go(i,o):!0}function A0(t,e,n){var r=!1,i=nr,o=e.contextType;return typeof o=="object"&&o!==null?o=Gt(o):(i=yt(e)?Ar:ot.current,r=e.contextTypes,o=(r=r!=null)?Si(t,i):nr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function qg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&eu.enqueueReplaceState(e,e.state,null)}function Bd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=T0,fh(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Gt(o):(o=yt(e)?Ar:ot.current,i.context=Si(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Fd(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&eu.enqueueReplaceState(i,i.state,null),fl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ro(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===T0&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function ma(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kg(t){var e=t._init;return e(t._payload)}function k0(t){function e(g,p){if(t){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Qn(g,p),g.index=0,g.sibling=null,g}function o(g,p,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,v,w){return p===null||p.tag!==6?(p=Pc(v,g.mode,w),p.return=g,p):(p=i(p,v),p.return=g,p)}function l(g,p,v,w){var S=v.type;return S===Yr?c(g,p,v.props.children,w,v.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===$n&&Kg(S)===p.type)?(w=i(p,v.props),w.ref=ro(g,p,v),w.return=g,w):(w=Ha(v.type,v.key,v.props,null,g.mode,w),w.ref=ro(g,p,v),w.return=g,w)}function u(g,p,v,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Nc(v,g.mode,w),p.return=g,p):(p=i(p,v.children||[]),p.return=g,p)}function c(g,p,v,w,S){return p===null||p.tag!==7?(p=xr(v,g.mode,w,S),p.return=g,p):(p=i(p,v),p.return=g,p)}function d(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Pc(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case oa:return v=Ha(p.type,p.key,p.props,null,g.mode,v),v.ref=ro(g,null,p),v.return=g,v;case Qr:return p=Nc(p,g.mode,v),p.return=g,p;case $n:var w=p._init;return d(g,w(p._payload),v)}if(ho(p)||Ji(p))return p=xr(p,g.mode,v,null),p.return=g,p;ma(g,p)}return null}function f(g,p,v,w){var S=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(g,p,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case oa:return v.key===S?l(g,p,v,w):null;case Qr:return v.key===S?u(g,p,v,w):null;case $n:return S=v._init,f(g,p,S(v._payload),w)}if(ho(v)||Ji(v))return S!==null?null:c(g,p,v,w,null);ma(g,v)}return null}function h(g,p,v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(v)||null,a(p,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oa:return g=g.get(w.key===null?v:w.key)||null,l(p,g,w,S);case Qr:return g=g.get(w.key===null?v:w.key)||null,u(p,g,w,S);case $n:var C=w._init;return h(g,p,v,C(w._payload),S)}if(ho(w)||Ji(w))return g=g.get(v)||null,c(p,g,w,S,null);ma(p,w)}return null}function m(g,p,v,w){for(var S=null,C=null,x=p,A=p=0,O=null;x!==null&&A<v.length;A++){x.index>A?(O=x,x=null):O=x.sibling;var M=f(g,x,v[A],w);if(M===null){x===null&&(x=O);break}t&&x&&M.alternate===null&&e(g,x),p=o(M,p,A),C===null?S=M:C.sibling=M,C=M,x=O}if(A===v.length)return n(g,x),he&&pr(g,A),S;if(x===null){for(;A<v.length;A++)x=d(g,v[A],w),x!==null&&(p=o(x,p,A),C===null?S=x:C.sibling=x,C=x);return he&&pr(g,A),S}for(x=r(g,x);A<v.length;A++)O=h(x,g,A,v[A],w),O!==null&&(t&&O.alternate!==null&&x.delete(O.key===null?A:O.key),p=o(O,p,A),C===null?S=O:C.sibling=O,C=O);return t&&x.forEach(function(W){return e(g,W)}),he&&pr(g,A),S}function y(g,p,v,w){var S=Ji(v);if(typeof S!="function")throw Error(D(150));if(v=S.call(v),v==null)throw Error(D(151));for(var C=S=null,x=p,A=p=0,O=null,M=v.next();x!==null&&!M.done;A++,M=v.next()){x.index>A?(O=x,x=null):O=x.sibling;var W=f(g,x,M.value,w);if(W===null){x===null&&(x=O);break}t&&x&&W.alternate===null&&e(g,x),p=o(W,p,A),C===null?S=W:C.sibling=W,C=W,x=O}if(M.done)return n(g,x),he&&pr(g,A),S;if(x===null){for(;!M.done;A++,M=v.next())M=d(g,M.value,w),M!==null&&(p=o(M,p,A),C===null?S=M:C.sibling=M,C=M);return he&&pr(g,A),S}for(x=r(g,x);!M.done;A++,M=v.next())M=h(x,g,A,M.value,w),M!==null&&(t&&M.alternate!==null&&x.delete(M.key===null?A:M.key),p=o(M,p,A),C===null?S=M:C.sibling=M,C=M);return t&&x.forEach(function(Pe){return e(g,Pe)}),he&&pr(g,A),S}function E(g,p,v,w){if(typeof v=="object"&&v!==null&&v.type===Yr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case oa:e:{for(var S=v.key,C=p;C!==null;){if(C.key===S){if(S=v.type,S===Yr){if(C.tag===7){n(g,C.sibling),p=i(C,v.props.children),p.return=g,g=p;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===$n&&Kg(S)===C.type){n(g,C.sibling),p=i(C,v.props),p.ref=ro(g,C,v),p.return=g,g=p;break e}n(g,C);break}else e(g,C);C=C.sibling}v.type===Yr?(p=xr(v.props.children,g.mode,w,v.key),p.return=g,g=p):(w=Ha(v.type,v.key,v.props,null,g.mode,w),w.ref=ro(g,p,v),w.return=g,g=w)}return s(g);case Qr:e:{for(C=v.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(g,p.sibling),p=i(p,v.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Nc(v,g.mode,w),p.return=g,g=p}return s(g);case $n:return C=v._init,E(g,p,C(v._payload),w)}if(ho(v))return m(g,p,v,w);if(Ji(v))return y(g,p,v,w);ma(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,v),p.return=g,g=p):(n(g,p),p=Pc(v,g.mode,w),p.return=g,g=p),s(g)):n(g,p)}return E}var Ii=k0(!0),P0=k0(!1),ks={},hn=lr(ks),Ko=lr(ks),Qo=lr(ks);function Er(t){if(t===ks)throw Error(D(174));return t}function hh(t,e){switch(se(Qo,e),se(Ko,t),se(hn,ks),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vd(e,t)}ce(hn),se(hn,e)}function Di(){ce(hn),ce(Ko),ce(Qo)}function N0(t){Er(Qo.current);var e=Er(hn.current),n=vd(e,t.type);e!==n&&(se(Ko,t),se(hn,n))}function ph(t){Ko.current===t&&(ce(hn),ce(Ko))}var pe=lr(0);function hl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dc=[];function gh(){for(var t=0;t<Dc.length;t++)Dc[t]._workInProgressVersionPrimary=null;Dc.length=0}var Ua=On.ReactCurrentDispatcher,xc=On.ReactCurrentBatchConfig,Pr=0,ge=null,be=null,Oe=null,pl=!1,bo=!1,Yo=0,lD=0;function Qe(){throw Error(D(321))}function mh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function vh(t,e,n,r,i,o){if(Pr=o,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ua.current=t===null||t.memoizedState===null?fD:hD,t=n(r,i),bo){o=0;do{if(bo=!1,Yo=0,25<=o)throw Error(D(301));o+=1,Oe=be=null,e.updateQueue=null,Ua.current=pD,t=n(r,i)}while(bo)}if(Ua.current=gl,e=be!==null&&be.next!==null,Pr=0,Oe=be=ge=null,pl=!1,e)throw Error(D(300));return t}function yh(){var t=Yo!==0;return Yo=0,t}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ge.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function Ht(){if(be===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=Oe===null?ge.memoizedState:Oe.next;if(e!==null)Oe=e,be=t;else{if(t===null)throw Error(D(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Oe===null?ge.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function Xo(t,e){return typeof e=="function"?e(t):e}function bc(t){var e=Ht(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=be,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Pr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,ge.lanes|=c,Nr|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,en(r,e.memoizedState)||(mt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ge.lanes|=o,Nr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Tc(t){var e=Ht(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);en(o,e.memoizedState)||(mt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function R0(){}function O0(t,e){var n=ge,r=Ht(),i=e(),o=!en(r.memoizedState,i);if(o&&(r.memoizedState=i,mt=!0),r=r.queue,wh(L0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,Jo(9,$0.bind(null,n,r,i,e),void 0,null),Me===null)throw Error(D(349));Pr&30||M0(n,e,i)}return i}function M0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $0(t,e,n,r){e.value=n,e.getSnapshot=r,_0(e)&&F0(t)}function L0(t,e,n){return n(function(){_0(e)&&F0(t)})}function _0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function F0(t){var e=Tn(t,1);e!==null&&Zt(e,t,1,-1)}function Qg(t){var e=an();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:t},e.queue=t,t=t.dispatch=dD.bind(null,ge,t),[e.memoizedState,t]}function Jo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function B0(){return Ht().memoizedState}function Va(t,e,n,r){var i=an();ge.flags|=t,i.memoizedState=Jo(1|e,n,void 0,r===void 0?null:r)}function tu(t,e,n,r){var i=Ht();r=r===void 0?null:r;var o=void 0;if(be!==null){var s=be.memoizedState;if(o=s.destroy,r!==null&&mh(r,s.deps)){i.memoizedState=Jo(e,n,o,r);return}}ge.flags|=t,i.memoizedState=Jo(1|e,n,o,r)}function Yg(t,e){return Va(8390656,8,t,e)}function wh(t,e){return tu(2048,8,t,e)}function U0(t,e){return tu(4,2,t,e)}function V0(t,e){return tu(4,4,t,e)}function z0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function j0(t,e,n){return n=n!=null?n.concat([t]):null,tu(4,4,z0.bind(null,e,t),n)}function Eh(){}function G0(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function H0(t,e){var n=Ht();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function W0(t,e,n){return Pr&21?(en(n,e)||(n=Qy(),ge.lanes|=n,Nr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mt=!0),t.memoizedState=n)}function uD(t,e){var n=ne;ne=n!==0&&4>n?n:4,t(!0);var r=xc.transition;xc.transition={};try{t(!1),e()}finally{ne=n,xc.transition=r}}function q0(){return Ht().memoizedState}function cD(t,e,n){var r=Kn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},K0(t))Q0(e,n);else if(n=x0(t,e,n,r),n!==null){var i=ct();Zt(n,t,r,i),Y0(n,e,r)}}function dD(t,e,n){var r=Kn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(K0(t))Q0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,en(a,s)){var l=e.interleaved;l===null?(i.next=i,dh(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=x0(t,e,i,r),n!==null&&(i=ct(),Zt(n,t,r,i),Y0(n,e,r))}}function K0(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function Q0(t,e){bo=pl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Y0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xf(t,n)}}var gl={readContext:Gt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},fD={readContext:Gt,useCallback:function(t,e){return an().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:Yg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Va(4194308,4,z0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Va(4194308,4,t,e)},useInsertionEffect:function(t,e){return Va(4,2,t,e)},useMemo:function(t,e){var n=an();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=an();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cD.bind(null,ge,t),[r.memoizedState,t]},useRef:function(t){var e=an();return t={current:t},e.memoizedState=t},useState:Qg,useDebugValue:Eh,useDeferredValue:function(t){return an().memoizedState=t},useTransition:function(){var t=Qg(!1),e=t[0];return t=uD.bind(null,t[1]),an().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ge,i=an();if(he){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Me===null)throw Error(D(349));Pr&30||M0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Yg(L0.bind(null,r,o,t),[t]),r.flags|=2048,Jo(9,$0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=an(),e=Me.identifierPrefix;if(he){var n=Sn,r=En;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},hD={readContext:Gt,useCallback:G0,useContext:Gt,useEffect:wh,useImperativeHandle:j0,useInsertionEffect:U0,useLayoutEffect:V0,useMemo:H0,useReducer:bc,useRef:B0,useState:function(){return bc(Xo)},useDebugValue:Eh,useDeferredValue:function(t){var e=Ht();return W0(e,be.memoizedState,t)},useTransition:function(){var t=bc(Xo)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:R0,useSyncExternalStore:O0,useId:q0,unstable_isNewReconciler:!1},pD={readContext:Gt,useCallback:G0,useContext:Gt,useEffect:wh,useImperativeHandle:j0,useInsertionEffect:U0,useLayoutEffect:V0,useMemo:H0,useReducer:Tc,useRef:B0,useState:function(){return Tc(Xo)},useDebugValue:Eh,useDeferredValue:function(t){var e=Ht();return be===null?e.memoizedState=t:W0(e,be.memoizedState,t)},useTransition:function(){var t=Tc(Xo)[0],e=Ht().memoizedState;return[t,e]},useMutableSource:R0,useSyncExternalStore:O0,useId:q0,unstable_isNewReconciler:!1};function xi(t,e){try{var n="",r=e;do n+=zC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ac(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ud(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gD=typeof WeakMap=="function"?WeakMap:Map;function X0(t,e,n){n=In(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vl||(vl=!0,Yd=r),Ud(t,e)},n}function J0(t,e,n){n=In(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ud(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ud(t,e),typeof r!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Xg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kD.bind(null,t,e,n),e.then(t,t))}function Jg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=In(-1,1),e.tag=2,Wn(n,e,1))),n.lanes|=1),t)}var mD=On.ReactCurrentOwner,mt=!1;function lt(t,e,n,r){e.child=t===null?P0(e,null,n,r):Ii(e,t.child,n,r)}function em(t,e,n,r,i){n=n.render;var o=e.ref;return fi(e,i),r=vh(t,e,n,r,o,i),n=yh(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,An(t,e,i)):(he&&n&&oh(e),e.flags|=1,lt(t,e,r,i),e.child)}function tm(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ah(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Z0(t,e,o,r,i)):(t=Ha(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Go,n(s,r)&&t.ref===e.ref)return An(t,e,i)}return e.flags|=1,t=Qn(o,r),t.ref=e.ref,t.return=e,e.child=t}function Z0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Go(o,r)&&t.ref===e.ref)if(mt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(mt=!0);else return e.lanes=t.lanes,An(t,e,i)}return Vd(t,e,n,r,i)}function e1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(si,Et),Et|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,se(si,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,se(si,Et),Et|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,se(si,Et),Et|=r;return lt(t,e,i,n),e.child}function t1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Vd(t,e,n,r,i){var o=yt(n)?Ar:ot.current;return o=Si(e,o),fi(e,i),n=vh(t,e,n,r,o,i),r=yh(),t!==null&&!mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,An(t,e,i)):(he&&r&&oh(e),e.flags|=1,lt(t,e,n,i),e.child)}function nm(t,e,n,r,i){if(yt(n)){var o=!0;al(e)}else o=!1;if(fi(e,i),e.stateNode===null)za(t,e),A0(e,n,r),Bd(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=yt(n)?Ar:ot.current,u=Si(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&qg(e,s,r,u),Ln=!1;var f=e.memoizedState;s.state=f,fl(e,r,s,i),l=e.memoizedState,a!==r||f!==l||vt.current||Ln?(typeof c=="function"&&(Fd(e,n,c,r),l=e.memoizedState),(a=Ln||Wg(e,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,b0(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:qt(e.type,a),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=yt(n)?Ar:ot.current,l=Si(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&qg(e,s,r,l),Ln=!1,f=e.memoizedState,s.state=f,fl(e,r,s,i);var m=e.memoizedState;a!==d||f!==m||vt.current||Ln?(typeof h=="function"&&(Fd(e,n,h,r),m=e.memoizedState),(u=Ln||Wg(e,n,u,r,f,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return zd(t,e,n,r,o,i)}function zd(t,e,n,r,i,o){t1(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Vg(e,n,!1),An(t,e,o);r=e.stateNode,mD.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ii(e,t.child,null,o),e.child=Ii(e,null,a,o)):lt(t,e,a,o),e.memoizedState=r.state,i&&Vg(e,n,!0),e.child}function n1(t){var e=t.stateNode;e.pendingContext?Ug(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ug(t,e.context,!1),hh(t,e.containerInfo)}function rm(t,e,n,r,i){return Ci(),ah(i),e.flags|=256,lt(t,e,n,r),e.child}var jd={dehydrated:null,treeContext:null,retryLane:0};function Gd(t){return{baseLanes:t,cachePool:null,transitions:null}}function r1(t,e,n){var r=e.pendingProps,i=pe.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),se(pe,i&1),t===null)return Ld(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=iu(s,r,0,null),t=xr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Gd(n),e.memoizedState=jd,t):Sh(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return vD(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qn(a,o):(o=xr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Gd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=jd,r}return o=t.child,t=o.sibling,r=Qn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sh(t,e){return e=iu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function va(t,e,n,r){return r!==null&&ah(r),Ii(e,t.child,null,n),t=Sh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vD(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ac(Error(D(422))),va(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=iu({mode:"visible",children:r.children},i,0,null),o=xr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ii(e,t.child,null,s),e.child.memoizedState=Gd(s),e.memoizedState=jd,o);if(!(e.mode&1))return va(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(D(419)),r=Ac(o,r,void 0),va(t,e,s,r)}if(a=(s&t.childLanes)!==0,mt||a){if(r=Me,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Tn(t,i),Zt(r,t,i,-1))}return Th(),r=Ac(Error(D(421))),va(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=PD.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,St=Hn(i.nextSibling),It=e,he=!0,Qt=null,t!==null&&($t[Lt++]=En,$t[Lt++]=Sn,$t[Lt++]=kr,En=t.id,Sn=t.overflow,kr=e),e=Sh(e,r.children),e.flags|=4096,e)}function im(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_d(t.return,e,n)}function kc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function i1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(lt(t,e,r.children,n),r=pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&im(t,n,e);else if(t.tag===19)im(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(se(pe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),kc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}kc(e,!0,n,null,o);break;case"together":kc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function za(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function An(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Nr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yD(t,e,n){switch(e.tag){case 3:n1(e),Ci();break;case 5:N0(e);break;case 1:yt(e.type)&&al(e);break;case 4:hh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;se(cl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(se(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?r1(t,e,n):(se(pe,pe.current&1),t=An(t,e,n),t!==null?t.sibling:null);se(pe,pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return i1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),se(pe,pe.current),r)break;return null;case 22:case 23:return e.lanes=0,e1(t,e,n)}return An(t,e,n)}var o1,Hd,s1,a1;o1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hd=function(){};s1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Er(hn.current);var o=null;switch(n){case"input":i=hd(t,i),r=hd(t,r),o=[];break;case"select":i=me({},i,{value:void 0}),r=me({},r,{value:void 0}),o=[];break;case"textarea":i=md(t,i),r=md(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ol)}yd(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_o.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_o.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ae("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};a1=function(t,e,n,r){n!==r&&(e.flags|=4)};function io(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wD(t,e,n){var r=e.pendingProps;switch(sh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(e),null;case 1:return yt(e.type)&&sl(),Ye(e),null;case 3:return r=e.stateNode,Di(),ce(vt),ce(ot),gh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ga(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qt!==null&&(Zd(Qt),Qt=null))),Hd(t,e),Ye(e),null;case 5:ph(e);var i=Er(Qo.current);if(n=e.type,t!==null&&e.stateNode!=null)s1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return Ye(e),null}if(t=Er(hn.current),ga(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ln]=e,r[qo]=o,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<go.length;i++)ae(go[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":hg(r,o),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ae("invalid",r);break;case"textarea":gg(r,o),ae("invalid",r)}yd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&pa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&pa(r.textContent,a,t),i=["children",""+a]):_o.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ae("scroll",r)}switch(n){case"input":sa(r),pg(r,o,!0);break;case"textarea":sa(r),mg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ol)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=My(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ln]=e,t[qo]=r,o1(t,e,!1,!1),e.stateNode=t;e:{switch(s=wd(n,r),n){case"dialog":ae("cancel",t),ae("close",t),i=r;break;case"iframe":case"object":case"embed":ae("load",t),i=r;break;case"video":case"audio":for(i=0;i<go.length;i++)ae(go[i],t);i=r;break;case"source":ae("error",t),i=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),i=r;break;case"details":ae("toggle",t),i=r;break;case"input":hg(t,r),i=hd(t,r),ae("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=me({},r,{value:void 0}),ae("invalid",t);break;case"textarea":gg(t,r),i=md(t,r),ae("invalid",t);break;default:i=r}yd(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?_y(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$y(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fo(t,l):typeof l=="number"&&Fo(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(_o.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ae("scroll",t):l!=null&&Hf(t,o,l,s))}switch(n){case"input":sa(t),pg(t,r,!1);break;case"textarea":sa(t),mg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+tr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?li(t,!!r.multiple,o,!1):r.defaultValue!=null&&li(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ol)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ye(e),null;case 6:if(t&&e.stateNode!=null)a1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=Er(Qo.current),Er(hn.current),ga(e)){if(r=e.stateNode,n=e.memoizedProps,r[ln]=e,(o=r.nodeValue!==n)&&(t=It,t!==null))switch(t.tag){case 3:pa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ln]=e,e.stateNode=r}return Ye(e),null;case 13:if(ce(pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&St!==null&&e.mode&1&&!(e.flags&128))D0(),Ci(),e.flags|=98560,o=!1;else if(o=ga(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(D(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[ln]=e}else Ci(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ye(e),o=!1}else Qt!==null&&(Zd(Qt),Qt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?Ae===0&&(Ae=3):Th())),e.updateQueue!==null&&(e.flags|=4),Ye(e),null);case 4:return Di(),Hd(t,e),t===null&&Ho(e.stateNode.containerInfo),Ye(e),null;case 10:return ch(e.type._context),Ye(e),null;case 17:return yt(e.type)&&sl(),Ye(e),null;case 19:if(ce(pe),o=e.memoizedState,o===null)return Ye(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)io(o,!1);else{if(Ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=hl(t),s!==null){for(e.flags|=128,io(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return se(pe,pe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Se()>bi&&(e.flags|=128,r=!0,io(o,!1),e.lanes=4194304)}else{if(!r)if(t=hl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),io(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!he)return Ye(e),null}else 2*Se()-o.renderingStartTime>bi&&n!==1073741824&&(e.flags|=128,r=!0,io(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Se(),e.sibling=null,n=pe.current,se(pe,r?n&1|2:n&1),e):(Ye(e),null);case 22:case 23:return bh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Et&1073741824&&(Ye(e),e.subtreeFlags&6&&(e.flags|=8192)):Ye(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function ED(t,e){switch(sh(e),e.tag){case 1:return yt(e.type)&&sl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Di(),ce(vt),ce(ot),gh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ph(e),null;case 13:if(ce(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Ci()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ce(pe),null;case 4:return Di(),null;case 10:return ch(e.type._context),null;case 22:case 23:return bh(),null;case 24:return null;default:return null}}var ya=!1,Ze=!1,SD=typeof WeakSet=="function"?WeakSet:Set,N=null;function oi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(t,e,r)}else n.current=null}function Wd(t,e,n){try{n()}catch(r){ye(t,e,r)}}var om=!1;function CD(t,e){if(kd=nl,t=d0(),ih(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pd={focusedElem:t,selectionRange:n},nl=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,E=m.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:qt(e.type,y),E);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){ye(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return m=om,om=!1,m}function To(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Wd(e,n,o)}i=i.next}while(i!==r)}}function nu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function l1(t){var e=t.alternate;e!==null&&(t.alternate=null,l1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ln],delete e[qo],delete e[Od],delete e[iD],delete e[oD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function u1(t){return t.tag===5||t.tag===3||t.tag===4}function sm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ol));else if(r!==4&&(t=t.child,t!==null))for(Kd(t,e,n),t=t.sibling;t!==null;)Kd(t,e,n),t=t.sibling}function Qd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qd(t,e,n),t=t.sibling;t!==null;)Qd(t,e,n),t=t.sibling}var Ve=null,Kt=!1;function Mn(t,e,n){for(n=n.child;n!==null;)c1(t,e,n),n=n.sibling}function c1(t,e,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Kl,n)}catch{}switch(n.tag){case 5:Ze||oi(n,e);case 6:var r=Ve,i=Kt;Ve=null,Mn(t,e,n),Ve=r,Kt=i,Ve!==null&&(Kt?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Kt?(t=Ve,n=n.stateNode,t.nodeType===8?Cc(t.parentNode,n):t.nodeType===1&&Cc(t,n),zo(t)):Cc(Ve,n.stateNode));break;case 4:r=Ve,i=Kt,Ve=n.stateNode.containerInfo,Kt=!0,Mn(t,e,n),Ve=r,Kt=i;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Wd(n,e,s),i=i.next}while(i!==r)}Mn(t,e,n);break;case 1:if(!Ze&&(oi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,e,a)}Mn(t,e,n);break;case 21:Mn(t,e,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,Mn(t,e,n),Ze=r):Mn(t,e,n);break;default:Mn(t,e,n)}}function am(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SD),e.forEach(function(r){var i=ND.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ve=a.stateNode,Kt=!1;break e;case 3:Ve=a.stateNode.containerInfo,Kt=!0;break e;case 4:Ve=a.stateNode.containerInfo,Kt=!0;break e}a=a.return}if(Ve===null)throw Error(D(160));c1(o,s,i),Ve=null,Kt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ye(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)d1(e,t),e=e.sibling}function d1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wt(e,t),sn(t),r&4){try{To(3,t,t.return),nu(3,t)}catch(y){ye(t,t.return,y)}try{To(5,t,t.return)}catch(y){ye(t,t.return,y)}}break;case 1:Wt(e,t),sn(t),r&512&&n!==null&&oi(n,n.return);break;case 5:if(Wt(e,t),sn(t),r&512&&n!==null&&oi(n,n.return),t.flags&32){var i=t.stateNode;try{Fo(i,"")}catch(y){ye(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ry(i,o),wd(a,s);var u=wd(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?_y(i,d):c==="dangerouslySetInnerHTML"?$y(i,d):c==="children"?Fo(i,d):Hf(i,c,d,u)}switch(a){case"input":pd(i,o);break;case"textarea":Oy(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?li(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?li(i,!!o.multiple,o.defaultValue,!0):li(i,!!o.multiple,o.multiple?[]:"",!1))}i[qo]=o}catch(y){ye(t,t.return,y)}}break;case 6:if(Wt(e,t),sn(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){ye(t,t.return,y)}}break;case 3:if(Wt(e,t),sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zo(e.containerInfo)}catch(y){ye(t,t.return,y)}break;case 4:Wt(e,t),sn(t);break;case 13:Wt(e,t),sn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Dh=Se())),r&4&&am(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ze=(u=Ze)||c,Wt(e,t),Ze=u):Wt(e,t),sn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(N=t,c=t.child;c!==null;){for(d=N=c;N!==null;){switch(f=N,h=f.child,f.tag){case 0:case 11:case 14:case 15:To(4,f,f.return);break;case 1:oi(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){ye(r,n,y)}}break;case 5:oi(f,f.return);break;case 22:if(f.memoizedState!==null){um(d);continue}}h!==null?(h.return=f,N=h):um(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ly("display",s))}catch(y){ye(t,t.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){ye(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wt(e,t),sn(t),r&4&&am(t);break;case 21:break;default:Wt(e,t),sn(t)}}function sn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(u1(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fo(i,""),r.flags&=-33);var o=sm(t);Qd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=sm(t);Kd(t,a,s);break;default:throw Error(D(161))}}catch(l){ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ID(t,e,n){N=t,f1(t)}function f1(t,e,n){for(var r=(t.mode&1)!==0;N!==null;){var i=N,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ya;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ze;a=ya;var u=Ze;if(ya=s,(Ze=l)&&!u)for(N=i;N!==null;)s=N,l=s.child,s.tag===22&&s.memoizedState!==null?cm(i):l!==null?(l.return=s,N=l):cm(i);for(;o!==null;)N=o,f1(o),o=o.sibling;N=i,ya=a,Ze=u}lm(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,N=o):lm(t)}}function lm(t){for(;N!==null;){var e=N;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ze||nu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:qt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Hg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&zo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Ze||e.flags&512&&qd(e)}catch(f){ye(e,e.return,f)}}if(e===t){N=null;break}if(n=e.sibling,n!==null){n.return=e.return,N=n;break}N=e.return}}function um(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var n=e.sibling;if(n!==null){n.return=e.return,N=n;break}N=e.return}}function cm(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{nu(4,e)}catch(l){ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ye(e,i,l)}}var o=e.return;try{qd(e)}catch(l){ye(e,o,l)}break;case 5:var s=e.return;try{qd(e)}catch(l){ye(e,s,l)}}}catch(l){ye(e,e.return,l)}if(e===t){N=null;break}var a=e.sibling;if(a!==null){a.return=e.return,N=a;break}N=e.return}}var DD=Math.ceil,ml=On.ReactCurrentDispatcher,Ch=On.ReactCurrentOwner,Vt=On.ReactCurrentBatchConfig,X=0,Me=null,De=null,He=0,Et=0,si=lr(0),Ae=0,Zo=null,Nr=0,ru=0,Ih=0,Ao=null,gt=null,Dh=0,bi=1/0,yn=null,vl=!1,Yd=null,qn=null,wa=!1,Un=null,yl=0,ko=0,Xd=null,ja=-1,Ga=0;function ct(){return X&6?Se():ja!==-1?ja:ja=Se()}function Kn(t){return t.mode&1?X&2&&He!==0?He&-He:aD.transition!==null?(Ga===0&&(Ga=Qy()),Ga):(t=ne,t!==0||(t=window.event,t=t===void 0?16:n0(t.type)),t):1}function Zt(t,e,n,r){if(50<ko)throw ko=0,Xd=null,Error(D(185));bs(t,n,r),(!(X&2)||t!==Me)&&(t===Me&&(!(X&2)&&(ru|=n),Ae===4&&Fn(t,He)),wt(t,r),n===1&&X===0&&!(e.mode&1)&&(bi=Se()+500,Zl&&ur()))}function wt(t,e){var n=t.callbackNode;aI(t,e);var r=tl(t,t===Me?He:0);if(r===0)n!==null&&wg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wg(n),e===1)t.tag===0?sD(dm.bind(null,t)):S0(dm.bind(null,t)),nD(function(){!(X&6)&&ur()}),n=null;else{switch(Yy(r)){case 1:n=Yf;break;case 4:n=qy;break;case 16:n=el;break;case 536870912:n=Ky;break;default:n=el}n=E1(n,h1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h1(t,e){if(ja=-1,Ga=0,X&6)throw Error(D(327));var n=t.callbackNode;if(hi()&&t.callbackNode!==n)return null;var r=tl(t,t===Me?He:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wl(t,r);else{e=r;var i=X;X|=2;var o=g1();(Me!==t||He!==e)&&(yn=null,bi=Se()+500,Dr(t,e));do try{TD();break}catch(a){p1(t,a)}while(1);uh(),ml.current=o,X=i,De!==null?e=0:(Me=null,He=0,e=Ae)}if(e!==0){if(e===2&&(i=Dd(t),i!==0&&(r=i,e=Jd(t,i))),e===1)throw n=Zo,Dr(t,0),Fn(t,r),wt(t,Se()),n;if(e===6)Fn(t,r);else{if(i=t.current.alternate,!(r&30)&&!xD(i)&&(e=wl(t,r),e===2&&(o=Dd(t),o!==0&&(r=o,e=Jd(t,o))),e===1))throw n=Zo,Dr(t,0),Fn(t,r),wt(t,Se()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:gr(t,gt,yn);break;case 3:if(Fn(t,r),(r&130023424)===r&&(e=Dh+500-Se(),10<e)){if(tl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ct(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rd(gr.bind(null,t,gt,yn),e);break}gr(t,gt,yn);break;case 4:if(Fn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Jt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DD(r/1960))-r,10<r){t.timeoutHandle=Rd(gr.bind(null,t,gt,yn),r);break}gr(t,gt,yn);break;case 5:gr(t,gt,yn);break;default:throw Error(D(329))}}}return wt(t,Se()),t.callbackNode===n?h1.bind(null,t):null}function Jd(t,e){var n=Ao;return t.current.memoizedState.isDehydrated&&(Dr(t,e).flags|=256),t=wl(t,e),t!==2&&(e=gt,gt=n,e!==null&&Zd(e)),t}function Zd(t){gt===null?gt=t:gt.push.apply(gt,t)}function xD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!en(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fn(t,e){for(e&=~Ih,e&=~ru,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function dm(t){if(X&6)throw Error(D(327));hi();var e=tl(t,0);if(!(e&1))return wt(t,Se()),null;var n=wl(t,e);if(t.tag!==0&&n===2){var r=Dd(t);r!==0&&(e=r,n=Jd(t,r))}if(n===1)throw n=Zo,Dr(t,0),Fn(t,e),wt(t,Se()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gr(t,gt,yn),wt(t,Se()),null}function xh(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(bi=Se()+500,Zl&&ur())}}function Rr(t){Un!==null&&Un.tag===0&&!(X&6)&&hi();var e=X;X|=1;var n=Vt.transition,r=ne;try{if(Vt.transition=null,ne=1,t)return t()}finally{ne=r,Vt.transition=n,X=e,!(X&6)&&ur()}}function bh(){Et=si.current,ce(si)}function Dr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tD(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(sh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sl();break;case 3:Di(),ce(vt),ce(ot),gh();break;case 5:ph(r);break;case 4:Di();break;case 13:ce(pe);break;case 19:ce(pe);break;case 10:ch(r.type._context);break;case 22:case 23:bh()}n=n.return}if(Me=t,De=t=Qn(t.current,null),He=Et=e,Ae=0,Zo=null,Ih=ru=Nr=0,gt=Ao=null,wr!==null){for(e=0;e<wr.length;e++)if(n=wr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}wr=null}return t}function p1(t,e){do{var n=De;try{if(uh(),Ua.current=gl,pl){for(var r=ge.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pl=!1}if(Pr=0,Oe=be=ge=null,bo=!1,Yo=0,Ch.current=null,n===null||n.return===null){Ae=1,Zo=e,De=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=He,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Jg(s);if(h!==null){h.flags&=-257,Zg(h,s,a,o,e),h.mode&1&&Xg(o,u,e),e=h,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){Xg(o,u,e),Th();break e}l=Error(D(426))}}else if(he&&a.mode&1){var E=Jg(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Zg(E,s,a,o,e),ah(xi(l,a));break e}}o=l=xi(l,a),Ae!==4&&(Ae=2),Ao===null?Ao=[o]:Ao.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=X0(o,l,e);Gg(o,g);break e;case 1:a=l;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(qn===null||!qn.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=J0(o,a,e);Gg(o,w);break e}}o=o.return}while(o!==null)}v1(n)}catch(S){e=S,De===n&&n!==null&&(De=n=n.return);continue}break}while(1)}function g1(){var t=ml.current;return ml.current=gl,t===null?gl:t}function Th(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Me===null||!(Nr&268435455)&&!(ru&268435455)||Fn(Me,He)}function wl(t,e){var n=X;X|=2;var r=g1();(Me!==t||He!==e)&&(yn=null,Dr(t,e));do try{bD();break}catch(i){p1(t,i)}while(1);if(uh(),X=n,ml.current=r,De!==null)throw Error(D(261));return Me=null,He=0,Ae}function bD(){for(;De!==null;)m1(De)}function TD(){for(;De!==null&&!JC();)m1(De)}function m1(t){var e=w1(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?v1(t):De=e,Ch.current=null}function v1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ED(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ae=6,De=null;return}}else if(n=wD(n,e,Et),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Ae===0&&(Ae=5)}function gr(t,e,n){var r=ne,i=Vt.transition;try{Vt.transition=null,ne=1,AD(t,e,n,r)}finally{Vt.transition=i,ne=r}return null}function AD(t,e,n,r){do hi();while(Un!==null);if(X&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(lI(t,o),t===Me&&(De=Me=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wa||(wa=!0,E1(el,function(){return hi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Vt.transition,Vt.transition=null;var s=ne;ne=1;var a=X;X|=4,Ch.current=null,CD(t,n),d1(n,t),KI(Pd),nl=!!kd,Pd=kd=null,t.current=n,ID(n),ZC(),X=a,ne=s,Vt.transition=o}else t.current=n;if(wa&&(wa=!1,Un=t,yl=i),o=t.pendingLanes,o===0&&(qn=null),nI(n.stateNode),wt(t,Se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vl)throw vl=!1,t=Yd,Yd=null,t;return yl&1&&t.tag!==0&&hi(),o=t.pendingLanes,o&1?t===Xd?ko++:(ko=0,Xd=t):ko=0,ur(),null}function hi(){if(Un!==null){var t=Yy(yl),e=Vt.transition,n=ne;try{if(Vt.transition=null,ne=16>t?16:t,Un===null)var r=!1;else{if(t=Un,Un=null,yl=0,X&6)throw Error(D(331));var i=X;for(X|=4,N=t.current;N!==null;){var o=N,s=o.child;if(N.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(N=u;N!==null;){var c=N;switch(c.tag){case 0:case 11:case 15:To(8,c,o)}var d=c.child;if(d!==null)d.return=c,N=d;else for(;N!==null;){c=N;var f=c.sibling,h=c.return;if(l1(c),c===u){N=null;break}if(f!==null){f.return=h,N=f;break}N=h}}}var m=o.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}N=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,N=s;else e:for(;N!==null;){if(o=N,o.flags&2048)switch(o.tag){case 0:case 11:case 15:To(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,N=g;break e}N=o.return}}var p=t.current;for(N=p;N!==null;){s=N;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,N=v;else e:for(s=p;N!==null;){if(a=N,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:nu(9,a)}}catch(S){ye(a,a.return,S)}if(a===s){N=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,N=w;break e}N=a.return}}if(X=i,ur(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Kl,t)}catch{}r=!0}return r}finally{ne=n,Vt.transition=e}}return!1}function fm(t,e,n){e=xi(n,e),e=X0(t,e,1),t=Wn(t,e,1),e=ct(),t!==null&&(bs(t,1,e),wt(t,e))}function ye(t,e,n){if(t.tag===3)fm(t,t,n);else for(;e!==null;){if(e.tag===3){fm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qn===null||!qn.has(r))){t=xi(n,t),t=J0(e,t,1),e=Wn(e,t,1),t=ct(),e!==null&&(bs(e,1,t),wt(e,t));break}}e=e.return}}function kD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ct(),t.pingedLanes|=t.suspendedLanes&n,Me===t&&(He&n)===n&&(Ae===4||Ae===3&&(He&130023424)===He&&500>Se()-Dh?Dr(t,0):Ih|=n),wt(t,e)}function y1(t,e){e===0&&(t.mode&1?(e=ua,ua<<=1,!(ua&130023424)&&(ua=4194304)):e=1);var n=ct();t=Tn(t,e),t!==null&&(bs(t,e,n),wt(t,n))}function PD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),y1(t,n)}function ND(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),y1(t,n)}var w1;w1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vt.current)mt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mt=!1,yD(t,e,n);mt=!!(t.flags&131072)}else mt=!1,he&&e.flags&1048576&&C0(e,ul,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;za(t,e),t=e.pendingProps;var i=Si(e,ot.current);fi(e,n),i=vh(null,e,r,t,i,n);var o=yh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yt(r)?(o=!0,al(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fh(e),i.updater=eu,e.stateNode=i,i._reactInternals=e,Bd(e,r,t,n),e=zd(null,e,r,!0,o,n)):(e.tag=0,he&&o&&oh(e),lt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(za(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=OD(r),t=qt(r,t),i){case 0:e=Vd(null,e,r,t,n);break e;case 1:e=nm(null,e,r,t,n);break e;case 11:e=em(null,e,r,t,n);break e;case 14:e=tm(null,e,r,qt(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qt(r,i),Vd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qt(r,i),nm(t,e,r,i,n);case 3:e:{if(n1(e),t===null)throw Error(D(387));r=e.pendingProps,o=e.memoizedState,i=o.element,b0(t,e),fl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=xi(Error(D(423)),e),e=rm(t,e,r,n,i);break e}else if(r!==i){i=xi(Error(D(424)),e),e=rm(t,e,r,n,i);break e}else for(St=Hn(e.stateNode.containerInfo.firstChild),It=e,he=!0,Qt=null,n=P0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ci(),r===i){e=An(t,e,n);break e}lt(t,e,r,n)}e=e.child}return e;case 5:return N0(e),t===null&&Ld(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Nd(r,i)?s=null:o!==null&&Nd(r,o)&&(e.flags|=32),t1(t,e),lt(t,e,s,n),e.child;case 6:return t===null&&Ld(e),null;case 13:return r1(t,e,n);case 4:return hh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ii(e,null,r,n):lt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qt(r,i),em(t,e,r,i,n);case 7:return lt(t,e,e.pendingProps,n),e.child;case 8:return lt(t,e,e.pendingProps.children,n),e.child;case 12:return lt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,se(cl,r._currentValue),r._currentValue=s,o!==null)if(en(o.value,s)){if(o.children===i.children&&!vt.current){e=An(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=In(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),_d(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(D(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),_d(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}lt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fi(e,n),i=Gt(i),r=r(i),e.flags|=1,lt(t,e,r,n),e.child;case 14:return r=e.type,i=qt(r,e.pendingProps),i=qt(r.type,i),tm(t,e,r,i,n);case 15:return Z0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:qt(r,i),za(t,e),e.tag=1,yt(r)?(t=!0,al(e)):t=!1,fi(e,n),A0(e,r,i),Bd(e,r,i,n),zd(null,e,r,!0,t,n);case 19:return i1(t,e,n);case 22:return e1(t,e,n)}throw Error(D(156,e.tag))};function E1(t,e){return Wy(t,e)}function RD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,e,n,r){return new RD(t,e,n,r)}function Ah(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OD(t){if(typeof t=="function")return Ah(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qf)return 11;if(t===Kf)return 14}return 2}function Qn(t,e){var n=t.alternate;return n===null?(n=Bt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ha(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Ah(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Yr:return xr(n.children,i,o,e);case Wf:s=8,i|=8;break;case ud:return t=Bt(12,n,e,i|2),t.elementType=ud,t.lanes=o,t;case cd:return t=Bt(13,n,e,i),t.elementType=cd,t.lanes=o,t;case dd:return t=Bt(19,n,e,i),t.elementType=dd,t.lanes=o,t;case ky:return iu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ty:s=10;break e;case Ay:s=9;break e;case qf:s=11;break e;case Kf:s=14;break e;case $n:s=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Bt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function xr(t,e,n,r){return t=Bt(7,t,r,e),t.lanes=n,t}function iu(t,e,n,r){return t=Bt(22,t,r,e),t.elementType=ky,t.lanes=n,t.stateNode={isHidden:!1},t}function Pc(t,e,n){return t=Bt(6,t,null,e),t.lanes=n,t}function Nc(t,e,n){return e=Bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dc(0),this.expirationTimes=dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kh(t,e,n,r,i,o,s,a,l){return t=new MD(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fh(o),t}function $D(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function S1(t){if(!t)return nr;t=t._reactInternals;e:{if(Br(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(yt(n))return E0(t,n,e)}return e}function C1(t,e,n,r,i,o,s,a,l){return t=kh(n,r,!0,t,i,o,s,a,l),t.context=S1(null),n=t.current,r=ct(),i=Kn(n),o=In(r,i),o.callback=e??null,Wn(n,o,i),t.current.lanes=i,bs(t,i,r),wt(t,r),t}function ou(t,e,n,r){var i=e.current,o=ct(),s=Kn(i);return n=S1(n),e.context===null?e.context=n:e.pendingContext=n,e=In(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wn(i,e,s),t!==null&&(Zt(t,i,s,o),Ba(t,i,s)),s}function El(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ph(t,e){hm(t,e),(t=t.alternate)&&hm(t,e)}function LD(){return null}var I1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nh(t){this._internalRoot=t}su.prototype.render=Nh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));ou(t,e,null,null)};su.prototype.unmount=Nh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rr(function(){ou(null,t,null,null)}),e[bn]=null}};function su(t){this._internalRoot=t}su.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_n.length&&e!==0&&e<_n[n].priority;n++);_n.splice(n,0,t),n===0&&t0(t)}};function Rh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function au(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pm(){}function _D(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=El(s);o.call(u)}}var s=C1(e,r,t,0,null,!1,!1,"",pm);return t._reactRootContainer=s,t[bn]=s.current,Ho(t.nodeType===8?t.parentNode:t),Rr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=El(l);a.call(u)}}var l=kh(t,0,!1,null,null,!1,!1,"",pm);return t._reactRootContainer=l,t[bn]=l.current,Ho(t.nodeType===8?t.parentNode:t),Rr(function(){ou(e,l,n,r)}),l}function lu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=El(s);a.call(l)}}ou(e,s,t,i)}else s=_D(n,e,t,i,r);return El(s)}Xy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=po(e.pendingLanes);n!==0&&(Xf(e,n|1),wt(e,Se()),!(X&6)&&(bi=Se()+500,ur()))}break;case 13:Rr(function(){var r=Tn(t,1);if(r!==null){var i=ct();Zt(r,t,1,i)}}),Ph(t,1)}};Jf=function(t){if(t.tag===13){var e=Tn(t,134217728);if(e!==null){var n=ct();Zt(e,t,134217728,n)}Ph(t,134217728)}};Jy=function(t){if(t.tag===13){var e=Kn(t),n=Tn(t,e);if(n!==null){var r=ct();Zt(n,t,e,r)}Ph(t,e)}};Zy=function(){return ne};e0=function(t,e){var n=ne;try{return ne=t,e()}finally{ne=n}};Sd=function(t,e,n){switch(e){case"input":if(pd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jl(r);if(!i)throw Error(D(90));Ny(r),pd(r,i)}}}break;case"textarea":Oy(t,n);break;case"select":e=n.value,e!=null&&li(t,!!n.multiple,e,!1)}};Uy=xh;Vy=Rr;var FD={usingClientEntryPoint:!1,Events:[As,ei,Jl,Fy,By,xh]},oo={findFiberByHostInstance:yr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},BD={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:On.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gy(t),t===null?null:t.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||LD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ea=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ea.isDisabled&&Ea.supportsFiber)try{Kl=Ea.inject(BD),fn=Ea}catch{}}At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FD;At.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rh(e))throw Error(D(200));return $D(t,e,null,n)};At.createRoot=function(t,e){if(!Rh(t))throw Error(D(299));var n=!1,r="",i=I1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kh(t,1,!1,null,null,n,!1,r,i),t[bn]=e.current,Ho(t.nodeType===8?t.parentNode:t),new Nh(e)};At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=Gy(e),t=t===null?null:t.stateNode,t};At.flushSync=function(t){return Rr(t)};At.hydrate=function(t,e,n){if(!au(e))throw Error(D(200));return lu(null,t,e,!0,n)};At.hydrateRoot=function(t,e,n){if(!Rh(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=I1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=C1(e,null,t,1,n??null,i,!1,o,s),t[bn]=e.current,Ho(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new su(e)};At.render=function(t,e,n){if(!au(e))throw Error(D(200));return lu(null,t,e,!1,n)};At.unmountComponentAtNode=function(t){if(!au(t))throw Error(D(40));return t._reactRootContainer?(Rr(function(){lu(null,null,t,!1,function(){t._reactRootContainer=null,t[bn]=null})}),!0):!1};At.unstable_batchedUpdates=xh;At.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!au(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return lu(t,e,n,!1,r)};At.version="18.2.0-next-9e3b772b8-20220608";function D1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D1)}catch(t){console.error(t)}}D1(),Cy.exports=At;var Oh=Cy.exports;const UD=Ff(Oh);var x1,gm=Oh;x1=gm.createRoot,gm.hydrateRoot;function ef(t,e){return ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ef(t,e)}function b1(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ef(t,e)}function _(){return _=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_.apply(null,arguments)}function es(t){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es(t)}function VD(t,e){if(es(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zD(t){var e=VD(t,"string");return es(e)=="symbol"?e:e+""}function jD(t,e,n){return(e=zD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mm(Object(n),!0).forEach(function(r){jD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mm(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var ym=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Rc=function(){return Math.random().toString(36).substring(7).split("").join(".")},wm={INIT:"@@redux/INIT"+Rc(),REPLACE:"@@redux/REPLACE"+Rc(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Rc()}};function GD(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function T1(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pt(1));return n(T1)(t,e)}if(typeof t!="function")throw new Error(pt(2));var i=t,o=e,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(pt(3));return o}function d(y){if(typeof y!="function")throw new Error(pt(4));if(l)throw new Error(pt(5));var E=!0;return u(),a.push(y),function(){if(E){if(l)throw new Error(pt(6));E=!1,u();var p=a.indexOf(y);a.splice(p,1),s=null}}}function f(y){if(!GD(y))throw new Error(pt(7));if(typeof y.type>"u")throw new Error(pt(8));if(l)throw new Error(pt(9));try{l=!0,o=i(o,y)}finally{l=!1}for(var E=s=a,g=0;g<E.length;g++){var p=E[g];p()}return y}function h(y){if(typeof y!="function")throw new Error(pt(10));i=y,f({type:wm.REPLACE})}function m(){var y,E=d;return y={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(pt(11));function v(){p.next&&p.next(c())}v();var w=E(v);return{unsubscribe:w}}},y[ym]=function(){return this},y}return f({type:wm.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[ym]=m,r}function Em(t,e){return function(){return e(t.apply(this,arguments))}}function Sm(t,e){if(typeof t=="function")return Em(t,e);if(typeof t!="object"||t===null)throw new Error(pt(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=Em(i,e))}return n}function A1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function HD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(pt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(l){return l(s)});return o=A1.apply(void 0,a)(i.dispatch),vm(vm({},i),{},{dispatch:o})}}}var k1=le.createContext(null);function WD(t){t()}var P1=WD,qD=function(e){return P1=e},KD=function(){return P1};function QD(){var t=KD(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=e;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!o||e===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Cm={notify:function(){},get:function(){return[]}};function N1(t,e){var n,r=Cm;function i(d){return l(),r.subscribe(d)}function o(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=QD())}function u(){n&&(n(),n=void 0,r.clear(),r=Cm)}var c={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:function(){return r}};return c}var R1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?R.useLayoutEffect:R.useEffect;function YD(t){var e=t.store,n=t.context,r=t.children,i=R.useMemo(function(){var a=N1(e);return{store:e,subscription:a}},[e]),o=R.useMemo(function(){return e.getState()},[e]);R1(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=n||k1;return le.createElement(s.Provider,{value:i},r)}function Sl(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var O1={exports:{}},ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fe=typeof Symbol=="function"&&Symbol.for,Mh=Fe?Symbol.for("react.element"):60103,$h=Fe?Symbol.for("react.portal"):60106,uu=Fe?Symbol.for("react.fragment"):60107,cu=Fe?Symbol.for("react.strict_mode"):60108,du=Fe?Symbol.for("react.profiler"):60114,fu=Fe?Symbol.for("react.provider"):60109,hu=Fe?Symbol.for("react.context"):60110,Lh=Fe?Symbol.for("react.async_mode"):60111,pu=Fe?Symbol.for("react.concurrent_mode"):60111,gu=Fe?Symbol.for("react.forward_ref"):60112,mu=Fe?Symbol.for("react.suspense"):60113,XD=Fe?Symbol.for("react.suspense_list"):60120,vu=Fe?Symbol.for("react.memo"):60115,yu=Fe?Symbol.for("react.lazy"):60116,JD=Fe?Symbol.for("react.block"):60121,ZD=Fe?Symbol.for("react.fundamental"):60117,ex=Fe?Symbol.for("react.responder"):60118,tx=Fe?Symbol.for("react.scope"):60119;function Pt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Mh:switch(t=t.type,t){case Lh:case pu:case uu:case du:case cu:case mu:return t;default:switch(t=t&&t.$$typeof,t){case hu:case gu:case yu:case vu:case fu:return t;default:return e}}case $h:return e}}}function M1(t){return Pt(t)===pu}ie.AsyncMode=Lh;ie.ConcurrentMode=pu;ie.ContextConsumer=hu;ie.ContextProvider=fu;ie.Element=Mh;ie.ForwardRef=gu;ie.Fragment=uu;ie.Lazy=yu;ie.Memo=vu;ie.Portal=$h;ie.Profiler=du;ie.StrictMode=cu;ie.Suspense=mu;ie.isAsyncMode=function(t){return M1(t)||Pt(t)===Lh};ie.isConcurrentMode=M1;ie.isContextConsumer=function(t){return Pt(t)===hu};ie.isContextProvider=function(t){return Pt(t)===fu};ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mh};ie.isForwardRef=function(t){return Pt(t)===gu};ie.isFragment=function(t){return Pt(t)===uu};ie.isLazy=function(t){return Pt(t)===yu};ie.isMemo=function(t){return Pt(t)===vu};ie.isPortal=function(t){return Pt(t)===$h};ie.isProfiler=function(t){return Pt(t)===du};ie.isStrictMode=function(t){return Pt(t)===cu};ie.isSuspense=function(t){return Pt(t)===mu};ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===uu||t===pu||t===du||t===cu||t===mu||t===XD||typeof t=="object"&&t!==null&&(t.$$typeof===yu||t.$$typeof===vu||t.$$typeof===fu||t.$$typeof===hu||t.$$typeof===gu||t.$$typeof===ZD||t.$$typeof===ex||t.$$typeof===tx||t.$$typeof===JD)};ie.typeOf=Pt;O1.exports=ie;var nx=O1.exports,_h=nx,rx={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ix={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ox={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fh={};Fh[_h.ForwardRef]=ox;Fh[_h.Memo]=$1;function Im(t){return _h.isMemo(t)?$1:Fh[t.$$typeof]||rx}var sx=Object.defineProperty,ax=Object.getOwnPropertyNames,Dm=Object.getOwnPropertySymbols,lx=Object.getOwnPropertyDescriptor,ux=Object.getPrototypeOf,xm=Object.prototype;function L1(t,e,n){if(typeof e!="string"){if(xm){var r=ux(e);r&&r!==xm&&L1(t,r,n)}var i=ax(e);Dm&&(i=i.concat(Dm(e)));for(var o=Im(t),s=Im(e),a=0;a<i.length;++a){var l=i[a];if(!ix[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=lx(e,l);try{sx(t,l,u)}catch{}}}}return t}var cx=L1;const bm=Ff(cx);var _1={exports:{}},oe={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu=60103,Eu=60106,Ps=60107,Ns=60108,Rs=60114,Os=60109,Ms=60110,$s=60112,Ls=60113,Bh=60120,_s=60115,Fs=60116,F1=60121,B1=60122,U1=60117,V1=60129,z1=60131;if(typeof Symbol=="function"&&Symbol.for){var Ue=Symbol.for;wu=Ue("react.element"),Eu=Ue("react.portal"),Ps=Ue("react.fragment"),Ns=Ue("react.strict_mode"),Rs=Ue("react.profiler"),Os=Ue("react.provider"),Ms=Ue("react.context"),$s=Ue("react.forward_ref"),Ls=Ue("react.suspense"),Bh=Ue("react.suspense_list"),_s=Ue("react.memo"),Fs=Ue("react.lazy"),F1=Ue("react.block"),B1=Ue("react.server.block"),U1=Ue("react.fundamental"),V1=Ue("react.debug_trace_mode"),z1=Ue("react.legacy_hidden")}function nn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wu:switch(t=t.type,t){case Ps:case Rs:case Ns:case Ls:case Bh:return t;default:switch(t=t&&t.$$typeof,t){case Ms:case $s:case Fs:case _s:case Os:return t;default:return e}}case Eu:return e}}}var dx=Os,fx=wu,hx=$s,px=Ps,gx=Fs,mx=_s,vx=Eu,yx=Rs,wx=Ns,Ex=Ls;oe.ContextConsumer=Ms;oe.ContextProvider=dx;oe.Element=fx;oe.ForwardRef=hx;oe.Fragment=px;oe.Lazy=gx;oe.Memo=mx;oe.Portal=vx;oe.Profiler=yx;oe.StrictMode=wx;oe.Suspense=Ex;oe.isAsyncMode=function(){return!1};oe.isConcurrentMode=function(){return!1};oe.isContextConsumer=function(t){return nn(t)===Ms};oe.isContextProvider=function(t){return nn(t)===Os};oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wu};oe.isForwardRef=function(t){return nn(t)===$s};oe.isFragment=function(t){return nn(t)===Ps};oe.isLazy=function(t){return nn(t)===Fs};oe.isMemo=function(t){return nn(t)===_s};oe.isPortal=function(t){return nn(t)===Eu};oe.isProfiler=function(t){return nn(t)===Rs};oe.isStrictMode=function(t){return nn(t)===Ns};oe.isSuspense=function(t){return nn(t)===Ls};oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ps||t===Rs||t===V1||t===Ns||t===Ls||t===Bh||t===z1||typeof t=="object"&&t!==null&&(t.$$typeof===Fs||t.$$typeof===_s||t.$$typeof===Os||t.$$typeof===Ms||t.$$typeof===$s||t.$$typeof===U1||t.$$typeof===F1||t[0]===B1)};oe.typeOf=nn;_1.exports=oe;var Sx=_1.exports,Cx=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Ix=["reactReduxForwardedRef"],Dx=[],xx=[null,null];function bx(t,e){var n=t[1];return[e.payload,n+1]}function Tm(t,e,n){R1(function(){return t.apply(void 0,e)},n)}function Tx(t,e,n,r,i,o,s){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,s())}function Ax(t,e,n,r,i,o,s,a,l,u){if(t){var c=!1,d=null,f=function(){if(!c){var y=e.getState(),E,g;try{E=r(y,i.current)}catch(p){g=p,d=p}g||(d=null),E===o.current?s.current||l():(o.current=E,a.current=E,s.current=!0,u({type:"STORE_UPDATED",payload:{error:g}}))}};n.onStateChange=f,n.trySubscribe(),f();var h=function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d};return h}}var kx=function(){return[null,0]};function Px(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(v){return"ConnectAdvanced("+v+")"}:r,o=n.methodName,s=o===void 0?"connectAdvanced":o,a=n.renderCountProp,l=a===void 0?void 0:a,u=n.shouldHandleStateChanges,c=u===void 0?!0:u,d=n.storeKey,f=d===void 0?"store":d;n.withRef;var h=n.forwardRef,m=h===void 0?!1:h,y=n.context,E=y===void 0?k1:y,g=Sl(n,Cx),p=E;return function(w){var S=w.displayName||w.name||"Component",C=i(S),x=_({},g,{getDisplayName:i,methodName:s,renderCountProp:l,shouldHandleStateChanges:c,storeKey:f,displayName:C,wrappedComponentName:S,WrappedComponent:w}),A=g.pure;function O(fe){return t(fe.dispatch,x)}var M=A?R.useMemo:function(fe){return fe()};function W(fe){var ht=R.useMemo(function(){var Xi=fe.reactReduxForwardedRef,oc=Sl(fe,Ix);return[fe.context,Xi,oc]},[fe]),Ke=ht[0],rn=ht[1],P=ht[2],V=R.useMemo(function(){return Ke&&Ke.Consumer&&Sx.isContextConsumer(le.createElement(Ke.Consumer,null))?Ke:p},[Ke,p]),B=R.useContext(V),te=!!fe.store&&!!fe.store.getState&&!!fe.store.dispatch;B&&B.store;var J=te?fe.store:B.store,on=R.useMemo(function(){return O(J)},[J]),Nt=R.useMemo(function(){if(!c)return xx;var Xi=N1(J,te?null:B.subscription),oc=Xi.notifyNestedSubs.bind(Xi);return[Xi,oc]},[J,te,B]),Rt=Nt[0],Ot=Nt[1],vn=R.useMemo(function(){return te?B:_({},B,{subscription:Rt})},[te,B,Rt]),na=R.useReducer(bx,Dx,kx),ec=na[0],jr=ec[0],tc=na[1];if(jr&&jr.error)throw jr.error;var og=R.useRef(),nc=R.useRef(P),ra=R.useRef(),sg=R.useRef(!1),rc=M(function(){return ra.current&&P===nc.current?ra.current:on(J.getState(),P)},[J,jr,P]);Tm(Tx,[nc,og,sg,P,rc,ra,Ot]),Tm(Ax,[c,J,Rt,on,nc,og,sg,ra,Ot,tc],[J,Rt,on]);var ic=R.useMemo(function(){return le.createElement(w,_({},rc,{ref:rn}))},[rn,w,rc]),gC=R.useMemo(function(){return c?le.createElement(V.Provider,{value:vn},ic):ic},[V,ic,vn]);return gC}var Pe=A?le.memo(W):W;if(Pe.WrappedComponent=w,Pe.displayName=W.displayName=C,m){var Ne=le.forwardRef(function(ht,Ke){return le.createElement(Pe,_({},ht,{reactReduxForwardedRef:Ke}))});return Ne.displayName=C,Ne.WrappedComponent=w,bm(Ne,w)}return bm(Pe,w)}}function Am(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Oc(t,e){if(Am(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Am(t[n[i]],e[n[i]]))return!1;return!0}function Nx(t,e){var n={},r=function(s){var a=t[s];typeof a=="function"&&(n[s]=function(){return e(a.apply(void 0,arguments))})};for(var i in t)r(i);return n}function Uh(t){return function(n,r){var i=t(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function km(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function j1(t,e){return function(r,i){i.displayName;var o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=km(t);var u=o(a,l);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=km(u),u=o(a,l)),u},o}}function Rx(t){return typeof t=="function"?j1(t):void 0}function Ox(t){return t?void 0:Uh(function(e){return{dispatch:e}})}function Mx(t){return t&&typeof t=="object"?Uh(function(e){return Nx(t,e)}):void 0}const $x=[Rx,Ox,Mx];function Lx(t){return typeof t=="function"?j1(t):void 0}function _x(t){return t?void 0:Uh(function(){return{}})}const Fx=[Lx,_x];function Bx(t,e,n){return _({},n,t,e)}function Ux(t){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,a;return function(u,c,d){var f=t(u,c,d);return s?(!i||!o(f,a))&&(a=f):(s=!0,a=f),a}}}function Vx(t){return typeof t=="function"?Ux(t):void 0}function zx(t){return t?void 0:function(){return Bx}}const jx=[Vx,zx];var Gx=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Hx(t,e,n,r){return function(o,s){return n(t(o,s),e(r,s),s)}}function Wx(t,e,n,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,a=i.areStatePropsEqual,l=!1,u,c,d,f,h;function m(v,w){return u=v,c=w,d=t(u,c),f=e(r,c),h=n(d,f,c),l=!0,h}function y(){return d=t(u,c),e.dependsOnOwnProps&&(f=e(r,c)),h=n(d,f,c),h}function E(){return t.dependsOnOwnProps&&(d=t(u,c)),e.dependsOnOwnProps&&(f=e(r,c)),h=n(d,f,c),h}function g(){var v=t(u,c),w=!a(v,d);return d=v,w&&(h=n(d,f,c)),h}function p(v,w){var S=!s(w,c),C=!o(v,u,w,c);return u=v,c=w,S&&C?y():S?E():C?g():h}return function(w,S){return l?p(w,S):m(w,S)}}function qx(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=Sl(e,Gx),s=n(t,o),a=r(t,o),l=i(t,o),u=o.pure?Wx:Hx;return u(s,a,l,t,o)}var Kx=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Mc(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function Qx(t,e){return t===e}function Yx(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?Px:n,i=e.mapStateToPropsFactories,o=i===void 0?Fx:i,s=e.mapDispatchToPropsFactories,a=s===void 0?$x:s,l=e.mergePropsFactories,u=l===void 0?jx:l,c=e.selectorFactory,d=c===void 0?qx:c;return function(h,m,y,E){E===void 0&&(E={});var g=E,p=g.pure,v=p===void 0?!0:p,w=g.areStatesEqual,S=w===void 0?Qx:w,C=g.areOwnPropsEqual,x=C===void 0?Oc:C,A=g.areStatePropsEqual,O=A===void 0?Oc:A,M=g.areMergedPropsEqual,W=M===void 0?Oc:M,Pe=Sl(g,Kx),Ne=Mc(h,o,"mapStateToProps"),fe=Mc(m,a,"mapDispatchToProps"),ht=Mc(y,u,"mergeProps");return r(d,_({methodName:"connect",getDisplayName:function(rn){return"Connect("+rn+")"},shouldHandleStateChanges:!!h,initMapStateToProps:Ne,initMapDispatchToProps:fe,initMergeProps:ht,pure:v,areStatesEqual:S,areOwnPropsEqual:x,areStatePropsEqual:O,areMergedPropsEqual:W},Pe))}}const G1=Yx();qD(Oh.unstable_batchedUpdates);function Xx(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function H1(t,e){var n=R.useState(function(){return{inputs:e,result:t()}})[0],r=R.useRef(!0),i=R.useRef(n),o=r.current||!!(e&&i.current.inputs&&Xx(e,i.current.inputs)),s=o?i.current:{inputs:e,result:t()};return R.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function Jx(t,e){return H1(function(){return t},e)}var Y=H1,L=Jx,Zx=!0,$c="Invariant failed";function eb(t,e){if(!t){if(Zx)throw new Error($c);var n=typeof e=="function"?e():e,r=n?"".concat($c,": ").concat(n):$c;throw new Error(r)}}var Yt=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},Vh=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},Pm=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},tb=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Lc={top:0,right:0,bottom:0,left:0},zh=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?Lc:r,o=e.border,s=o===void 0?Lc:o,a=e.padding,l=a===void 0?Lc:a,u=Yt(Vh(n,i)),c=Yt(Pm(n,s)),d=Yt(Pm(c,l));return{marginBox:u,borderBox:Yt(n),paddingBox:c,contentBox:d,margin:i,border:s,padding:l}},Mt=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&eb(!1),i},nb=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Cl=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=tb(r,n);return zh({borderBox:a,border:i,margin:o,padding:s})},Il=function(e,n){return n===void 0&&(n=nb()),Cl(e,n)},W1=function(e,n){var r={top:Mt(n.marginTop),right:Mt(n.marginRight),bottom:Mt(n.marginBottom),left:Mt(n.marginLeft)},i={top:Mt(n.paddingTop),right:Mt(n.paddingRight),bottom:Mt(n.paddingBottom),left:Mt(n.paddingLeft)},o={top:Mt(n.borderTopWidth),right:Mt(n.borderRightWidth),bottom:Mt(n.borderBottomWidth),left:Mt(n.borderLeftWidth)};return zh({borderBox:e,margin:r,padding:i,border:o})},q1=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return W1(n,r)},Nm=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function rb(t,e){return!!(t===e||Nm(t)&&Nm(e))}function ib(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!rb(t[n],e[n]))return!1;return!0}function $e(t,e){e===void 0&&(e=ib);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&e(a,r)||(i=t.apply(this,a),o=!0,n=this,r=a),i}return s}var ob=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};const ts=ob;function K1(t,e){}K1.bind(null,"warn");K1.bind(null,"error");function Yn(){}function sb(t,e){return _({},t,{},e)}function Ut(t,e,n){var r=e.map(function(i){var o=sb(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var ab="Invariant failed";function Dl(t){this.message=t}Dl.prototype.toString=function(){return this.message};function T(t,e){if(!t)throw new Dl(ab)}var lb=function(t){b1(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.callbacks=null,r.unbind=Yn,r.onWindowError=function(a){var l=r.getCallbacks();l.isDragging()&&l.tryAbort();var u=a.error;u instanceof Dl&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=Ut(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof Dl){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(le.Component),ub=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,xl=function(e){return e+1},cb=function(e){return`
  You have lifted an item in position `+xl(e.source.index)+`
`},Q1=function(e,n){var r=e.droppableId===n.droppableId,i=xl(e.index),o=xl(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},Y1=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},db=function(e){var n=e.destination;if(n)return Q1(e.source,n);var r=e.combine;return r?Y1(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},Rm=function(e){return`
  The item has returned to its starting position
  of `+xl(e.index)+`
`},fb=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+Rm(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+Q1(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+Y1(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+Rm(e.source)+`
  `},Wa={dragHandleUsageInstructions:ub,onDragStart:cb,onDragUpdate:db,onDragEnd:fb},Le={x:0,y:0},Ge=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},Ct=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},Xn=function(e,n){return e.x===n.x&&e.y===n.y},Vi=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Or=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},ns=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},Om=function(e,n){return Math.min.apply(Math,n.map(function(r){return ns(e,r)}))},X1=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},hb=function(t,e){var n=Yt({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},Bs=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Mm=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},pb={top:0,right:0,bottom:0,left:0},gb=function(e,n){return n?Bs(e,n.scroll.diff.displacement):e},mb=function(e,n,r){if(r&&r.increasedBy){var i;return _({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},vb=function(e,n){return n&&n.shouldClipSubject?hb(n.pageMarginBox,e):Yt(e)},Ti=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,o=gb(e.marginBox,i),s=mb(o,r,n),a=vb(s,i);return{page:e,withPlaceholder:n,active:a}},jh=function(t,e){t.frame||T(!1);var n=t.frame,r=Ct(e,n.scroll.initial),i=Vi(r),o=_({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),s=Ti({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o}),a=_({},t,{frame:o,subject:s});return a};function bl(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function Gh(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function cr(t,e){if(t.find)return t.find(e);var n=Gh(t,e);if(n!==-1)return t[n]}function J1(t){return Array.prototype.slice.call(t)}var Z1=$e(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),ew=$e(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),Su=$e(function(t){return bl(t)}),yb=$e(function(t){return bl(t)}),zi=$e(function(t,e){var n=yb(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function Hh(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Cu(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Iu=$e(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),wb=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.previousImpact;if(!r.isCombineEnabled)return null;var s=Hh(o);if(!s)return null;function a(y){var E={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return _({},o,{at:E})}var l=o.displaced.all,u=l.length?l[0]:null;if(e)return u?a(u):null;var c=Iu(n,i);if(!u){if(!c.length)return null;var d=c[c.length-1];return a(d.descriptor.id)}var f=Gh(c,function(y){return y.descriptor.id===u});f===-1&&T(!1);var h=f-1;if(h<0)return null;var m=c[h];return a(m.descriptor.id)},ji=function(t,e){return t.descriptor.droppableId===e.descriptor.id},tw={point:Le,value:0},rs={invisible:{},visible:{},all:[]},Eb={displaced:rs,displacedBy:tw,at:null},zt=function(t,e){return function(n){return t<=n&&n<=e}},nw=function(t){var e=zt(t.top,t.bottom),n=zt(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=e(r.top)||e(r.bottom),s=n(r.left)||n(r.right),a=o&&s;if(a)return!0;var l=r.top<t.top&&r.bottom>t.bottom,u=r.left<t.left&&r.right>t.right,c=l&&u;if(c)return!0;var d=l&&s||u&&o;return d}},Sb=function(t){var e=zt(t.top,t.bottom),n=zt(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},Wh={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},rw={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Cb=function(t){return function(e){var n=zt(e.top,e.bottom),r=zt(e.left,e.right);return function(i){return t===Wh?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},Ib=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:Le;return Bs(e,r)},Db=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},xb=function(e,n,r){return r(n)(e)},qh=function(e){var n=e.target,r=e.destination,i=e.viewport,o=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,a=o?Ib(n,r):n;return Db(a,r,s)&&xb(a,i,s)},bb=function(e){return qh(_({},e,{isVisibleThroughFrameFn:nw}))},iw=function(e){return qh(_({},e,{isVisibleThroughFrameFn:Sb}))},Tb=function(e){return qh(_({},e,{isVisibleThroughFrameFn:Cb(e.destination.axis)}))},Ab=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[e])return!1;var s=o[e];return s?s.shouldAnimate:!0};function kb(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return Yt(Vh(n,r))}function is(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,o=t.forceShouldAnimate,s=t.last;return e.reduce(function(l,u){var c=kb(u,r),d=u.descriptor.id;l.all.push(d);var f=bb({target:c,destination:n,viewport:i,withDroppableDisplacement:!0});if(!f)return l.invisible[u.descriptor.id]=!0,l;var h=Ab(d,s,o),m={draggableId:d,shouldAnimate:h};return l.visible[d]=m,l},{all:[],visible:{},invisible:{}})}function Pb(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function $m(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,o=Pb(e,{inHomeList:n});return{displaced:rs,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Tl(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,o=t.displacedBy,s=t.last,a=t.index,l=t.forceShouldAnimate,u=ji(e,r);if(a==null)return $m({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var c=cr(n,function(y){return y.descriptor.index===a});if(!c)return $m({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});var d=Iu(e,n),f=n.indexOf(c),h=d.slice(f),m=is({afterDragging:h,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:l});return{displaced:m,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function rr(t,e){return!!e.effected[t]}var Nb=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,o=t.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,a=r[s],l=a.descriptor.index,u=rr(s,o);return u?e?l:l-1:e?l+1:l},Rb=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var o=i.index,s=e?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,u=n?l:l+1;return s<a||s>u?null:s},Ob=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,o=t.destination,s=t.insideDestination,a=t.previousImpact,l=t.viewport,u=t.afterCritical,c=a.at;if(c||T(!1),c.type==="REORDER"){var d=Rb({isMovingForward:e,isInHomeList:n,location:c.destination,insideDestination:s});return d==null?null:Tl({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})}var f=Nb({isMovingForward:e,destination:o,displaced:a.displaced,draggables:i,combine:c.combine,afterCritical:u});return f==null?null:Tl({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})},Mb=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,o=!!(e.visible[r]||e.invisible[r]);return rr(r,n)?o?Le:Vi(i.point):o?i.point:Le},$b=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=Cu(n);i||T(!1);var o=i.draggableId,s=r[o].page.borderBox.center,a=Mb({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return Ge(s,a)},ow=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},Lb=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},Kh=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},Lm=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Or(n.line,r.marginBox[n.end]+ow(n,i),Kh(n,r.marginBox,i))},_m=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Or(n.line,r.marginBox[n.start]-Lb(n,i),Kh(n,r.marginBox,i))},_b=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return Or(n.line,r.contentBox[n.start]+ow(n,i),Kh(n,r.contentBox,i))},Fb=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,o=t.afterCritical,s=zi(i.descriptor.id,r),a=n.page,l=i.axis;if(!s.length)return _b({axis:l,moveInto:i.page,isMoving:a});var u=e.displaced,c=e.displacedBy,d=u.all[0];if(d){var f=r[d];if(rr(d,o))return _m({axis:l,moveRelativeTo:f.page,isMoving:a});var h=Cl(f.page,c.point);return _m({axis:l,moveRelativeTo:h,isMoving:a})}var m=s[s.length-1];if(m.descriptor.id===n.descriptor.id)return a.borderBox.center;if(rr(m.descriptor.id,o)){var y=Cl(m.page,Vi(o.displacedBy.point));return Lm({axis:l,moveRelativeTo:y,isMoving:a})}return Lm({axis:l,moveRelativeTo:m.page,isMoving:a})},tf=function(t,e){var n=t.frame;return n?Ge(e,n.scroll.diff.displacement):e},Bb=function(e){var n=e.impact,r=e.draggable,i=e.droppable,o=e.draggables,s=e.afterCritical,a=r.page.borderBox.center,l=n.at;return!i||!l?a:l.type==="REORDER"?Fb({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:s}):$b({impact:n,draggables:o,afterCritical:s})},Du=function(t){var e=Bb(t),n=t.droppable,r=n?tf(n,e):e;return r},sw=function(t,e){var n=Ct(e,t.scroll.initial),r=Vi(n),i=Yt({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),o={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return o};function Fm(t,e){return t.map(function(n){return e[n]})}function Ub(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var Vb=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,o=t.maxScrollChange,s=sw(n,Ge(n.scroll.current,o)),a=r.frame?jh(r,Ge(r.frame.scroll.current,o)):r,l=e.displaced,u=is({afterDragging:Fm(l.all,i),destination:r,displacedBy:e.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),c=is({afterDragging:Fm(l.all,i),destination:a,displacedBy:e.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},f={},h=[l,u,c];l.all.forEach(function(y){var E=Ub(y,h);if(E){f[y]=E;return}d[y]=!0});var m=_({},e,{displaced:{all:l.all,invisible:d,visible:f}});return m},zb=function(t,e){return Ge(t.scroll.diff.displacement,e)},Qh=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=zb(r,e),o=Ct(i,n.page.borderBox.center);return Ge(n.client.borderBox.center,o)},aw=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,o=t.withDroppableDisplacement,s=t.onlyOnMainAxis,a=s===void 0?!1:s,l=Ct(r,e.page.borderBox.center),u=Bs(e.page.borderBox,l),c={target:u,destination:n,withDroppableDisplacement:o,viewport:i};return a?Tb(c):iw(c)},jb=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,o=t.previousImpact,s=t.viewport,a=t.previousPageBorderBoxCenter,l=t.previousClientSelection,u=t.afterCritical;if(!r.isEnabled)return null;var c=zi(r.descriptor.id,i),d=ji(n,r),f=wb({isMovingForward:e,draggable:n,destination:r,insideDestination:c,previousImpact:o})||Ob({isMovingForward:e,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:c,previousImpact:o,viewport:s,afterCritical:u});if(!f)return null;var h=Du({impact:f,draggable:n,droppable:r,draggables:i,afterCritical:u}),m=aw({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(m){var y=Qh({pageBorderBoxCenter:h,draggable:n,viewport:s});return{clientSelection:y,impact:f,scrollJumpRequest:null}}var E=Ct(h,a),g=Vb({impact:f,viewport:s,destination:r,draggables:i,maxScrollChange:E});return{clientSelection:l,impact:g,scrollJumpRequest:E}},at=function(e){var n=e.subject.active;return n||T(!1),n},Gb=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,o=t.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,l=zt(s[a.start],s[a.end]),u=Su(i).filter(function(d){return d!==r}).filter(function(d){return d.isEnabled}).filter(function(d){return!!d.subject.active}).filter(function(d){return nw(o.frame)(at(d))}).filter(function(d){var f=at(d);return e?s[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<s[a.crossAxisStart]}).filter(function(d){var f=at(d),h=zt(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||h(s[a.start])||h(s[a.end])}).sort(function(d,f){var h=at(d)[a.crossAxisStart],m=at(f)[a.crossAxisStart];return e?h-m:m-h}).filter(function(d,f,h){return at(d)[a.crossAxisStart]===at(h[0])[a.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var c=u.filter(function(d){var f=zt(at(d)[a.start],at(d)[a.end]);return f(n[a.line])});return c.length===1?c[0]:c.length>1?c.sort(function(d,f){return at(d)[a.start]-at(f)[a.start]})[0]:u.sort(function(d,f){var h=Om(n,Mm(at(d))),m=Om(n,Mm(at(f)));return h!==m?h-m:at(d)[a.start]-at(f)[a.start]})[0]},Bm=function(e,n){var r=e.page.borderBox.center;return rr(e.descriptor.id,n)?Ct(r,n.displacedBy.point):r},Hb=function(e,n){var r=e.page.borderBox;return rr(e.descriptor.id,n)?Bs(r,Vi(n.displacedBy.point)):r},Wb=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,o=t.afterCritical,s=i.filter(function(a){return iw({target:Hb(a,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,l){var u=ns(e,tf(r,Bm(a,o))),c=ns(e,tf(r,Bm(l,o)));return u<c?-1:c<u?1:a.descriptor.index-l.descriptor.index});return s[0]||null},Us=$e(function(e,n){var r=n[e.line];return{value:r,point:Or(e.line,r)}}),qb=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return Or(i.line,n[i.line]);var o=e.subject.page.contentBox[i.size],s=zi(e.descriptor.id,r),a=s.reduce(function(c,d){return c+d.client.marginBox[i.size]},0),l=a+n[i.line],u=l-o;return u<=0?null:Or(i.line,u)},lw=function(e,n){return _({},e,{scroll:_({},e.scroll,{max:n})})},uw=function(e,n,r){var i=e.frame;ji(n,e)&&T(!1),e.subject.withPlaceholder&&T(!1);var o=Us(e.axis,n.displaceBy).point,s=qb(e,o,r),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var l=Ti({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return _({},e,{subject:l})}var u=s?Ge(i.scroll.max,s):i.scroll.max,c=lw(i,u),d=Ti({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return _({},e,{subject:d,frame:c})},Kb=function(e){var n=e.subject.withPlaceholder;n||T(!1);var r=e.frame;if(!r){var i=Ti({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return _({},e,{subject:i})}var o=n.oldFrameMaxScroll;o||T(!1);var s=lw(r,o),a=Ti({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return _({},e,{subject:a,frame:s})},Qb=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,o=t.draggables,s=t.destination,a=t.viewport,l=t.afterCritical;if(!n){if(r.length)return null;var u={displaced:rs,displacedBy:tw,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},c=Du({impact:u,draggable:i,droppable:s,draggables:o,afterCritical:l}),d=ji(i,s)?s:uw(s,i,o),f=aw({draggable:i,destination:d,newPageBorderBoxCenter:c,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return f?u:null}var h=e[s.axis.line]<=n.page.borderBox.center[s.axis.line],m=function(){var E=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?E:E+1}(),y=Us(s.axis,i.displaceBy);return Tl({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:y,last:rs,index:m})},Yb=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,o=t.draggables,s=t.droppables,a=t.viewport,l=t.afterCritical,u=Gb({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!u)return null;var c=zi(u.descriptor.id,o),d=Wb({pageBorderBoxCenter:n,viewport:a,destination:u,insideDestination:c,afterCritical:l}),f=Qb({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:c,viewport:a,afterCritical:l});if(!f)return null;var h=Du({impact:f,draggable:r,droppable:u,draggables:o,afterCritical:l}),m=Qh({pageBorderBoxCenter:h,draggable:r,viewport:a});return{clientSelection:m,impact:f,scrollJumpRequest:null}},Dt=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},Xb=function(e,n){var r=Dt(e);return r?n[r]:null},Jb=function(t){var e=t.state,n=t.type,r=Xb(e.impact,e.dimensions.droppables),i=!!r,o=e.dimensions.droppables[e.critical.droppable.id],s=r||o,a=s.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;var u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",c=e.dimensions.draggables[e.critical.draggable.id],d=e.current.page.borderBoxCenter,f=e.dimensions,h=f.draggables,m=f.droppables;return l?jb({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:s,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Yb({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:s,draggables:h,droppables:m,viewport:e.viewport,afterCritical:e.afterCritical})};function mr(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function cw(t){var e=zt(t.top,t.bottom),n=zt(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function Zb(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function eT(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,o=r.map(function(s){var a=s.axis,l=Or(s.axis.line,e.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:ns(i,l)}}).sort(function(s,a){return a.distance-s.distance});return o[0]?o[0].id:null}function tT(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=Su(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!Zb(e,s))return!1;if(cw(s)(e.center))return!0;var a=o.axis,l=s.center[a.crossAxisLine],u=e[a.crossAxisStart],c=e[a.crossAxisEnd],d=zt(s[a.crossAxisStart],s[a.crossAxisEnd]),f=d(u),h=d(c);return!f&&!h?!0:f?u<l:c>l});return i.length?i.length===1?i[0].descriptor.id:eT({pageBorderBox:e,draggable:n,candidates:i}):null}var dw=function(e,n){return Yt(Bs(e,n))},nT=function(t,e){var n=t.frame;return n?dw(e,n.scroll.diff.value):e};function fw(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function rT(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var iT=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.last,s=t.viewport,a=t.afterCritical,l=r.axis,u=Us(r.axis,n.displaceBy),c=u.value,d=e[l.start],f=e[l.end],h=Iu(n,i),m=cr(h,function(E){var g=E.descriptor.id,p=E.page.borderBox.center[l.line],v=rr(g,a),w=fw({displaced:o,id:g});return v?w?f<=p:d<p-c:w?f<=p+c:d<p}),y=rT({draggable:n,closest:m,inHomeList:ji(n,r)});return Tl({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:u,index:y})},oT=4,sT=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,o=t.insideDestination,s=t.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,l=Us(i.axis,e.displaceBy),u=l.value,c=n[a.start],d=n[a.end],f=Iu(e,o),h=cr(f,function(y){var E=y.descriptor.id,g=y.page.borderBox,p=g[a.size],v=p/oT,w=rr(E,s),S=fw({displaced:r.displaced,id:E});return w?S?d>g[a.start]+v&&d<g[a.end]-v:c>g[a.start]-u+v&&c<g[a.end]-u-v:S?d>g[a.start]+u+v&&d<g[a.end]+u-v:c>g[a.start]+v&&c<g[a.end]-v});if(!h)return null;var m={displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}};return m},hw=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,o=t.previousImpact,s=t.viewport,a=t.afterCritical,l=dw(n.page.borderBox,e),u=tT({pageBorderBox:l,draggable:n,droppables:i});if(!u)return Eb;var c=i[u],d=zi(c.descriptor.id,r),f=nT(c,l);return sT({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:o,destination:c,insideDestination:d,afterCritical:a})||iT({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:c,insideDestination:d,last:o.displaced,viewport:s,afterCritical:a})},Yh=function(t,e){var n;return _({},t,(n={},n[e.descriptor.id]=e,n))},aT=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,o=Dt(n),s=Dt(r);if(!o||o===s)return i;var a=i[o];if(!a.subject.withPlaceholder)return i;var l=Kb(a);return Yh(i,l)},lT=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,o=t.impact,s=aT({previousImpact:i,impact:o,droppables:r}),a=Dt(o);if(!a)return s;var l=r[a];if(ji(e,l)||l.subject.withPlaceholder)return s;var u=uw(l,e,n);return Yh(s,u)},Po=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,o=t.impact,s=t.scrollJumpRequest,a=i||e.viewport,l=r||e.dimensions,u=n||e.current.client.selection,c=Ct(u,e.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:Ge(e.initial.client.borderBoxCenter,c)},f={selection:Ge(d.selection,a.scroll.current),borderBoxCenter:Ge(d.borderBoxCenter,a.scroll.current),offset:Ge(d.offset,a.scroll.diff.value)},h={client:d,page:f};if(e.phase==="COLLECTING")return _({phase:"COLLECTING"},e,{dimensions:l,viewport:a,current:h});var m=l.draggables[e.critical.draggable.id],y=o||hw({pageOffset:f.offset,draggable:m,draggables:l.draggables,droppables:l.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),E=lT({draggable:m,impact:y,previousImpact:e.impact,draggables:l.draggables,droppables:l.droppables}),g=_({},e,{current:h,dimensions:{draggables:l.draggables,droppables:E},impact:y,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return g};function uT(t,e){return t.map(function(n){return e[n]})}var pw=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,o=t.forceShouldAnimate,s=e.displaced,a=uT(s.all,r),l=is({afterDragging:a,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return _({},e,{displaced:l})},gw=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,o=t.viewport,s=t.afterCritical,a=Du({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:s});return Qh({pageBorderBoxCenter:a,draggable:n,viewport:o})},mw=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&T(!1);var i=e.impact,o=r||e.viewport,s=n||e.dimensions,a=s.draggables,l=s.droppables,u=a[e.critical.draggable.id],c=Dt(i);c||T(!1);var d=l[c],f=pw({impact:i,viewport:o,destination:d,draggables:a}),h=gw({impact:f,draggable:u,droppable:d,draggables:a,viewport:o,afterCritical:e.afterCritical});return Po({impact:f,clientSelection:h,state:e,dimensions:s,viewport:o})},cT=function(t){return{index:t.index,droppableId:t.droppableId}},vw=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,o=Us(n.axis,e.displaceBy),s=zi(n.descriptor.id,r),a=s.indexOf(e);a===-1&&T(!1);var l=s.slice(a+1),u=l.reduce(function(h,m){return h[m.descriptor.id]=!0,h},{}),c={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u},d=is({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),f={displaced:d,displacedBy:o,at:{type:"REORDER",destination:cT(e.descriptor)}};return{impact:f,afterCritical:c}},dT=function(t,e){return{draggables:t.draggables,droppables:Yh(t.droppables,e)}},fT=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=Cl(e.client,n),o=Il(i,r),s=_({},e,{placeholder:_({},e.placeholder,{client:i}),client:i,page:o});return s},hT=function(t){var e=t.frame;return e||T(!1),e},pT=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(o){var s=o.descriptor.droppableId,a=n[s],l=hT(a),u=l.scroll.diff.value,c=Ge(i,u),d=fT({draggable:o,offset:c,initialWindowScroll:r.scroll.initial});return d})},gT=function(t){var e=t.state,n=t.published,r=n.modified.map(function(v){var w=e.dimensions.droppables[v.droppableId],S=jh(w,v.scroll);return S}),i=_({},e.dimensions.droppables,{},Z1(r)),o=ew(pT({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),s=_({},e.dimensions.draggables,{},o);n.removals.forEach(function(v){delete s[v]});var a={droppables:i,draggables:s},l=Dt(e.impact),u=l?a.droppables[l]:null,c=a.draggables[e.critical.draggable.id],d=a.droppables[e.critical.droppable.id],f=vw({draggable:c,home:d,draggables:s,viewport:e.viewport}),h=f.impact,m=f.afterCritical,y=u&&u.isCombineEnabled?e.impact:h,E=hw({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:y,viewport:e.viewport,afterCritical:m}),g=_({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:E,onLiftImpact:h,dimensions:a,afterCritical:m,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return g;var p=_({phase:"DROP_PENDING"},g,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return p},nf=function(e){return e.movementMode==="SNAP"},_c=function(e,n,r){var i=dT(e.dimensions,n);return!nf(e)||r?Po({state:e,dimensions:i}):mw({state:e,dimensions:i})};function Fc(t){return t.isDragging&&t.movementMode==="SNAP"?_({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var Um={phase:"IDLE",completed:null,shouldFlush:!1},mT=function(t,e){if(t===void 0&&(t=Um),e.type==="FLUSH")return _({},Um,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&T(!1);var n=e.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,a=n.movementMode,l=s.draggables[r.draggable.id],u=s.droppables[r.droppable.id],c={selection:i,borderBoxCenter:l.client.borderBox.center,offset:Le},d={client:c,page:{selection:Ge(c.selection,o.scroll.initial),borderBoxCenter:Ge(c.selection,o.scroll.initial),offset:Ge(c.selection,o.scroll.diff.value)}},f=Su(s.droppables).every(function(tc){return!tc.isFixedOnPage}),h=vw({draggable:l,home:u,draggables:s.draggables,viewport:o}),m=h.impact,y=h.afterCritical,E={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:d,current:d,isWindowScrollAllowed:f,impact:m,afterCritical:y,onLiftImpact:m,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return E}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&T(!1);var g=_({phase:"COLLECTING"},t,{phase:"COLLECTING"});return g}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||T(!1),gT({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;mr(t)||T(!1);var p=e.payload.client;return Xn(p,t.current.client.selection)?t:Po({state:t,clientSelection:p,impact:nf(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return Fc(t);mr(t)||T(!1);var v=e.payload,w=v.id,S=v.newScroll,C=t.dimensions.droppables[w];if(!C)return t;var x=jh(C,S);return _c(t,x,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;mr(t)||T(!1);var A=e.payload,O=A.id,M=A.isEnabled,W=t.dimensions.droppables[O];W||T(!1),W.isEnabled===M&&T(!1);var Pe=_({},W,{isEnabled:M});return _c(t,Pe,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;mr(t)||T(!1);var Ne=e.payload,fe=Ne.id,ht=Ne.isCombineEnabled,Ke=t.dimensions.droppables[fe];Ke||T(!1),Ke.isCombineEnabled===ht&&T(!1);var rn=_({},Ke,{isCombineEnabled:ht});return _c(t,rn,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;mr(t)||T(!1),t.isWindowScrollAllowed||T(!1);var P=e.payload.newScroll;if(Xn(t.viewport.scroll.current,P))return Fc(t);var V=sw(t.viewport,P);return nf(t)?mw({state:t,viewport:V}):Po({state:t,viewport:V})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!mr(t))return t;var B=e.payload.maxScroll;if(Xn(B,t.viewport.scroll.max))return t;var te=_({},t.viewport,{scroll:_({},t.viewport.scroll,{max:B})});return _({phase:"DRAGGING"},t,{viewport:te})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&T(!1);var J=Jb({state:t,type:e.type});return J?Po({state:t,impact:J.impact,clientSelection:J.clientSelection,scrollJumpRequest:J.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var on=e.payload.reason;t.phase!=="COLLECTING"&&T(!1);var Nt=_({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:on});return Nt}if(e.type==="DROP_ANIMATE"){var Rt=e.payload,Ot=Rt.completed,vn=Rt.dropDuration,na=Rt.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||T(!1);var ec={phase:"DROP_ANIMATING",completed:Ot,dropDuration:vn,newHomeClientOffset:na,dimensions:t.dimensions};return ec}if(e.type==="DROP_COMPLETE"){var jr=e.payload.completed;return{phase:"IDLE",completed:jr,shouldFlush:!1}}return t},vT=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},yT=function(e){return{type:"LIFT",payload:e}},wT=function(e){return{type:"INITIAL_PUBLISH",payload:e}},ET=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},ST=function(){return{type:"COLLECTION_STARTING",payload:null}},CT=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},IT=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},DT=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},yw=function(e){return{type:"MOVE",payload:e}},xT=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},bT=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},TT=function(){return{type:"MOVE_UP",payload:null}},AT=function(){return{type:"MOVE_DOWN",payload:null}},kT=function(){return{type:"MOVE_RIGHT",payload:null}},PT=function(){return{type:"MOVE_LEFT",payload:null}},Xh=function(){return{type:"FLUSH",payload:null}},NT=function(e){return{type:"DROP_ANIMATE",payload:e}},Jh=function(e){return{type:"DROP_COMPLETE",payload:e}},ww=function(e){return{type:"DROP",payload:e}},RT=function(e){return{type:"DROP_PENDING",payload:e}},Ew=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},OT=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,a=s.id,l=s.clientSelection,u=s.movementMode,c=n();c.phase==="DROP_ANIMATING"&&r(Jh({completed:c.completed})),n().phase!=="IDLE"&&T(!1),r(Xh()),r(vT({draggableId:a,movementMode:u}));var d={shouldPublishImmediately:u==="SNAP"},f={draggableId:a,scrollOptions:d},h=t.startPublishing(f),m=h.critical,y=h.dimensions,E=h.viewport;r(wT({critical:m,dimensions:y,clientSelection:l,movementMode:u,viewport:E}))}}}},MT=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},Zh={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},os={opacity:{drop:0,combining:.7},scale:{drop:.75}},ep={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},hr=ep.outOfTheWay+"s "+Zh.outOfTheWay,No={fluid:"opacity "+hr,snap:"transform "+hr+", opacity "+hr,drop:function(e){var n=e+"s "+Zh.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+hr,placeholder:"height "+hr+", width "+hr+", margin "+hr},Vm=function(e){return Xn(e,Le)?null:"translate("+e.x+"px, "+e.y+"px)"},rf={moveTo:Vm,drop:function(e,n){var r=Vm(e);return r?n?r+" scale("+os.scale.drop+")":r:null}},of=ep.minDropTime,Sw=ep.maxDropTime,$T=Sw-of,zm=1500,LT=.6,_T=function(t){var e=t.current,n=t.destination,r=t.reason,i=ns(e,n);if(i<=0)return of;if(i>=zm)return Sw;var o=i/zm,s=of+$T*o,a=r==="CANCEL"?s*LT:s;return Number(a.toFixed(2))},FT=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,o=t.afterCritical,s=r.draggables,a=r.droppables,l=Dt(e),u=l?a[l]:null,c=a[n.descriptor.droppableId],d=gw({impact:e,draggable:n,draggables:s,afterCritical:o,droppable:u||c,viewport:i}),f=Ct(d,n.client.borderBox.center);return f},BT=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,o=t.viewport,s=t.onLiftImpact;if(!r.at||n!=="DROP"){var a=pw({draggables:e,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var l=_({},r,{displaced:rs});return{impact:l,didDropInsideDroppable:!0}},UT=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=e(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(RT({reason:s}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&T(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||T(!1);var l=o.critical,u=o.dimensions,c=u.draggables[o.critical.draggable.id],d=BT({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),f=d.impact,h=d.didDropInsideDroppable,m=h?Hh(f):null,y=h?Cu(f):null,E={index:l.draggable.index,droppableId:l.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:E,reason:s,mode:o.movementMode,destination:m,combine:y},p=FT({impact:f,draggable:c,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),v={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:f},w=!Xn(o.current.client.offset,p)||!!g.combine;if(!w){n(Jh({completed:v}));return}var S=_T({current:o.current.client.offset,destination:p,reason:s}),C={newHomeClientOffset:p,dropDuration:S,completed:v};n(NT(C))}}}},Cw=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function VT(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function zT(t){var e=t.onWindowScroll;function n(){e(Cw())}var r=ts(n),i=VT(r),o=Yn;function s(){return o!==Yn}function a(){s()&&T(!1),o=Ut(window,[i])}function l(){s()||T(!1),r.cancel(),o(),o=Yn}return{start:a,stop:l,isActive:s}}var jT=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},GT=function(t){var e=zT({onWindowScroll:function(r){t.dispatch(xT({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&jT(r)&&e.stop(),n(r)}}},HT=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=function(){return e},i},WT=function(){var t=[],e=function(o){var s=Gh(t,function(u){return u.timerId===o});s===-1&&T(!1);var a=t.splice(s,1),l=a[0];l.callback()},n=function(o){var s=setTimeout(function(){return e(s)}),a={timerId:s,callback:o};t.push(a)},r=function(){if(t.length){var o=[].concat(t);t.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},qT=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},KT=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},QT=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},so=function(e,n){n()},Sa=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},Bc=function(e,n,r,i){if(!e){r(i(n));return}var o=HT(r),s={announce:o};e(n,s),o.wasCalled()||r(i(n))},YT=function(t,e){var n=WT(),r=null,i=function(f,h){r&&T(!1),so("onBeforeCapture",function(){var m=t().onBeforeCapture;if(m){var y={draggableId:f,mode:h};m(y)}})},o=function(f,h){r&&T(!1),so("onBeforeDragStart",function(){var m=t().onBeforeDragStart;m&&m(Sa(f,h))})},s=function(f,h){r&&T(!1);var m=Sa(f,h);r={mode:h,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(function(){so("onDragStart",function(){return Bc(t().onDragStart,m,e,Wa.onDragStart)})})},a=function(f,h){var m=Hh(h),y=Cu(h);r||T(!1);var E=!QT(f,r.lastCritical);E&&(r.lastCritical=f);var g=!qT(r.lastLocation,m);g&&(r.lastLocation=m);var p=!KT(r.lastCombine,y);if(p&&(r.lastCombine=y),!(!E&&!g&&!p)){var v=_({},Sa(f,r.mode),{combine:y,destination:m});n.add(function(){so("onDragUpdate",function(){return Bc(t().onDragUpdate,v,e,Wa.onDragUpdate)})})}},l=function(){r||T(!1),n.flush()},u=function(f){r||T(!1),r=null,so("onDragEnd",function(){return Bc(t().onDragEnd,f,e,Wa.onDragEnd)})},c=function(){if(r){var f=_({},Sa(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});u(f)}};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:u,abort:c}},XT=function(t,e){var n=YT(t,e);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;n.beforeStart(s,o.payload.movementMode),i(o),n.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}var l=r.getState();l.phase==="DRAGGING"&&n.update(l.critical,l.impact)}}}},JT=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&T(!1),t.dispatch(Jh({completed:r.completed}))}}},ZT=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var l=t.getState();l.phase==="DROP_ANIMATING"&&t.dispatch(Ew())}};n=requestAnimationFrame(function(){n=null,e=Ut(window,[s])})}}}},eA=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},tA=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},nA=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},rA=function(t){return function(e){return function(n){return function(r){if(nA(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&T(!1),t.start(i);return}n(r),t.scroll(e.getState())}}}},iA=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(ww({reason:r.reason})))}}}},oA=A1,sA=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,o=t.announce,s=t.autoScroller;return T1(mT,oA(HD(MT(r),eA(e),OT(e),UT,JT,ZT,iA,rA(s),GT,tA(n),XT(i,o))))},Uc=function(){return{additions:{},removals:{},modified:{}}};function aA(t){var e=t.registry,n=t.callbacks,r=Uc(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var c=r,d=c.additions,f=c.removals,h=c.modified,m=Object.keys(d).map(function(g){return e.draggable.getById(g).getDimension(Le)}).sort(function(g,p){return g.descriptor.index-p.descriptor.index}),y=Object.keys(h).map(function(g){var p=e.droppable.getById(g),v=p.callbacks.getScrollWhileDragging();return{droppableId:g,scroll:v}}),E={additions:m,removals:Object.keys(f),modified:y};r=Uc(),n.publish(E)}))},s=function(c){var d=c.descriptor.id;r.additions[d]=c,r.modified[c.descriptor.droppableId]=!0,r.removals[d]&&delete r.removals[d],o()},a=function(c){var d=c.descriptor;r.removals[d.id]=!0,r.modified[d.droppableId]=!0,r.additions[d.id]&&delete r.additions[d.id],o()},l=function(){i&&(cancelAnimationFrame(i),i=null,r=Uc())};return{add:s,remove:a,stop:l}}var Iw=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,o=Ct({x:n,y:e},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},Dw=function(){var t=document.documentElement;return t||T(!1),t},xw=function(){var t=Dw(),e=Iw({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},lA=function(){var t=Cw(),e=xw(),n=t.y,r=t.x,i=Dw(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s,u=Yt({top:n,left:r,right:a,bottom:l}),c={frame:u,scroll:{initial:t,current:t,max:e,diff:{value:Le,displacement:Le}}};return c},uA=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=lA(),o=i.scroll.current,s=e.droppable,a=r.droppable.getAllByType(s.type).map(function(d){return d.callbacks.getDimensionAndWatchScroll(o,n)}),l=r.draggable.getAllByType(e.draggable.type).map(function(d){return d.getDimension(o)}),u={draggables:ew(l),droppables:Z1(a)},c={dimensions:u,critical:e,viewport:i};return c};function jm(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var cA=function(t,e){var n=null,r=aA({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(h,m){t.droppable.exists(h)||T(!1),n&&e.updateDroppableIsEnabled({id:h,isEnabled:m})},o=function(h,m){n&&(t.droppable.exists(h)||T(!1),e.updateDroppableIsCombineEnabled({id:h,isCombineEnabled:m}))},s=function(h,m){n&&(t.droppable.exists(h)||T(!1),e.updateDroppableScroll({id:h,newScroll:m}))},a=function(h,m){n&&t.droppable.getById(h).callbacks.scroll(m)},l=function(){if(n){r.stop();var h=n.critical.droppable;t.droppable.getAllByType(h.type).forEach(function(m){return m.callbacks.dragStopped()}),n.unsubscribe(),n=null}},u=function(h){n||T(!1);var m=n.critical.draggable;h.type==="ADDITION"&&jm(t,m,h.value)&&r.add(h.value),h.type==="REMOVAL"&&jm(t,m,h.value)&&r.remove(h.value)},c=function(h){n&&T(!1);var m=t.draggable.getById(h.draggableId),y=t.droppable.getById(m.descriptor.droppableId),E={draggable:m.descriptor,droppable:y.descriptor},g=t.subscribe(u);return n={critical:E,unsubscribe:g},uA({critical:E,registry:t,scrollOptions:h.scrollOptions})},d={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:c,stopPublishing:l};return d},bw=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},dA=function(t){window.scrollBy(t.x,t.y)},fA=$e(function(t){return Su(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),hA=function(e,n){var r=cr(fA(n),function(i){return i.frame||T(!1),cw(i.frame.pageMarginBox)(e)});return r},pA=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var o=hA(e,r);return o},Jn={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},gA=function(t,e){var n=t[e.size]*Jn.startFromPercentage,r=t[e.size]*Jn.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},Tw=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var o=r-e,s=o/i;return s},tp=1,mA=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return Jn.maxPixelScroll;if(t===e.startScrollingFrom)return tp;var n=Tw({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=Jn.maxPixelScroll*Jn.ease(r);return Math.ceil(i)},Gm=Jn.durationDampening.accelerateAt,Hm=Jn.durationDampening.stopDampeningAt,vA=function(t,e){var n=e,r=Hm,i=Date.now(),o=i-n;if(o>=Hm)return t;if(o<Gm)return tp;var s=Tw({startOfRange:Gm,endOfRange:r,current:o}),a=t*Jn.ease(s);return Math.ceil(a)},Wm=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,o=mA(e,n);return o===0?0:i?Math.max(vA(o,r),tp):o},qm=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,o=t.shouldUseTimeDampening,s=gA(e,i),a=n[i.end]<n[i.start];return a?Wm({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*Wm({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},yA=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,o=n.width>e.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},wA=X1(function(t){return t===0?0:t}),Aw=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,o=t.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=qm({container:n,distanceToEdges:s,dragStartTime:e,axis:Wh,shouldUseTimeDampening:o}),l=qm({container:n,distanceToEdges:s,dragStartTime:e,axis:rw,shouldUseTimeDampening:o}),u=wA({x:l,y:a});if(Xn(u,Le))return null;var c=yA({container:n,subject:r,proposedScroll:u});return c?Xn(c,Le)?null:c:null},EA=X1(function(t){return t===0?0:t>0?1:-1}),np=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,o=Ge(n,i),s={x:t(o.x,r.x),y:t(o.y,r.y)};return Xn(s,Le)?null:s}}(),kw=function(e){var n=e.max,r=e.current,i=e.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=EA(i),a=np({max:o,current:r,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},rp=function(e,n){return kw({current:e.scroll.current,max:e.scroll.max,change:n})},SA=function(e,n){if(!rp(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return np({current:i,max:r,change:n})},ip=function(e,n){var r=e.frame;return r?kw({current:r.scroll.current,max:r.scroll.max,change:n}):!1},CA=function(e,n){var r=e.frame;return!r||!ip(e,n)?null:np({current:r.scroll.current,max:r.scroll.max,change:n})},IA=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=Aw({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&rp(e,s)?s:null},DA=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=e.frame;if(!s)return null;var a=Aw({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return a&&ip(e,a)?a:null},Km=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,o=t.scrollDroppable,s=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id],l=a.page.marginBox;if(e.isWindowScrollAllowed){var u=e.viewport,c=IA({dragStartTime:n,viewport:u,subject:l,center:s,shouldUseTimeDampening:r});if(c){i(c);return}}var d=pA({center:s,destination:Dt(e.impact),droppables:e.dimensions.droppables});if(d){var f=DA({dragStartTime:n,droppable:d,subject:l,center:s,shouldUseTimeDampening:r});f&&o(d.descriptor.id,f)}},xA=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=ts(e),i=ts(n),o=null,s=function(c){o||T(!1);var d=o,f=d.shouldUseTimeDampening,h=d.dragStartTime;Km({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:f})},a=function(c){o&&T(!1);var d=Date.now(),f=!1,h=function(){f=!0};Km({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h}),o={dragStartTime:d,shouldUseTimeDampening:f},f&&s(c)},l=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:a,stop:l,scroll:s}},bA=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(u,c){var d=Ge(u.current.client.selection,c);e({client:d})},o=function(u,c){if(!ip(u,c))return c;var d=CA(u,c);if(!d)return n(u.descriptor.id,c),null;var f=Ct(c,d);n(u.descriptor.id,f);var h=Ct(c,f);return h},s=function(u,c,d){if(!u||!rp(c,d))return d;var f=SA(c,d);if(!f)return r(d),null;var h=Ct(d,f);r(h);var m=Ct(d,h);return m},a=function(u){var c=u.scrollJumpRequest;if(c){var d=Dt(u.impact);d||T(!1);var f=o(u.dimensions.droppables[d],c);if(f){var h=u.viewport,m=s(u.isWindowScrollAllowed,h,f);m&&i(u,m)}}};return a},TA=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=xA({scrollWindow:n,scrollDroppable:e}),o=bA({move:r,scrollWindow:n,scrollDroppable:e}),s=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&o(u)}},a={scroll:s,start:i.start,stop:i.stop};return a},Ai="data-rbd",ki=function(){var t=Ai+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),sf=function(){var t=Ai+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),AA=function(){var t=Ai+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),Qm={contextId:Ai+"-scroll-container-context-id"},kA=function(e){return function(n){return"["+n+'="'+e+'"]'}},ao=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},PA="pointer-events: none;",NA=function(t){var e=kA(t),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(ki.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:PA,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+No.outOfTheWay+`;
    `;return{selector:e(sf.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:e(AA.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,o];return{always:ao(s,"always"),resting:ao(s,"resting"),dragging:ao(s,"dragging"),dropAnimating:ao(s,"dropAnimating"),userCancel:ao(s,"userCancel")}},xt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?R.useLayoutEffect:R.useEffect,Vc=function(){var e=document.querySelector("head");return e||T(!1),e},Ym=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function RA(t,e){var n=Y(function(){return NA(t)},[t]),r=R.useRef(null),i=R.useRef(null),o=L($e(function(d){var f=i.current;f||T(!1),f.textContent=d}),[]),s=L(function(d){var f=r.current;f||T(!1),f.textContent=d},[]);xt(function(){!r.current&&!i.current||T(!1);var d=Ym(e),f=Ym(e);return r.current=d,i.current=f,d.setAttribute(Ai+"-always",t),f.setAttribute(Ai+"-dynamic",t),Vc().appendChild(d),Vc().appendChild(f),s(n.always),o(n.resting),function(){var h=function(y){var E=y.current;E||T(!1),Vc().removeChild(E),y.current=null};h(r),h(i)}},[e,s,o,n.always,n.resting,t]);var a=L(function(){return o(n.dragging)},[o,n.dragging]),l=L(function(d){if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=L(function(){i.current&&o(n.resting)},[o,n.resting]),c=Y(function(){return{dragging:a,dropping:l,resting:u}},[a,l,u]);return c}var Pw=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function xu(t){return t instanceof Pw(t).HTMLElement}function OA(t,e){var n="["+ki.contextId+'="'+t+'"]',r=J1(document.querySelectorAll(n));if(!r.length)return null;var i=cr(r,function(o){return o.getAttribute(ki.draggableId)===e});return!i||!xu(i)?null:i}function MA(t){var e=R.useRef({}),n=R.useRef(null),r=R.useRef(null),i=R.useRef(!1),o=L(function(f,h){var m={id:f,focus:h};return e.current[f]=m,function(){var E=e.current,g=E[f];g!==m&&delete E[f]}},[]),s=L(function(f){var h=OA(t,f);h&&h!==document.activeElement&&h.focus()},[t]),a=L(function(f,h){n.current===f&&(n.current=h)},[]),l=L(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var f=n.current;f&&s(f)}))},[s]),u=L(function(f){n.current=null;var h=document.activeElement;h&&h.getAttribute(ki.draggableId)===f&&(n.current=f)},[]);xt(function(){return i.current=!0,function(){i.current=!1;var f=r.current;f&&cancelAnimationFrame(f)}},[]);var c=Y(function(){return{register:o,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}},[o,u,l,a]);return c}function $A(){var t={draggables:{},droppables:{}},e=[];function n(d){return e.push(d),function(){var h=e.indexOf(d);h!==-1&&e.splice(h,1)}}function r(d){e.length&&e.forEach(function(f){return f(d)})}function i(d){return t.draggables[d]||null}function o(d){var f=i(d);return f||T(!1),f}var s={register:function(f){t.draggables[f.descriptor.id]=f,r({type:"ADDITION",value:f})},update:function(f,h){var m=t.draggables[h.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete t.draggables[h.descriptor.id],t.draggables[f.descriptor.id]=f)},unregister:function(f){var h=f.descriptor.id,m=i(h);m&&f.uniqueId===m.uniqueId&&(delete t.draggables[h],r({type:"REMOVAL",value:f}))},getById:o,findById:i,exists:function(f){return!!i(f)},getAllByType:function(f){return bl(t.draggables).filter(function(h){return h.descriptor.type===f})}};function a(d){return t.droppables[d]||null}function l(d){var f=a(d);return f||T(!1),f}var u={register:function(f){t.droppables[f.descriptor.id]=f},unregister:function(f){var h=a(f.descriptor.id);h&&f.uniqueId===h.uniqueId&&delete t.droppables[f.descriptor.id]},getById:l,findById:a,exists:function(f){return!!a(f)},getAllByType:function(f){return bl(t.droppables).filter(function(h){return h.descriptor.type===f})}};function c(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:u,subscribe:n,clean:c}}function LA(){var t=Y($A,[]);return R.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var op=le.createContext(null),Al=function(){var t=document.body;return t||T(!1),t},_A={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},FA=function(e){return"rbd-announcement-"+e};function BA(t){var e=Y(function(){return FA(t)},[t]),n=R.useRef(null);R.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),_(o.style,_A),Al().appendChild(o),function(){setTimeout(function(){var l=Al();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[e]);var r=L(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var UA=0,VA={separator:"::"};function sp(t,e){return e===void 0&&(e=VA),Y(function(){return""+t+e.separator+UA++},[e.separator,t])}function zA(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function jA(t){var e=t.contextId,n=t.text,r=sp("hidden-text",{separator:"-"}),i=Y(function(){return zA({contextId:e,uniqueId:r})},[r,e]);return R.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",Al().appendChild(s),function(){var l=Al();l.contains(s)&&l.removeChild(s)}},[i,n]),i}var bu=le.createContext(null);function Nw(t){var e=R.useRef(t);return R.useEffect(function(){e.current=t}),e}function GA(){var t=null;function e(){return!!t}function n(s){return s===t}function r(s){t&&T(!1);var a={abandon:s};return t=a,a}function i(){t||T(!1),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}var HA=9,WA=13,ap=27,Rw=32,qA=33,KA=34,QA=35,YA=36,XA=37,JA=38,ZA=39,ek=40,Ca,tk=(Ca={},Ca[WA]=!0,Ca[HA]=!0,Ca),Ow=function(t){tk[t.keyCode]&&t.preventDefault()},Tu=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=cr(e,function(r){return"on"+r in document});return n||t}(),Mw=0,Xm=5;function nk(t,e){return Math.abs(e.x-t.x)>=Xm||Math.abs(e.y-t.y)>=Xm}var Jm={type:"IDLE"};function rk(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(s){var a=s.button,l=s.clientX,u=s.clientY;if(a===Mw){var c={x:l,y:u},d=r();if(d.type==="DRAGGING"){s.preventDefault(),d.actions.move(c);return}d.type!=="PENDING"&&T(!1);var f=d.point;if(nk(f,c)){s.preventDefault();var h=d.actions.fluidLift(c);i({type:"DRAGGING",actions:h})}}}},{eventName:"mouseup",fn:function(s){var a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:function(s){var a=r();if(a.type==="PENDING"){e();return}if(s.keyCode===ap){s.preventDefault(),e();return}Ow(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(s){var a=r();if(a.type==="IDLE"&&T(!1),a.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:Tu,fn:e}]}function ik(t){var e=R.useRef(Jm),n=R.useRef(Yn),r=Y(function(){return{eventName:"mousedown",fn:function(d){if(!d.defaultPrevented&&d.button===Mw&&!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)){var f=t.findClosestDraggableId(d);if(f){var h=t.tryGetLock(f,s,{sourceEvent:d});if(h){d.preventDefault();var m={x:d.clientX,y:d.clientY};n.current(),u(h,m)}}}}}},[t]),i=Y(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(d){if(!d.defaultPrevented){var f=t.findClosestDraggableId(d);if(f){var h=t.findOptionsForDraggable(f);h&&(h.shouldRespectForcePress||t.canGetLock(f)&&d.preventDefault())}}}}},[t]),o=L(function(){var d={passive:!1,capture:!0};n.current=Ut(window,[i,r],d)},[i,r]),s=L(function(){var c=e.current;c.type!=="IDLE"&&(e.current=Jm,n.current(),o())},[o]),a=L(function(){var c=e.current;s(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[s]),l=L(function(){var d={capture:!0,passive:!1},f=rk({cancel:a,completed:s,getPhase:function(){return e.current},setPhase:function(m){e.current=m}});n.current=Ut(window,f,d)},[a,s]),u=L(function(d,f){e.current.type!=="IDLE"&&T(!1),e.current={type:"PENDING",point:f,actions:d},l()},[l]);xt(function(){return o(),function(){n.current()}},[o])}var Hr;function ok(){}var sk=(Hr={},Hr[KA]=!0,Hr[qA]=!0,Hr[YA]=!0,Hr[QA]=!0,Hr);function ak(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===ap){o.preventDefault(),n();return}if(o.keyCode===Rw){o.preventDefault(),r();return}if(o.keyCode===ek){o.preventDefault(),t.moveDown();return}if(o.keyCode===JA){o.preventDefault(),t.moveUp();return}if(o.keyCode===ZA){o.preventDefault(),t.moveRight();return}if(o.keyCode===XA){o.preventDefault(),t.moveLeft();return}if(sk[o.keyCode]){o.preventDefault();return}Ow(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Tu,fn:n}]}function lk(t){var e=R.useRef(ok),n=Y(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==Rw)return;var s=t.findClosestDraggableId(o);if(!s)return;var a=t.tryGetLock(s,c,{sourceEvent:o});if(!a)return;o.preventDefault();var l=!0,u=a.snapLift();e.current();function c(){l||T(!1),l=!1,e.current(),r()}e.current=Ut(window,ak(u,c),{capture:!0,passive:!1})}}},[t]),r=L(function(){var o={passive:!1,capture:!0};e.current=Ut(window,[n],o)},[n]);xt(function(){return r(),function(){e.current()}},[r])}var zc={type:"IDLE"},uk=120,ck=.15;function dk(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===ap&&i.preventDefault(),e()}},{eventName:Tu,fn:e}]}function fk(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;var a=o.touches[0],l=a.clientX,u=a.clientY,c={x:l,y:u};o.preventDefault(),s.actions.move(c)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){e();return}o.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&T(!1);var a=o.touches[0];if(a){var l=a.force>=ck;if(l){var u=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){u&&e();return}if(u){if(s.hasMoved){o.preventDefault();return}e();return}o.preventDefault()}}}},{eventName:Tu,fn:e}]}function hk(t){var e=R.useRef(zc),n=R.useRef(Yn),r=L(function(){return e.current},[]),i=L(function(h){e.current=h},[]),o=Y(function(){return{eventName:"touchstart",fn:function(h){if(!h.defaultPrevented){var m=t.findClosestDraggableId(h);if(m){var y=t.tryGetLock(m,a,{sourceEvent:h});if(y){var E=h.touches[0],g=E.clientX,p=E.clientY,v={x:g,y:p};n.current(),d(y,v)}}}}}},[t]),s=L(function(){var h={capture:!0,passive:!1};n.current=Ut(window,[o],h)},[o]),a=L(function(){var f=e.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(zc),n.current(),s())},[s,i]),l=L(function(){var f=e.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),u=L(function(){var h={capture:!0,passive:!1},m={cancel:l,completed:a,getPhase:r},y=Ut(window,fk(m),h),E=Ut(window,dk(m),h);n.current=function(){y(),E()}},[l,r,a]),c=L(function(){var h=r();h.type!=="PENDING"&&T(!1);var m=h.actions.fluidLift(h.point);i({type:"DRAGGING",actions:m,hasMoved:!1})},[r,i]),d=L(function(h,m){r().type!=="IDLE"&&T(!1);var y=setTimeout(c,uk);i({type:"PENDING",point:m,actions:h,longPressTimerId:y}),u()},[u,r,i,c]);xt(function(){return s(),function(){n.current();var m=r();m.type==="PENDING"&&(clearTimeout(m.longPressTimerId),i(zc))}},[r,s,i]),xt(function(){var h=Ut(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return h},[])}var pk={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function $w(t,e){if(e==null)return!1;var n=!!pk[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:$w(t,e.parentElement)}function gk(t,e){var n=e.target;return xu(n)?$w(t,n):!1}var mk=function(t){return Yt(t.getBoundingClientRect()).center};function vk(t){return t instanceof Pw(t).Element}var yk=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=cr(e,function(r){return r in Element.prototype});return n||t}();function Lw(t,e){return t==null?null:t[yk](e)?t:Lw(t.parentElement,e)}function wk(t,e){return t.closest?t.closest(e):Lw(t,e)}function Ek(t){return"["+ki.contextId+'="'+t+'"]'}function Sk(t,e){var n=e.target;if(!vk(n))return null;var r=Ek(t),i=wk(n,r);return!i||!xu(i)?null:i}function Ck(t,e){var n=Sk(t,e);return n?n.getAttribute(ki.draggableId):null}function Ik(t,e){var n="["+sf.contextId+'="'+t+'"]',r=J1(document.querySelectorAll(n)),i=cr(r,function(o){return o.getAttribute(sf.id)===e});return!i||!xu(i)?null:i}function Dk(t){t.preventDefault()}function Ia(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function _w(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!bw(n.getState(),i))}function xk(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,o=t.draggableId,s=t.forceSensorStop,a=t.sourceEvent,l=_w({lockAPI:e,store:r,registry:i,draggableId:o});if(!l)return null;var u=i.draggable.getById(o),c=Ik(n,u.descriptor.id);if(!c||a&&!u.options.canDragInteractiveElements&&gk(c,a))return null;var d=e.claim(s||Yn),f="PRE_DRAG";function h(){return u.options.shouldRespectForcePress}function m(){return e.isActive(d)}function y(C,x){Ia({expected:C,phase:f,isLockActive:m,shouldWarn:!0})&&r.dispatch(x())}var E=y.bind(null,"DRAGGING");function g(C){function x(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(x(),f!=="PRE_DRAG"&&T(!1)),r.dispatch(yT(C.liftActionArgs)),f="DRAGGING";function A(O,M){if(M===void 0&&(M={shouldBlockNextClick:!1}),C.cleanup(),M.shouldBlockNextClick){var W=Ut(window,[{eventName:"click",fn:Dk,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(W)}x(),r.dispatch(ww({reason:O}))}return _({isActive:function(){return Ia({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(M){return A("DROP",M)},cancel:function(M){return A("CANCEL",M)}},C.actions)}function p(C){var x=ts(function(O){E(function(){return yw({client:O})})}),A=g({liftActionArgs:{id:o,clientSelection:C,movementMode:"FLUID"},cleanup:function(){return x.cancel()},actions:{move:x}});return _({},A,{move:x})}function v(){var C={moveUp:function(){return E(TT)},moveRight:function(){return E(kT)},moveDown:function(){return E(AT)},moveLeft:function(){return E(PT)}};return g({liftActionArgs:{id:o,clientSelection:mk(c),movementMode:"SNAP"},cleanup:Yn,actions:C})}function w(){var C=Ia({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0});C&&e.release()}var S={isActive:function(){return Ia({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:p,snapLift:v,abort:w};return S}var bk=[ik,lk,hk];function Tk(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,o=t.enableDefaultSensors,s=[].concat(o?bk:[],i||[]),a=R.useState(function(){return GA()})[0],l=L(function(p,v){p.isDragging&&!v.isDragging&&a.tryAbandon()},[a]);xt(function(){var p=n.getState(),v=n.subscribe(function(){var w=n.getState();l(p,w),p=w});return v},[a,n,l]),xt(function(){return a.tryAbandon},[a.tryAbandon]);for(var u=L(function(g){return _w({lockAPI:a,registry:r,store:n,draggableId:g})},[a,r,n]),c=L(function(g,p,v){return xk({lockAPI:a,registry:r,contextId:e,store:n,draggableId:g,forceSensorStop:p,sourceEvent:v&&v.sourceEvent?v.sourceEvent:null})},[e,a,r,n]),d=L(function(g){return Ck(e,g)},[e]),f=L(function(g){var p=r.draggable.findById(g);return p?p.options:null},[r.draggable]),h=L(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Xh()))},[a,n]),m=L(a.isClaimed,[a]),y=Y(function(){return{canGetLock:u,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:m}},[u,c,d,f,h,m]),E=0;E<s.length;E++)s[E](y)}var Ak=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function lo(t){return t.current||T(!1),t.current}function kk(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,o=t.dragHandleUsageInstructions,s=R.useRef(null),a=Nw(t),l=L(function(){return Ak(a.current)},[a]),u=BA(e),c=jA({contextId:e,text:o}),d=RA(e,i),f=L(function(O){lo(s).dispatch(O)},[]),h=Y(function(){return Sm({publishWhileDragging:ET,updateDroppableScroll:CT,updateDroppableIsEnabled:IT,updateDroppableIsCombineEnabled:DT,collectionStarting:ST},f)},[f]),m=LA(),y=Y(function(){return cA(m,h)},[m,h]),E=Y(function(){return TA(_({scrollWindow:dA,scrollDroppable:y.scrollDroppable},Sm({move:yw},f)))},[y.scrollDroppable,f]),g=MA(e),p=Y(function(){return sA({announce:u,autoScroller:E,dimensionMarshal:y,focusMarshal:g,getResponders:l,styleMarshal:d})},[u,E,y,g,l,d]);s.current=p;var v=L(function(){var O=lo(s),M=O.getState();M.phase!=="IDLE"&&O.dispatch(Xh())},[]),w=L(function(){var O=lo(s).getState();return O.isDragging||O.phase==="DROP_ANIMATING"},[]),S=Y(function(){return{isDragging:w,tryAbort:v}},[w,v]);n(S);var C=L(function(O){return bw(lo(s).getState(),O)},[]),x=L(function(){return mr(lo(s).getState())},[]),A=Y(function(){return{marshal:y,focus:g,contextId:e,canLift:C,isMovementAllowed:x,dragHandleUsageInstructionsId:c,registry:m}},[e,y,c,g,C,x,m]);return Tk({contextId:e,store:p,registry:m,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),R.useEffect(function(){return v},[v]),le.createElement(bu.Provider,{value:A},le.createElement(YD,{context:op,store:p},t.children))}var Pk=0;function Nk(){return Y(function(){return""+Pk++},[])}function Rk(t){var e=Nk(),n=t.dragHandleUsageInstructions||Wa.dragHandleUsageInstructions;return le.createElement(lb,null,function(r){return le.createElement(kk,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var Fw=function(e){return function(n){return e===n}},Ok=Fw("scroll"),Mk=Fw("auto"),Zm=function(e,n){return n(e.overflowX)||n(e.overflowY)},$k=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return Zm(r,Ok)||Zm(r,Mk)},Lk=function(){return!1},_k=function t(e){return e==null?null:e===document.body?Lk()?e:null:e===document.documentElement?null:$k(e)?e:t(e.parentElement)},af=function(t){return{x:t.scrollLeft,y:t.scrollTop}},Fk=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},Bk=function(t){var e=_k(t),n=Fk(t);return{closestScrollable:e,isFixedOnPage:n}},Uk=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,o=t.direction,s=t.client,a=t.page,l=t.closest,u=function(){if(!l)return null;var h=l.scrollSize,m=l.client,y=Iw({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:m,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:y,diff:{value:Le,displacement:Le}}}}(),c=o==="vertical"?Wh:rw,d=Ti({page:a,withPlaceholder:null,axis:c,frame:u}),f={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:c,isEnabled:n,client:s,page:a,frame:u,subject:d};return f},Vk=function(e,n){var r=q1(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,a=o+n.scrollWidth,l={top:i,right:a,bottom:s,left:o},u=Vh(l,r.border),c=zh({borderBox:u,margin:r.margin,border:r.border,padding:r.padding});return c},zk=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,o=t.direction,s=t.isDropDisabled,a=t.isCombineEnabled,l=t.shouldClipSubject,u=r.closestScrollable,c=Vk(e,u),d=Il(c,i),f=function(){if(!u)return null;var m=q1(u),y={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:m,page:Il(m,i),scroll:af(u),scrollSize:y,shouldClipSubject:l}}(),h=Uk({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:c,page:d,closest:f});return h},jk={passive:!1},Gk={passive:!0},ev=function(t){return t.shouldPublishImmediately?jk:Gk};function kl(t){var e=R.useContext(t);return e||T(!1),e}var Da=function(e){return e&&e.env.closestScrollable||null};function Hk(t){var e=R.useRef(null),n=kl(bu),r=sp("droppable"),i=n.registry,o=n.marshal,s=Nw(t),a=Y(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),l=R.useRef(a),u=Y(function(){return $e(function(w,S){e.current||T(!1);var C={x:w,y:S};o.updateDroppableScroll(a.id,C)})},[a.id,o]),c=L(function(){var w=e.current;return!w||!w.env.closestScrollable?Le:af(w.env.closestScrollable)},[]),d=L(function(){var w=c();u(w.x,w.y)},[c,u]),f=Y(function(){return ts(d)},[d]),h=L(function(){var w=e.current,S=Da(w);w&&S||T(!1);var C=w.scrollOptions;if(C.shouldPublishImmediately){d();return}f()},[f,d]),m=L(function(w,S){e.current&&T(!1);var C=s.current,x=C.getDroppableRef();x||T(!1);var A=Bk(x),O={ref:x,descriptor:a,env:A,scrollOptions:S};e.current=O;var M=zk({ref:x,descriptor:a,env:A,windowScroll:w,direction:C.direction,isDropDisabled:C.isDropDisabled,isCombineEnabled:C.isCombineEnabled,shouldClipSubject:!C.ignoreContainerClipping}),W=A.closestScrollable;return W&&(W.setAttribute(Qm.contextId,n.contextId),W.addEventListener("scroll",h,ev(O.scrollOptions))),M},[n.contextId,a,h,s]),y=L(function(){var w=e.current,S=Da(w);return w&&S||T(!1),af(S)},[]),E=L(function(){var w=e.current;w||T(!1);var S=Da(w);e.current=null,S&&(f.cancel(),S.removeAttribute(Qm.contextId),S.removeEventListener("scroll",h,ev(w.scrollOptions)))},[h,f]),g=L(function(w){var S=e.current;S||T(!1);var C=Da(S);C||T(!1),C.scrollTop+=w.y,C.scrollLeft+=w.x},[]),p=Y(function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:y,dragStopped:E,scroll:g}},[E,m,y,g]),v=Y(function(){return{uniqueId:r,descriptor:a,callbacks:p}},[p,a,r]);xt(function(){return l.current=v.descriptor,i.droppable.register(v),function(){e.current&&E(),i.droppable.unregister(v)}},[p,a,E,v,o,i.droppable]),xt(function(){e.current&&o.updateDroppableIsEnabled(l.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),xt(function(){e.current&&o.updateDroppableIsCombineEnabled(l.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function jc(){}var tv={width:0,height:0,margin:pb},Wk=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?tv:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},qk=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,o=Wk({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?No.placeholder:null}};function Kk(t){var e=R.useRef(null),n=L(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,o=t.onClose,s=t.contextId,a=R.useState(t.animate==="open"),l=a[0],u=a[1];R.useEffect(function(){return l?r!=="open"?(n(),u(!1),jc):e.current?jc:(e.current=setTimeout(function(){e.current=null,u(!1)}),n):jc},[r,l,n]);var c=L(function(f){f.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),d=qk({isAnimatingOpenOnMount:l,animate:t.animate,placeholder:t.placeholder});return le.createElement(t.placeholder.tagName,{style:d,"data-rbd-placeholder-context-id":s,onTransitionEnd:c,ref:t.innerRef})}var Qk=le.memo(Kk),lp=le.createContext(null),Yk=function(t){b1(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(le.PureComponent),nv={dragging:5e3,dropAnimating:4500},Xk=function(e,n){return n?No.drop(n.duration):e?No.snap:No.fluid},Jk=function(e,n){return e?n?os.opacity.drop:os.opacity.combining:null},Zk=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function eP(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,o=t.dropping,s=!!i,a=Zk(t),l=!!o,u=l?rf.drop(r,s):rf.moveTo(r),c={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Xk(a,o),transform:u,opacity:Jk(s,l),zIndex:l?nv.dropAnimating:nv.dragging,pointerEvents:"none"};return c}function tP(t){return{transform:rf.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function nP(t){return t.type==="DRAGGING"?eP(t):tP(t)}function rP(t,e,n){n===void 0&&(n=Le);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=W1(i,r),s=Il(o,n),a={client:o,tagName:e.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height},u={descriptor:t,placeholder:a,displaceBy:l,client:o,page:s};return u}function iP(t){var e=sp("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,o=t.canDragInteractiveElements,s=t.shouldRespectForcePress,a=t.isEnabled,l=Y(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}},[o,a,s]),u=L(function(h){var m=i();return m||T(!1),rP(n,m,h)},[n,i]),c=Y(function(){return{uniqueId:e,descriptor:n,options:l,getDimension:u}},[n,u,l,e]),d=R.useRef(c),f=R.useRef(!0);xt(function(){return r.draggable.register(d.current),function(){return r.draggable.unregister(d.current)}},[r.draggable]),xt(function(){if(f.current){f.current=!1;return}var h=d.current;d.current=c,r.draggable.update(c,h)},[c,r.draggable])}function oP(t){t.preventDefault()}function sP(t){var e=R.useRef(null),n=L(function(O){e.current=O},[]),r=L(function(){return e.current},[]),i=kl(bu),o=i.contextId,s=i.dragHandleUsageInstructionsId,a=i.registry,l=kl(lp),u=l.type,c=l.droppableId,d=Y(function(){return{id:t.draggableId,index:t.index,type:u,droppableId:c}},[t.draggableId,t.index,u,c]),f=t.children,h=t.draggableId,m=t.isEnabled,y=t.shouldRespectForcePress,E=t.canDragInteractiveElements,g=t.isClone,p=t.mapped,v=t.dropAnimationFinished;if(!g){var w=Y(function(){return{descriptor:d,registry:a,getDraggableRef:r,canDragInteractiveElements:E,shouldRespectForcePress:y,isEnabled:m}},[d,a,r,E,y,m]);iP(w)}var S=Y(function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:oP}:null},[o,s,h,m]),C=L(function(O){p.type==="DRAGGING"&&p.dropping&&O.propertyName==="transform"&&v()},[v,p]),x=Y(function(){var O=nP(p),M=p.type==="DRAGGING"&&p.dropping?C:null,W={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":h,style:O,onTransitionEnd:M},dragHandleProps:S};return W},[o,S,h,p,C,n]),A=Y(function(){return{draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}},[d.droppableId,d.id,d.index,d.type]);return f(x,p.snapshot,A)}var Bw=function(t,e){return t===e},Uw=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},aP=function(e){return e.combine?e.combine.draggableId:null},lP=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function uP(){var t=$e(function(i,o){return{x:i,y:o}}),e=$e(function(i,o,s,a,l){return{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null}}),n=$e(function(i,o,s,a,l,u,c){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:o,offset:i,dimension:s,forceShouldAnimate:c,snapshot:e(o,a,l,u,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var a=o.current.client.offset,l=o.dimensions.draggables[s.draggableId],u=Dt(o.impact),c=lP(o.impact),d=o.forceShouldAnimate;return n(t(a.x,a.y),o.movementMode,l,s.isClone,u,c,d)}if(o.phase==="DROP_ANIMATING"){var f=o.completed;if(f.result.draggableId!==s.draggableId)return null;var h=s.isClone,m=o.dimensions.draggables[s.draggableId],y=f.result,E=y.mode,g=Uw(y),p=aP(y),v=o.dropDuration,w={duration:v,curve:Zh.drop,moveTo:o.newHomeClientOffset,opacity:p?os.opacity.drop:null,scale:p?os.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:m,dropping:w,draggingOver:g,combineWith:p,mode:E,forceShouldAnimate:null,snapshot:e(E,h,g,p,w)}}}return null};return r}function Vw(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var cP={mapped:{type:"SECONDARY",offset:Le,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Vw(null)}};function dP(){var t=$e(function(s,a){return{x:s,y:a}}),e=$e(Vw),n=$e(function(s,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:e(a)}}}),r=function(a){return a?n(Le,a,!0):null},i=function(a,l,u,c){var d=u.displaced.visible[a],f=!!(c.inVirtualList&&c.effected[a]),h=Cu(u),m=h&&h.draggableId===a?l:null;if(!d){if(!f)return r(m);if(u.displaced.invisible[a])return null;var y=Vi(c.displacedBy.point),E=t(y.x,y.y);return n(E,m,!0)}if(f)return r(m);var g=u.displacedBy.point,p=t(g.x,g.y);return n(p,m,d.shouldAnimate)},o=function(a,l){if(a.isDragging)return a.critical.draggable.id===l.draggableId?null:i(l.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var u=a.completed;return u.result.draggableId===l.draggableId?null:i(l.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return o}var fP=function(){var e=uP(),n=dP(),r=function(o,s){return e(o,s)||n(o,s)||cP};return r},hP={dropAnimationFinished:Ew},pP=G1(fP,hP,null,{context:op,pure:!0,areStatePropsEqual:Bw})(sP);function zw(t){var e=kl(lp),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:le.createElement(pP,t)}function gP(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return le.createElement(zw,_({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function mP(t){var e=R.useContext(bu);e||T(!1);var n=e.contextId,r=e.isMovementAllowed,i=R.useRef(null),o=R.useRef(null),s=t.children,a=t.droppableId,l=t.type,u=t.mode,c=t.direction,d=t.ignoreContainerClipping,f=t.isDropDisabled,h=t.isCombineEnabled,m=t.snapshot,y=t.useClone,E=t.updateViewportMaxScroll,g=t.getContainerForClone,p=L(function(){return i.current},[]),v=L(function(W){i.current=W},[]);L(function(){return o.current},[]);var w=L(function(W){o.current=W},[]),S=L(function(){r()&&E({maxScroll:xw()})},[r,E]);Hk({droppableId:a,type:l,mode:u,direction:c,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:p});var C=le.createElement(Yk,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(W){var Pe=W.onClose,Ne=W.data,fe=W.animate;return le.createElement(Qk,{placeholder:Ne,onClose:Pe,innerRef:w,animate:fe,contextId:n,onTransitionEnd:S})}),x=Y(function(){return{innerRef:v,placeholder:C,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,C,v]),A=y?y.dragging.draggableId:null,O=Y(function(){return{droppableId:a,type:l,isUsingCloneFor:A}},[a,A,l]);function M(){if(!y)return null;var W=y.dragging,Pe=y.render,Ne=le.createElement(zw,{draggableId:W.draggableId,index:W.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(fe,ht){return Pe(fe,ht,W)});return UD.createPortal(Ne,g())}return le.createElement(lp.Provider,{value:O},s(x,m),M())}var Gc=function(e,n){return e===n.droppable.type},rv=function(e,n){return n.draggables[e.draggable.id]},vP=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=_({},e,{shouldAnimatePlaceholder:!1}),r=$e(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=$e(function(s,a,l,u,c,d){var f=c.descriptor.id,h=c.descriptor.droppableId===s;if(h){var m=d?{render:d,dragging:r(c.descriptor)}:null,y={isDraggingOver:l,draggingOverWith:l?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:m}}if(!a)return n;if(!u)return e;var E={isDraggingOver:l,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:E,useClone:null}}),o=function(a,l){var u=l.droppableId,c=l.type,d=!l.isDropDisabled,f=l.renderClone;if(a.isDragging){var h=a.critical;if(!Gc(c,h))return n;var m=rv(h,a.dimensions),y=Dt(a.impact)===u;return i(u,d,y,y,m,f)}if(a.phase==="DROP_ANIMATING"){var E=a.completed;if(!Gc(c,E.critical))return n;var g=rv(E.critical,a.dimensions);return i(u,d,Uw(E.result)===u,Dt(E.impact)===u,g,f)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var p=a.completed;if(!Gc(c,p.critical))return n;var v=Dt(p.impact)===u,w=!!(p.impact.at&&p.impact.at.type==="COMBINE"),S=p.critical.droppable.id===u;return v?w?e:n:S?e:n}return n};return o},yP={updateViewportMaxScroll:bT};function wP(){return document.body||T(!1),document.body}var EP={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:wP},jw=G1(vP,yP,null,{context:op,pure:!0,areStatePropsEqual:Bw})(mP);jw.defaultProps=EP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Hw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new CP;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IP=function(t){const e=Gw(t);return Hw.encodeByteArray(e,!0)},Pl=function(t){return IP(t).replace(/\./g,"")},DP=function(t){try{return Hw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=()=>xP().__FIREBASE_DEFAULTS__,TP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DP(t[1]);return e&&JSON.parse(e)},Ww=()=>{try{return bP()||TP()||AP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kP=t=>{var e,n;return(n=(e=Ww())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PP=t=>{const e=kP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qw=()=>{var t;return(t=Ww())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Pl(JSON.stringify(n)),Pl(JSON.stringify(s)),a].join(".")}function OP(){try{return typeof indexedDB=="object"}catch{return!1}}function MP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="FirebaseError";class Gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$P,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kw.prototype.create)}}class Kw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?LP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gi(i,a,r)}}function LP(t,e){return t.replace(_P,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _P=/\{\$([^}]+)}/g;function lf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(iv(o)&&iv(s)){if(!lf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){return t&&t._delegate?t._delegate:t}class as{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UP(e))try{this.getOrInitializeService({instanceIdentifier:vr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vr){return this.instances.has(e)}getOptions(e=vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vr){return this.component?this.component.multipleInstances?e:vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BP(t){return t===vr?void 0:t}function UP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const zP={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},jP=ee.INFO,GP={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},HP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=GP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qw{constructor(e){this.name=e,this._logLevel=jP,this._logHandler=HP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const WP=(t,e)=>e.some(n=>t instanceof n);let ov,sv;function qP(){return ov||(ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KP(){return sv||(sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yw=new WeakMap,uf=new WeakMap,Xw=new WeakMap,Hc=new WeakMap,up=new WeakMap;function QP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Zn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Yw.set(n,t)}).catch(()=>{}),up.set(e,t),e}function YP(t){if(uf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});uf.set(t,e)}let cf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XP(t){cf=t(cf)}function JP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wc(this),e,...n);return Xw.set(r,e.sort?e.sort():[e]),Zn(r)}:KP().includes(t)?function(...e){return t.apply(Wc(this),e),Zn(Yw.get(this))}:function(...e){return Zn(t.apply(Wc(this),e))}}function ZP(t){return typeof t=="function"?JP(t):(t instanceof IDBTransaction&&YP(t),WP(t,qP())?new Proxy(t,cf):t)}function Zn(t){if(t instanceof IDBRequest)return QP(t);if(Hc.has(t))return Hc.get(t);const e=ZP(t);return e!==t&&(Hc.set(t,e),up.set(e,t)),e}const Wc=t=>up.get(t);function eN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Zn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Zn(s.result),l.oldVersion,l.newVersion,Zn(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const tN=["get","getKey","getAll","getAllKeys","count"],nN=["put","add","delete","clear"],qc=new Map;function av(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qc.get(e))return qc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tN.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return qc.set(e,o),o}XP(t=>({...t,get:(e,n,r)=>av(e,n)||t.get(e,n,r),has:(e,n)=>!!av(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const df="@firebase/app",lv="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Qw("@firebase/app"),oN="@firebase/app-compat",sN="@firebase/analytics-compat",aN="@firebase/analytics",lN="@firebase/app-check-compat",uN="@firebase/app-check",cN="@firebase/auth",dN="@firebase/auth-compat",fN="@firebase/database",hN="@firebase/database-compat",pN="@firebase/functions",gN="@firebase/functions-compat",mN="@firebase/installations",vN="@firebase/installations-compat",yN="@firebase/messaging",wN="@firebase/messaging-compat",EN="@firebase/performance",SN="@firebase/performance-compat",CN="@firebase/remote-config",IN="@firebase/remote-config-compat",DN="@firebase/storage",xN="@firebase/storage-compat",bN="@firebase/firestore",TN="@firebase/firestore-compat",AN="firebase",kN="9.22.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="[DEFAULT]",PN={[df]:"fire-core",[oN]:"fire-core-compat",[aN]:"fire-analytics",[sN]:"fire-analytics-compat",[uN]:"fire-app-check",[lN]:"fire-app-check-compat",[cN]:"fire-auth",[dN]:"fire-auth-compat",[fN]:"fire-rtdb",[hN]:"fire-rtdb-compat",[pN]:"fire-fn",[gN]:"fire-fn-compat",[mN]:"fire-iid",[vN]:"fire-iid-compat",[yN]:"fire-fcm",[wN]:"fire-fcm-compat",[EN]:"fire-perf",[SN]:"fire-perf-compat",[CN]:"fire-rc",[IN]:"fire-rc-compat",[DN]:"fire-gcs",[xN]:"fire-gcs-compat",[bN]:"fire-fst",[TN]:"fire-fst-compat","fire-js":"fire-js",[AN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Map,hf=new Map;function NN(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nl(t){const e=t.name;if(hf.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;hf.set(e,t);for(const n of ls.values())NN(n,t);return!0}function RN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},er=new Kw("app","Firebase",ON);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=kN;function Jw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ff,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw er.create("bad-app-name",{appName:String(i)});if(n||(n=qw()),!n)throw er.create("no-options");const o=ls.get(i);if(o){if(lf(n,o.options)&&lf(r,o.config))return o;throw er.create("duplicate-app",{appName:i})}const s=new VP(i);for(const l of hf.values())s.addComponent(l);const a=new MN(n,r,s);return ls.set(i,a),a}function LN(t=ff){const e=ls.get(t);if(!e&&t===ff&&qw())return Jw();if(!e)throw er.create("no-app",{appName:t});return e}function uv(){return Array.from(ls.values())}function pi(t,e,n){var r;let i=(r=PN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(a.join(" "));return}Nl(new as(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="firebase-heartbeat-database",FN=1,us="firebase-heartbeat-store";let Kc=null;function Zw(){return Kc||(Kc=eN(_N,FN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(us)}}}).catch(t=>{throw er.create("idb-open",{originalErrorMessage:t.message})})),Kc}async function BN(t){try{return await(await Zw()).transaction(us).objectStore(us).get(eE(t))}catch(e){if(e instanceof Gi)Mr.warn(e.message);else{const n=er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mr.warn(n.message)}}}async function cv(t,e){try{const r=(await Zw()).transaction(us,"readwrite");await r.objectStore(us).put(e,eE(t)),await r.done}catch(n){if(n instanceof Gi)Mr.warn(n.message);else{const r=er.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mr.warn(r.message)}}}function eE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=1024,VN=30*24*60*60*1e3;class zN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=VN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dv(),{heartbeatsToSend:n,unsentEntries:r}=jN(this._heartbeatsCache.heartbeats),i=Pl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function dv(){return new Date().toISOString().substring(0,10)}function jN(t,e=UN){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),fv(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OP()?MP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await BN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fv(t){return Pl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){Nl(new as("platform-logger",e=>new rN(e),"PRIVATE")),Nl(new as("heartbeat",e=>new zN(e),"PRIVATE")),pi(df,lv,t),pi(df,lv,"esm2017"),pi("fire-js","")}HN("");var WN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k,cp=cp||{},j=WN||self;function Au(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Vs(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function qN(t){return Object.prototype.hasOwnProperty.call(t,Qc)&&t[Qc]||(t[Qc]=++KN)}var Qc="closure_uid_"+(1e9*Math.random()>>>0),KN=0;function QN(t,e,n){return t.call.apply(t.bind,arguments)}function YN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function nt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?nt=QN:nt=YN,nt.apply(null,arguments)}function xa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Be(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function dr(){this.s=this.s,this.o=this.o}var XN=0;dr.prototype.s=!1;dr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),XN!=0)&&qN(this)};dr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function dp(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function hv(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Au(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var JN=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{j.addEventListener("test",()=>{},e),j.removeEventListener("test",()=>{},e)}catch{}return t}();function cs(t){return/^[\s\xa0]*$/.test(t)}function ku(){var t=j.navigator;return t&&(t=t.userAgent)?t:""}function un(t){return ku().indexOf(t)!=-1}function fp(t){return fp[" "](t),t}fp[" "]=function(){};function ZN(t,e){var n=H2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var e2=un("Opera"),Pi=un("Trident")||un("MSIE"),nE=un("Edge"),pf=nE||Pi,rE=un("Gecko")&&!(ku().toLowerCase().indexOf("webkit")!=-1&&!un("Edge"))&&!(un("Trident")||un("MSIE"))&&!un("Edge"),t2=ku().toLowerCase().indexOf("webkit")!=-1&&!un("Edge");function iE(){var t=j.document;return t?t.documentMode:void 0}var gf;e:{var Yc="",Xc=function(){var t=ku();if(rE)return/rv:([^\);]+)(\)|;)/.exec(t);if(nE)return/Edge\/([\d\.]+)/.exec(t);if(Pi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(t2)return/WebKit\/(\S+)/.exec(t);if(e2)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Xc&&(Yc=Xc?Xc[1]:""),Pi){var Jc=iE();if(Jc!=null&&Jc>parseFloat(Yc)){gf=String(Jc);break e}}gf=Yc}var mf;if(j.document&&Pi){var pv=iE();mf=pv||parseInt(gf,10)||void 0}else mf=void 0;var n2=mf;function ds(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(rE){e:{try{fp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:r2[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ds.$.h.call(this)}}Be(ds,rt);var r2={2:"touch",3:"pen",4:"mouse"};ds.prototype.h=function(){ds.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zs="closure_listenable_"+(1e6*Math.random()|0),i2=0;function o2(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++i2,this.fa=this.ia=!1}function Pu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function hp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function s2(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function oE(t){const e={};for(const n in t)e[n]=t[n];return e}const gv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sE(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<gv.length;o++)n=gv[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Nu(t){this.src=t,this.g={},this.h=0}Nu.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=yf(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new o2(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function vf(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=tE(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Pu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function yf(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var pp="closure_lm_"+(1e6*Math.random()|0),Zc={};function aE(t,e,n,r,i){if(r&&r.once)return uE(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)aE(t,e[o],n,r,i);return null}return n=vp(n),t&&t[zs]?t.O(e,n,Vs(r)?!!r.capture:!!r,i):lE(t,e,n,!1,r,i)}function lE(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Vs(i)?!!i.capture:!!i,a=mp(t);if(a||(t[pp]=a=new Nu(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=a2(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)JN||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function a2(){function t(n){return e.call(t.src,t.listener,n)}const e=l2;return t}function uE(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)uE(t,e[o],n,r,i);return null}return n=vp(n),t&&t[zs]?t.P(e,n,Vs(r)?!!r.capture:!!r,i):lE(t,e,n,!0,r,i)}function cE(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cE(t,e[o],n,r,i);else r=Vs(r)?!!r.capture:!!r,n=vp(n),t&&t[zs]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=yf(o,n,r,i),-1<n&&(Pu(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=mp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=yf(e,n,r,i)),(n=-1<t?e[t]:null)&&gp(n))}function gp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[zs])vf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mp(e))?(vf(n,t),n.h==0&&(n.src=null,e[pp]=null)):Pu(t)}}}function dE(t){return t in Zc?Zc[t]:Zc[t]="on"+t}function l2(t,e){if(t.fa)t=!0;else{e=new ds(e,this);var n=t.listener,r=t.la||t.src;t.ia&&gp(t),t=n.call(r,e)}return t}function mp(t){return t=t[pp],t instanceof Nu?t:null}var ed="__closure_events_fn_"+(1e9*Math.random()>>>0);function vp(t){return typeof t=="function"?t:(t[ed]||(t[ed]=function(e){return t.handleEvent(e)}),t[ed])}function _e(){dr.call(this),this.i=new Nu(this),this.S=this,this.J=null}Be(_e,dr);_e.prototype[zs]=!0;_e.prototype.removeEventListener=function(t,e,n,r){cE(this,t,e,n,r)};function We(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new rt(e,t);else if(e instanceof rt)e.target=e.target||t;else{var i=e;e=new rt(r,t),sE(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=ba(s,r,!0,e)&&i}if(s=e.g=t,i=ba(s,r,!0,e)&&i,i=ba(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=ba(s,r,!1,e)&&i}_e.prototype.N=function(){if(_e.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pu(n[r]);delete t.g[e],t.h--}}this.J=null};_e.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};_e.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ba(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&vf(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var yp=j.JSON.stringify;class u2{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function c2(){var t=wp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class d2{constructor(){this.h=this.g=null}add(e,n){const r=fE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var fE=new u2(()=>new f2,t=>t.reset());class f2{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function h2(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function p2(t){j.setTimeout(()=>{throw t},0)}let fs,hs=!1,wp=new d2,hE=()=>{const t=j.Promise.resolve(void 0);fs=()=>{t.then(g2)}};var g2=()=>{for(var t;t=c2();){try{t.h.call(t.g)}catch(n){p2(n)}var e=fE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}hs=!1};function Ru(t,e){_e.call(this),this.h=t||1,this.g=e||j,this.j=nt(this.qb,this),this.l=Date.now()}Be(Ru,_e);k=Ru.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),We(this,"tick"),this.ga&&(Ep(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ep(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}k.N=function(){Ru.$.N.call(this),Ep(this),delete this.g};function Sp(t,e,n){if(typeof t=="function")n&&(t=nt(t,n));else if(t&&typeof t.handleEvent=="function")t=nt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:j.setTimeout(t,e||0)}function pE(t){t.g=Sp(()=>{t.g=null,t.i&&(t.i=!1,pE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class m2 extends dr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pE(this)}N(){super.N(),this.g&&(j.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(t){dr.call(this),this.h=t,this.g={}}Be(ps,dr);var mv=[];function gE(t,e,n,r){Array.isArray(n)||(n&&(mv[0]=n.toString()),n=mv);for(var i=0;i<n.length;i++){var o=aE(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function mE(t){hp(t.g,function(e,n){this.g.hasOwnProperty(n)&&gp(e)},t),t.g={}}ps.prototype.N=function(){ps.$.N.call(this),mE(this)};ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ou(){this.g=!0}Ou.prototype.Ea=function(){this.g=!1};function v2(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function y2(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function ai(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+E2(t,n)+(r?" "+r:"")})}function w2(t,e){t.info(function(){return"TIMEOUT: "+e})}Ou.prototype.info=function(){};function E2(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return yp(n)}catch{return e}}var Ur={},vv=null;function Mu(){return vv=vv||new _e}Ur.Ta="serverreachability";function vE(t){rt.call(this,Ur.Ta,t)}Be(vE,rt);function gs(t){const e=Mu();We(e,new vE(e))}Ur.STAT_EVENT="statevent";function yE(t,e){rt.call(this,Ur.STAT_EVENT,t),this.stat=e}Be(yE,rt);function ut(t){const e=Mu();We(e,new yE(e,t))}Ur.Ua="timingevent";function wE(t,e){rt.call(this,Ur.Ua,t),this.size=e}Be(wE,rt);function js(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return j.setTimeout(function(){t()},e)}var $u={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},EE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cp(){}Cp.prototype.h=null;function yv(t){return t.h||(t.h=t.i())}function SE(){}var Gs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ip(){rt.call(this,"d")}Be(Ip,rt);function Dp(){rt.call(this,"c")}Be(Dp,rt);var wf;function Lu(){}Be(Lu,Cp);Lu.prototype.g=function(){return new XMLHttpRequest};Lu.prototype.i=function(){return{}};wf=new Lu;function Hs(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ps(this),this.P=S2,t=pf?125:void 0,this.V=new Ru(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CE}function CE(){this.i=null,this.g="",this.h=!1}var S2=45e3,Ef={},Rl={};k=Hs.prototype;k.setTimeout=function(t){this.P=t};function Sf(t,e,n){t.L=1,t.v=Fu(kn(e)),t.s=n,t.S=!0,IE(t,null)}function IE(t,e){t.G=Date.now(),Ws(t),t.A=kn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),NE(n.i,"t",r),t.C=0,n=t.l.J,t.h=new CE,t.g=JE(t.l,n?e:null,!t.s),0<t.O&&(t.M=new m2(nt(t.Pa,t,t.g),t.O)),gE(t.U,t.g,"readystatechange",t.nb),e=t.I?oE(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),gs(),v2(t.j,t.u,t.A,t.m,t.W,t.s)}k.nb=function(t){t=t.target;const e=this.M;e&&cn(t)==3?e.l():this.Pa(t)};k.Pa=function(t){try{if(t==this.g)e:{const c=cn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||pf||this.g&&(this.h.h||this.g.ja()||Cv(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?gs(3):gs(2)),_u(this);var n=this.g.da();this.ca=n;t:if(DE(this)){var r=Cv(this.g);t="";var i=r.length,o=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sr(this),Ro(this);var s="";break t}this.h.i=new j.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,y2(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cs(a)){var u=a;break t}}u=null}if(n=u)ai(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cf(this,n);else{this.i=!1,this.o=3,ut(12),Sr(this),Ro(this);break e}}this.S?(xE(this,c,s),pf&&this.i&&c==3&&(gE(this.U,this.V,"tick",this.mb),this.V.start())):(ai(this.j,this.m,s,null),Cf(this,s)),c==4&&Sr(this),this.i&&!this.J&&(c==4?KE(this.l,this):(this.i=!1,Ws(this)))}else z2(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,ut(12)):(this.o=0,ut(13)),Sr(this),Ro(this)}}}catch{}finally{}};function DE(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function xE(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=C2(t,n),i==Rl){e==4&&(t.o=4,ut(14),r=!1),ai(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Ef){t.o=4,ut(15),ai(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ai(t.j,t.m,i,null),Cf(t,i);DE(t)&&i!=Rl&&i!=Ef&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ut(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pp(e),e.M=!0,ut(11))):(ai(t.j,t.m,n,"[Invalid Chunked Response]"),Sr(t),Ro(t))}k.mb=function(){if(this.g){var t=cn(this.g),e=this.g.ja();this.C<e.length&&(_u(this),xE(this,t,e),this.i&&t!=4&&Ws(this))}};function C2(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Rl:(n=Number(e.substring(n,r)),isNaN(n)?Ef:(r+=1,r+n>e.length?Rl:(e=e.slice(r,r+n),t.C=r+n,e)))}k.cancel=function(){this.J=!0,Sr(this)};function Ws(t){t.Y=Date.now()+t.P,bE(t,t.P)}function bE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=js(nt(t.lb,t),e)}function _u(t){t.B&&(j.clearTimeout(t.B),t.B=null)}k.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(w2(this.j,this.A),this.L!=2&&(gs(),ut(17)),Sr(this),this.o=2,Ro(this)):bE(this,this.Y-t)};function Ro(t){t.l.H==0||t.J||KE(t.l,t)}function Sr(t){_u(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ep(t.V),mE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Cf(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||If(n.i,t))){if(!t.K&&If(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)$l(n),Vu(n);else break e;kp(n),ut(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=js(nt(n.ib,n),6e3));if(1>=ME(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Cr(n,11)}else if((t.K||n.g==t)&&$l(n),!cs(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const m=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(xp(o,o.h),o.h=null))}if(r.F){const y=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,ue(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=XE(r,r.J?r.pa:null,r.Y),s.K){$E(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(_u(a),Ws(a)),r.g=s}else WE(r);0<n.j.length&&zu(n)}else u[0]!="stop"&&u[0]!="close"||Cr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Cr(n,7):Ap(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}gs(4)}catch{}}function I2(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Au(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function D2(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Au(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function TE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Au(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=D2(t),r=I2(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var AE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x2(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function br(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof br){this.h=t.h,Ol(this,t.j),this.s=t.s,this.g=t.g,Ml(this,t.m),this.l=t.l;var e=t.i,n=new ms;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wv(this,n),this.o=t.o}else t&&(e=String(t).match(AE))?(this.h=!1,Ol(this,e[1]||"",!0),this.s=mo(e[2]||""),this.g=mo(e[3]||"",!0),Ml(this,e[4]),this.l=mo(e[5]||"",!0),wv(this,e[6]||"",!0),this.o=mo(e[7]||"")):(this.h=!1,this.i=new ms(null,this.h))}br.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vo(e,Ev,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(vo(e,Ev,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(vo(n,n.charAt(0)=="/"?A2:T2,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vo(n,P2)),t.join("")};function kn(t){return new br(t)}function Ol(t,e,n){t.j=n?mo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ml(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wv(t,e,n){e instanceof ms?(t.i=e,N2(t.i,t.h)):(n||(e=vo(e,k2)),t.i=new ms(e,t.h))}function ue(t,e,n){t.i.set(e,n)}function Fu(t){return ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function mo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,b2),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function b2(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ev=/[#\/\?@]/g,T2=/[#\?:]/g,A2=/[#\?]/g,k2=/[#\?@]/g,P2=/#/g;function ms(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fr(t){t.g||(t.g=new Map,t.h=0,t.i&&x2(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}k=ms.prototype;k.add=function(t,e){fr(this),this.i=null,t=Hi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function kE(t,e){fr(t),e=Hi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function PE(t,e){return fr(t),e=Hi(t,e),t.g.has(e)}k.forEach=function(t,e){fr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};k.ta=function(){fr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};k.Z=function(t){fr(this);let e=[];if(typeof t=="string")PE(this,t)&&(e=e.concat(this.g.get(Hi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};k.set=function(t,e){return fr(this),this.i=null,t=Hi(this,t),PE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};k.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function NE(t,e,n){kE(t,e),0<n.length&&(t.i=null,t.g.set(Hi(t,e),dp(n)),t.h+=n.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Hi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function N2(t,e){e&&!t.j&&(fr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(kE(this,r),NE(this,i,n))},t)),t.j=e}var R2=class{constructor(t,e){this.g=t,this.map=e}};function RE(t){this.l=t||O2,j.PerformanceNavigationTiming?(t=j.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(j.g&&j.g.Ka&&j.g.Ka()&&j.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var O2=10;function OE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ME(t){return t.h?1:t.g?t.g.size:0}function If(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function xp(t,e){t.g?t.g.add(e):t.h=e}function $E(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}RE.prototype.cancel=function(){if(this.i=LE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function LE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return dp(t.i)}var M2=class{stringify(t){return j.JSON.stringify(t,void 0)}parse(t){return j.JSON.parse(t,void 0)}};function $2(){this.g=new M2}function L2(t,e,n){const r=n||"";try{TE(t,function(i,o){let s=i;Vs(i)&&(s=yp(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _2(t,e){const n=new Ou;if(j.Image){const r=new Image;r.onload=xa(Ta,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xa(Ta,n,r,"TestLoadImage: error",!1,e),r.onabort=xa(Ta,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xa(Ta,n,r,"TestLoadImage: timeout",!1,e),j.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ta(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qs(t){this.l=t.fc||null,this.j=t.ob||!1}Be(qs,Cp);qs.prototype.g=function(){return new Bu(this.l,this.j)};qs.prototype.i=function(t){return function(){return t}}({});function Bu(t,e){_e.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=bp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Be(Bu,_e);var bp=0;k=Bu.prototype;k.open=function(t,e){if(this.readyState!=bp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,vs(this)};k.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||j).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=bp};k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof j.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_E(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function _E(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ks(this):vs(this),this.readyState==3&&_E(this)}};k.Za=function(t){this.g&&(this.response=this.responseText=t,Ks(this))};k.Ya=function(t){this.g&&(this.response=t,Ks(this))};k.ka=function(){this.g&&Ks(this)};function Ks(t){t.readyState=4,t.l=null,t.j=null,t.A=null,vs(t)}k.setRequestHeader=function(t,e){this.v.append(t,e)};k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function vs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var F2=j.JSON.parse;function Ee(t){_e.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=FE,this.L=this.M=!1}Be(Ee,_e);var FE="",B2=/^https?$/i,U2=["POST","PUT"];k=Ee.prototype;k.Oa=function(t){this.M=t};k.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wf.g(),this.C=this.u?yv(this.u):yv(wf),this.g.onreadystatechange=nt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Sv(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=j.FormData&&t instanceof j.FormData,!(0<=tE(U2,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{VE(this),0<this.B&&((this.L=V2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nt(this.ua,this)):this.A=Sp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Sv(this,o)}};function V2(t){return Pi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}k.ua=function(){typeof cp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,We(this,"timeout"),this.abort(8))};function Sv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,BE(t),Uu(t)}function BE(t){t.F||(t.F=!0,We(t,"complete"),We(t,"error"))}k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,We(this,"complete"),We(this,"abort"),Uu(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uu(this,!0)),Ee.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?UE(this):this.kb())};k.kb=function(){UE(this)};function UE(t){if(t.h&&typeof cp<"u"&&(!t.C[1]||cn(t)!=4||t.da()!=2)){if(t.v&&cn(t)==4)Sp(t.La,0,t);else if(We(t,"readystatechange"),cn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(AE)[1]||null;!i&&j.self&&j.self.location&&(i=j.self.location.protocol.slice(0,-1)),r=!B2.test(i?i.toLowerCase():"")}n=r}if(n)We(t,"complete"),We(t,"success");else{t.m=6;try{var o=2<cn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",BE(t)}}finally{Uu(t)}}}}function Uu(t,e){if(t.g){VE(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||We(t,"ready");try{n.onreadystatechange=r}catch{}}}function VE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(j.clearTimeout(t.A),t.A=null)}k.isActive=function(){return!!this.g};function cn(t){return t.g?t.g.readyState:0}k.da=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),F2(e)}};function Cv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case FE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function z2(t){const e={};t=(t.g&&2<=cn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(cs(t[r]))continue;var n=h2(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}s2(e,function(r){return r.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function zE(t){let e="";return hp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Tp(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ue(t,e,n))}function uo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jE(t){this.Ga=0,this.j=[],this.l=new Ou,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=uo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=uo("baseRetryDelayMs",5e3,t),this.hb=uo("retryDelaySeedMs",1e4,t),this.eb=uo("forwardChannelMaxRetries",2,t),this.xa=uo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new RE(t&&t.concurrentRequestLimit),this.Ja=new $2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=jE.prototype;k.ra=8;k.H=1;function Ap(t){if(GE(t),t.H==3){var e=t.W++,n=kn(t.I);if(ue(n,"SID",t.K),ue(n,"RID",e),ue(n,"TYPE","terminate"),Qs(t,n),e=new Hs(t,t.l,e),e.L=2,e.v=Fu(kn(n)),n=!1,j.navigator&&j.navigator.sendBeacon)try{n=j.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&j.Image&&(new Image().src=e.v,n=!0),n||(e.g=JE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ws(e)}YE(t)}function Vu(t){t.g&&(Pp(t),t.g.cancel(),t.g=null)}function GE(t){Vu(t),t.u&&(j.clearTimeout(t.u),t.u=null),$l(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&j.clearTimeout(t.m),t.m=null)}function zu(t){if(!OE(t.i)&&!t.m){t.m=!0;var e=t.Na;fs||hE(),hs||(fs(),hs=!0),wp.add(e,t),t.C=0}}function j2(t,e){return ME(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=js(nt(t.Na,t,e),QE(t,t.C)),t.C++,!0)}k.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Hs(this,this.l,t);let o=this.s;if(this.U&&(o?(o=oE(o),sE(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=HE(this,i,e),n=kn(this.I),ue(n,"RID",t),ue(n,"CVER",22),this.F&&ue(n,"X-HTTP-Session-Id",this.F),Qs(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(zE(o)))+"&"+e:this.o&&Tp(n,this.o,o)),xp(this.i,i),this.bb&&ue(n,"TYPE","init"),this.P?(ue(n,"$req",e),ue(n,"SID","null"),i.aa=!0,Sf(i,n,null)):Sf(i,n,e),this.H=2}}else this.H==3&&(t?Iv(this,t):this.j.length==0||OE(this.i)||Iv(this))};function Iv(t,e){var n;e?n=e.m:n=t.W++;const r=kn(t.I);ue(r,"SID",t.K),ue(r,"RID",n),ue(r,"AID",t.V),Qs(t,r),t.o&&t.s&&Tp(r,t.o,t.s),n=new Hs(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=HE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),xp(t.i,n),Sf(n,r,e)}function Qs(t,e){t.na&&hp(t.na,function(n,r){ue(e,r,n)}),t.h&&TE({},function(n,r){ue(e,r,n)})}function HE(t,e,n){n=Math.min(t.j.length,n);var r=t.h?nt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{L2(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function WE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;fs||hE(),hs||(fs(),hs=!0),wp.add(e,t),t.A=0}}function kp(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=js(nt(t.Ma,t),QE(t,t.A)),t.A++,!0)}k.Ma=function(){if(this.u=null,qE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=js(nt(this.jb,this),t)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ut(10),Vu(this),qE(this))};function Pp(t){t.B!=null&&(j.clearTimeout(t.B),t.B=null)}function qE(t){t.g=new Hs(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=kn(t.wa);ue(e,"RID","rpc"),ue(e,"SID",t.K),ue(e,"AID",t.V),ue(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ue(e,"TO",t.qa),ue(e,"TYPE","xmlhttp"),Qs(t,e),t.o&&t.s&&Tp(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Fu(kn(e)),n.s=null,n.S=!0,IE(n,t)}k.ib=function(){this.v!=null&&(this.v=null,Vu(this),kp(this),ut(19))};function $l(t){t.v!=null&&(j.clearTimeout(t.v),t.v=null)}function KE(t,e){var n=null;if(t.g==e){$l(t),Pp(t),t.g=null;var r=2}else if(If(t.i,e))n=e.F,$E(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Mu(),We(r,new wE(r,n)),zu(t)}else WE(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&j2(t,e)||r==2&&kp(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Cr(t,5);break;case 4:Cr(t,10);break;case 3:Cr(t,6);break;default:Cr(t,2)}}}function QE(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Cr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=nt(t.pb,t);n||(n=new br("//www.google.com/images/cleardot.gif"),j.location&&j.location.protocol=="http"||Ol(n,"https"),Fu(n)),_2(n.toString(),r)}else ut(2);t.H=0,t.h&&t.h.za(e),YE(t),GE(t)}k.pb=function(t){t?(this.l.info("Successfully pinged google.com"),ut(2)):(this.l.info("Failed to ping google.com"),ut(1))};function YE(t){if(t.H=0,t.ma=[],t.h){const e=LE(t.i);(e.length!=0||t.j.length!=0)&&(hv(t.ma,e),hv(t.ma,t.j),t.i.i.length=0,dp(t.j),t.j.length=0),t.h.ya()}}function XE(t,e,n){var r=n instanceof br?kn(n):new br(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ml(r,r.m);else{var i=j.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new br(null);r&&Ol(o,r),e&&(o.g=e),i&&Ml(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&ue(r,n,e),ue(r,"VER",t.ra),Qs(t,r),r}function JE(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ee(new qs({ob:!0})):new Ee(t.va),e.Oa(t.J),e}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function ZE(){}k=ZE.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function Ll(){if(Pi&&!(10<=Number(n2)))throw Error("Environmental error: no available transport.")}Ll.prototype.g=function(t,e){return new Tt(t,e)};function Tt(t,e){_e.call(this),this.g=new jE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!cs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cs(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Wi(this)}Be(Tt,_e);Tt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;ut(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=XE(t,null,t.Y),zu(t)};Tt.prototype.close=function(){Ap(this.g)};Tt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=yp(t),t=n);e.j.push(new R2(e.fb++,t)),e.H==3&&zu(e)};Tt.prototype.N=function(){this.g.h=null,delete this.j,Ap(this.g),delete this.g,Tt.$.N.call(this)};function eS(t){Ip.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Be(eS,Ip);function tS(){Dp.call(this),this.status=1}Be(tS,Dp);function Wi(t){this.g=t}Be(Wi,ZE);Wi.prototype.Ba=function(){We(this.g,"a")};Wi.prototype.Aa=function(t){We(this.g,new eS(t))};Wi.prototype.za=function(t){We(this.g,new tS)};Wi.prototype.ya=function(){We(this.g,"b")};function G2(){this.blockSize=-1}function tn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Be(tn,G2);tn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function td(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}tn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)td(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){td(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){td(this,r),i=0;break}}this.h=i,this.i+=e};tn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function re(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var H2={};function Np(t){return-128<=t&&128>t?ZN(t,function(e){return new re([e|0],0>e?-1:0)}):new re([t|0],0>t?-1:0)}function dn(t){if(isNaN(t)||!isFinite(t))return gi;if(0>t)return je(dn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Df;return new re(e,0)}function nS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return je(nS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=dn(Math.pow(e,8)),r=gi,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=dn(Math.pow(e,o)),r=r.R(o).add(dn(s))):(r=r.R(n),r=r.add(dn(s)))}return r}var Df=4294967296,gi=Np(0),xf=Np(1),Dv=Np(16777216);k=re.prototype;k.ea=function(){if(_t(this))return-je(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Df+r)*e,e*=Df}return t};k.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Cn(this))return"0";if(_t(this))return"-"+je(this).toString(t);for(var e=dn(Math.pow(t,6)),n=this,r="";;){var i=Fl(n,e).g;n=_l(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Cn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Cn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function _t(t){return t.h==-1}k.X=function(t){return t=_l(this,t),_t(t)?-1:Cn(t)?0:1};function je(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new re(n,~t.h).add(xf)}k.abs=function(){return _t(this)?je(this):this};k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new re(n,n[n.length-1]&-2147483648?-1:0)};function _l(t,e){return t.add(je(e))}k.R=function(t){if(Cn(this)||Cn(t))return gi;if(_t(this))return _t(t)?je(this).R(je(t)):je(je(this).R(t));if(_t(t))return je(this.R(je(t)));if(0>this.X(Dv)&&0>t.X(Dv))return dn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Aa(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Aa(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Aa(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Aa(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new re(n,0)};function Aa(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function co(t,e){this.g=t,this.h=e}function Fl(t,e){if(Cn(e))throw Error("division by zero");if(Cn(t))return new co(gi,gi);if(_t(t))return e=Fl(je(t),e),new co(je(e.g),je(e.h));if(_t(e))return e=Fl(t,je(e)),new co(je(e.g),e.h);if(30<t.g.length){if(_t(t)||_t(e))throw Error("slowDivide_ only works with positive integers.");for(var n=xf,r=e;0>=r.X(t);)n=xv(n),r=xv(r);var i=Wr(n,1),o=Wr(r,1);for(r=Wr(r,2),n=Wr(n,2);!Cn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Wr(r,1),n=Wr(n,1)}return e=_l(t,i.R(e)),new co(i,e)}for(i=gi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=dn(n),s=o.R(e);_t(s)||0<s.X(t);)n-=r,o=dn(n),s=o.R(e);Cn(o)&&(o=xf),i=i.add(o),t=_l(t,s)}return new co(i,t)}k.gb=function(t){return Fl(this,t).h};k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new re(n,this.h&t.h)};k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new re(n,this.h|t.h)};k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new re(n,this.h^t.h)};function xv(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new re(n,t.h)}function Wr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new re(i,t.h)}Ll.prototype.createWebChannel=Ll.prototype.g;Tt.prototype.send=Tt.prototype.u;Tt.prototype.open=Tt.prototype.m;Tt.prototype.close=Tt.prototype.close;$u.NO_ERROR=0;$u.TIMEOUT=8;$u.HTTP_ERROR=6;EE.COMPLETE="complete";SE.EventType=Gs;Gs.OPEN="a";Gs.CLOSE="b";Gs.ERROR="c";Gs.MESSAGE="d";_e.prototype.listen=_e.prototype.O;Ee.prototype.listenOnce=Ee.prototype.P;Ee.prototype.getLastError=Ee.prototype.Sa;Ee.prototype.getLastErrorCode=Ee.prototype.Ia;Ee.prototype.getStatus=Ee.prototype.da;Ee.prototype.getResponseJson=Ee.prototype.Wa;Ee.prototype.getResponseText=Ee.prototype.ja;Ee.prototype.send=Ee.prototype.ha;Ee.prototype.setWithCredentials=Ee.prototype.Oa;tn.prototype.digest=tn.prototype.l;tn.prototype.reset=tn.prototype.reset;tn.prototype.update=tn.prototype.j;re.prototype.add=re.prototype.add;re.prototype.multiply=re.prototype.R;re.prototype.modulo=re.prototype.gb;re.prototype.compare=re.prototype.X;re.prototype.toNumber=re.prototype.ea;re.prototype.toString=re.prototype.toString;re.prototype.getBits=re.prototype.D;re.fromNumber=dn;re.fromString=nS;var W2=function(){return new Ll},q2=function(){return Mu()},nd=$u,K2=EE,Q2=Ur,bv={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Y2=qs,ka=SE,X2=Ee,J2=tn,mi=re;const Tv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qi="9.22.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Qw("@firebase/firestore");function Av(){return $r.logLevel}function $(t,...e){if($r.logLevel<=ee.DEBUG){const n=e.map(Rp);$r.debug(`Firestore (${qi}): ${t}`,...n)}}function Pn(t,...e){if($r.logLevel<=ee.ERROR){const n=e.map(Rp);$r.error(`Firestore (${qi}): ${t}`,...n)}}function Ni(t,...e){if($r.logLevel<=ee.WARN){const n=e.map(Rp);$r.warn(`Firestore (${qi}): ${t}`,...n)}}function Rp(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(t="Unexpected state"){const e=`FIRESTORE (${qi}) INTERNAL ASSERTION FAILED: `+t;throw Pn(e),new Error(e)}function de(t,e){t||z()}function H(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends Gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}}class eR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tR{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string"),new rS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new Je(e)}}class nR{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class rR{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new nR(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oR{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.T=n.token,new iR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sR(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function Ri(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new ke(0,0))}static max(){return new G(new ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(),r===void 0?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ys?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends ys{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const aR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends ys{construct(e,n,r){return new tt(e,n,r)}static isValidIdentifier(e){return aR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new U(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new U(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tt(n)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.path=e}static fromPath(e){return new F(we.fromString(e))}static fromName(e){return new F(we.fromString(e).popFirst(5))}static empty(){return new F(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new we(e.slice()))}}function lR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=G.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new ir(i,F.empty(),e)}function uR(t){return new ir(t.readTime,t.key,-1)}class ir{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ir(G.min(),F.empty(),-1)}static max(){return new ir(G.max(),F.empty(),-1)}}function cR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=F.comparator(t.documentKey,e.documentKey),n!==0?n:Z(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==dR)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new b((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof b?n:b.resolve(n)}catch(n){return b.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):b.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):b.reject(n)}static resolve(e){return new b((n,r)=>{n(e)})}static reject(e){return new b((n,r)=>{r(e)})}static waitFor(e){return new b((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=b.resolve(!1);for(const r of e)n=n.next(i=>i?b.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new b((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new b((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Xs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Op.ct=-1;function ju(t){return t==null}function Bl(t){return t===0&&1/t==-1/0}function hR(t){return typeof t=="number"&&Number.isInteger(t)&&!Bl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e,n){this.comparator=e,this.root=n||ze.EMPTY}insert(e,n){return new ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pa(this.root,e,this.comparator,!0)}}class Pa{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??ze.EMPTY,this.right=o??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ze(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new Xt([])}unionWith(e){let n=new it(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ri(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new sS("Invalid base64 string: "+i):i}}(e);return new st(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const pR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(t){if(de(!!t),typeof t=="string"){let e=0;const n=pR.exec(t);if(de(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ie(t.seconds),nanos:Ie(t.nanos)}}function Ie(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lr(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $p(t){const e=t.mapValue.fields.__previous_value__;return Mp(e)?$p(e):e}function ws(t){const e=or(t.mapValue.fields.__local_write_time__.timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Es{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Es("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Es&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mp(t)?4:mR(t)?9007199254740991:10:z()}function gn(t,e){if(t===e)return!0;const n=_r(t);if(n!==_r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ws(t).isEqual(ws(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=or(r.timestampValue),s=or(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Lr(r.bytesValue).isEqual(Lr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ie(r.geoPointValue.latitude)===Ie(i.geoPointValue.latitude)&&Ie(r.geoPointValue.longitude)===Ie(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ie(r.integerValue)===Ie(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=Ie(r.doubleValue),s=Ie(i.doubleValue);return o===s?Bl(o)===Bl(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Ri(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(kv(o)!==kv(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!gn(o[a],s[a])))return!1;return!0}(t,e);default:return z()}}function Ss(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function Oi(t,e){if(t===e)return 0;const n=_r(t),r=_r(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=Ie(i.integerValue||i.doubleValue),a=Ie(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return Nv(t.timestampValue,e.timestampValue);case 4:return Nv(ws(t),ws(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(i,o){const s=Lr(i),a=Lr(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const u=Z(s[l],a[l]);if(u!==0)return u}return Z(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Z(Ie(i.latitude),Ie(o.latitude));return s!==0?s:Z(Ie(i.longitude),Ie(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const u=Oi(s[l],a[l]);if(u)return u}return Z(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Na.mapValue&&o===Na.mapValue)return 0;if(i===Na.mapValue)return 1;if(o===Na.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Z(a[c],u[c]);if(d!==0)return d;const f=Oi(s[a[c]],l[u[c]]);if(f!==0)return f}return Z(a.length,u.length)}(t.mapValue,e.mapValue);default:throw z()}}function Nv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Z(t,e);const n=or(t),r=or(e),i=Z(n.seconds,r.seconds);return i!==0?i:Z(n.nanos,r.nanos)}function Mi(t){return bf(t)}function bf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=or(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Lr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,F.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=bf(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${bf(r.fields[a])}`;return o+"}"}(t.mapValue):z();var e,n}function Tf(t){return!!t&&"integerValue"in t}function Lp(t){return!!t&&"arrayValue"in t}function Rv(t){return!!t&&"nullValue"in t}function Ov(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qa(t){return!!t&&"mapValue"in t}function Oo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oo(n)}setAll(e){let n=tt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Oo(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());qa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];qa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ft(Oo(this.value))}}function aS(t){const e=[];return Ki(t.fields,(n,r)=>{const i=new tt([n]);if(qa(r)){const o=aS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new et(e,0,G.min(),G.min(),G.min(),Ft.empty(),0)}static newFoundDocument(e,n,r,i){return new et(e,1,n,G.min(),r,i,0)}static newNoDocument(e,n){return new et(e,2,n,G.min(),G.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new et(e,3,n,G.min(),G.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(G.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n){this.position=e,this.inclusive=n}}function Mv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=F.comparator(F.fromName(s.referenceValue),n.key):r=Oi(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $v(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n="asc"){this.field=e,this.dir=n}}function vR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{}class Te extends lS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wR(e,n,r):n==="array-contains"?new CR(e,r):n==="in"?new IR(e,r):n==="not-in"?new DR(e,r):n==="array-contains-any"?new xR(e,r):new Te(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ER(e,r):new SR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oi(n,this.value)):n!==null&&_r(this.value)===_r(n)&&this.matchesComparison(Oi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class mn extends lS{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new mn(e,n)}matches(e){return uS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function uS(t){return t.op==="and"}function cS(t){return yR(t)&&uS(t)}function yR(t){for(const e of t.filters)if(e instanceof mn)return!1;return!0}function Af(t){if(t instanceof Te)return t.field.canonicalString()+t.op.toString()+Mi(t.value);if(cS(t))return t.filters.map(e=>Af(e)).join(",");{const e=t.filters.map(n=>Af(n)).join(",");return`${t.op}(${e})`}}function dS(t,e){return t instanceof Te?function(n,r){return r instanceof Te&&n.op===r.op&&n.field.isEqual(r.field)&&gn(n.value,r.value)}(t,e):t instanceof mn?function(n,r){return r instanceof mn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&dS(o,r.filters[s]),!0):!1}(t,e):void z()}function fS(t){return t instanceof Te?function(e){return`${e.field.canonicalString()} ${e.op} ${Mi(e.value)}`}(t):t instanceof mn?function(e){return e.op.toString()+" {"+e.getFilters().map(fS).join(" ,")+"}"}(t):"Filter"}class wR extends Te{constructor(e,n,r){super(e,n,r),this.key=F.fromName(r.referenceValue)}matches(e){const n=F.comparator(e.key,this.key);return this.matchesComparison(n)}}class ER extends Te{constructor(e,n){super(e,"in",n),this.keys=hS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SR extends Te{constructor(e,n){super(e,"not-in",n),this.keys=hS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>F.fromName(r.referenceValue))}class CR extends Te{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lp(n)&&Ss(n.arrayValue,this.value)}}class IR extends Te{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ss(this.value.arrayValue,n)}}class DR extends Te{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ss(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ss(this.value.arrayValue,n)}}class xR extends Te{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ss(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function Lv(t,e=null,n=[],r=[],i=null,o=null,s=null){return new bR(t,e,n,r,i,o,s)}function _p(t){const e=H(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Af(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ju(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mi(r)).join(",")),e.dt=n}return e.dt}function Fp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$v(t.startAt,e.startAt)&&$v(t.endAt,e.endAt)}function kf(t){return F.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function TR(t,e,n,r,i,o,s,a){return new Gu(t,e,n,r,i,o,s,a)}function Bp(t){return new Gu(t)}function _v(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AR(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function kR(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function PR(t){return t.collectionGroup!==null}function vi(t){const e=H(t);if(e.wt===null){e.wt=[];const n=kR(e),r=AR(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Mo(n)),e.wt.push(new Mo(tt.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Mo(tt.keyField(),o))}}}return e.wt}function Nn(t){const e=H(t);if(!e._t)if(e.limitType==="F")e._t=Lv(e.path,e.collectionGroup,vi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of vi(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new Mo(o.field,s))}const r=e.endAt?new Ul(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ul(e.startAt.position,e.startAt.inclusive):null;e._t=Lv(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Pf(t,e,n){return new Gu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hu(t,e){return Fp(Nn(t),Nn(e))&&t.limitType===e.limitType}function pS(t){return`${_p(Nn(t))}|lt:${t.limitType}`}function Nf(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>fS(r)).join(", ")}]`),ju(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mi(r)).join(",")),`Target(${n})`}(Nn(t))}; limitType=${t.limitType})`}function Wu(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):F.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of vi(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=Mv(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,vi(n),r)||n.endAt&&!function(i,o,s){const a=Mv(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,vi(n),r))}(t,e)}function NR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gS(t){return(e,n)=>{let r=!1;for(const i of vi(t)){const o=RR(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function RR(t,e,n){const r=t.field.isKeyField()?F.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return a!==null&&l!==null?Oi(a,l):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return oS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new ve(F.comparator);function Rn(){return OR}const mS=new ve(F.comparator);function yo(...t){let e=mS;for(const n of t)e=e.insert(n.key,n);return e}function vS(t){let e=mS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ir(){return $o()}function yS(){return $o()}function $o(){return new Qi(t=>t.toString(),(t,e)=>t.isEqual(e))}const MR=new ve(F.comparator),$R=new it(F.comparator);function q(...t){let e=$R;for(const n of t)e=e.add(n);return e}const LR=new it(Z);function _R(){return LR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(e)?"-0":e}}function ES(t){return{integerValue:""+t}}function FR(t,e){return hR(e)?ES(e):wS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this._=void 0}}function BR(t,e,n){return t instanceof Vl?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Mp(i)&&(i=$p(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Cs?CS(t,e):t instanceof Is?IS(t,e):function(r,i){const o=SS(r,i),s=Fv(o)+Fv(r.gt);return Tf(o)&&Tf(r.gt)?ES(s):wS(r.serializer,s)}(t,e)}function UR(t,e,n){return t instanceof Cs?CS(t,e):t instanceof Is?IS(t,e):n}function SS(t,e){return t instanceof zl?Tf(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Vl extends qu{}class Cs extends qu{constructor(e){super(),this.elements=e}}function CS(t,e){const n=DS(e);for(const r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Is extends qu{constructor(e){super(),this.elements=e}}function IS(t,e){let n=DS(e);for(const r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}class zl extends qu{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Fv(t){return Ie(t.integerValue||t.doubleValue)}function DS(t){return Lp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function VR(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Cs&&r instanceof Cs||n instanceof Is&&r instanceof Is?Ri(n.elements,r.elements,gn):n instanceof zl&&r instanceof zl?gn(n.gt,r.gt):n instanceof Vl&&r instanceof Vl}(t.transform,e.transform)}class zR{constructor(e,n){this.version=e,this.transformResults=n}}class Dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ka(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ku{}function xS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new TS(t.key,Dn.none()):new Js(t.key,t.data,Dn.none());{const n=t.data,r=Ft.empty();let i=new it(tt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Vr(t.key,r,new Xt(i.toArray()),Dn.none())}}function jR(t,e,n){t instanceof Js?function(r,i,o){const s=r.value.clone(),a=Uv(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof Vr?function(r,i,o){if(!Ka(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=Uv(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(bS(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Lo(t,e,n,r){return t instanceof Js?function(i,o,s,a){if(!Ka(i.precondition,o))return s;const l=i.value.clone(),u=Vv(i.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vr?function(i,o,s,a){if(!Ka(i.precondition,o))return s;const l=Vv(i.fieldTransforms,a,o),u=o.data;return u.setAll(bS(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,o,s){return Ka(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function GR(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=SS(r.transform,i||null);o!=null&&(n===null&&(n=Ft.empty()),n.set(r.field,o))}return n||null}function Bv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ri(n,r,(i,o)=>VR(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Js extends Ku{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vr extends Ku{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Uv(t,e,n){const r=new Map;de(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,UR(s,a,n[i]))}return r}function Vv(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,BR(o,s,e))}return r}class TS extends Ku{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HR extends Ku{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&jR(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yS();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=xS(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),q())}isEqual(e){return this.batchId===e.batchId&&Ri(this.mutations,e.mutations,(n,r)=>Bv(n,r))&&Ri(this.baseMutations,e.baseMutations,(n,r)=>Bv(n,r))}}class Up{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length);let i=MR;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Up(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Q;function QR(t){switch(t){default:return z();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function AS(t){if(t===void 0)return Pn("GRPC error has no .code"),I.UNKNOWN;switch(t){case Ce.OK:return I.OK;case Ce.CANCELLED:return I.CANCELLED;case Ce.UNKNOWN:return I.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return I.INTERNAL;case Ce.UNAVAILABLE:return I.UNAVAILABLE;case Ce.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Ce.NOT_FOUND:return I.NOT_FOUND;case Ce.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Ce.ABORTED:return I.ABORTED;case Ce.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Ce.DATA_LOSS:return I.DATA_LOSS;default:return z()}}(Q=Ce||(Ce={}))[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ra}static getOrCreateInstance(){return Ra===null&&(Ra=new Vp),Ra}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ra=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new mi([4294967295,4294967295],0);function zv(t){const e=YR().encode(t),n=new J2;return n.update(e),new Uint8Array(n.digest())}function jv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mi([n,r],0),new mi([i,o],0)]}class zp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wo(`Invalid padding: ${n}`);if(r<0)throw new wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wo(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=mi.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(mi.fromNumber(r)));return i.compare(XR)===1&&(i=new mi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=zv(e),[r,i]=jv(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new zp(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.It===0)return;const n=zv(e),[r,i]=jv(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zs.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qu(G.min(),i,new ve(Z),Rn(),q())}}class Zs{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zs(r,n,q(),q(),q())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class kS{constructor(e,n){this.targetId=e,this.Vt=n}}class PS{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Gv{constructor(){this.St=0,this.Dt=Wv(),this.Ct=st.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=q(),n=q(),r=q();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:z()}}),new Zs(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Wv()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class JR{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Rn(),this.zt=Hv(),this.Wt=new ve(Z)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(kf(s))if(i===0){const a=new F(s.path);this.Yt(r,a,et.newNoDocument(a,G.min()))}else de(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Vp.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var f,h,m,y,E,g;const p={localCacheCount:c,existenceFilterCount:d.count},v=d.unchangedNames;return v&&(p.bloomFilter={applied:u===0,hashCount:(f=v==null?void 0:v.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(y=(m=(h=v==null?void 0:v.bits)===null||h===void 0?void 0:h.bitmap)===null||m===void 0?void 0:m.length)!==null&&y!==void 0?y:0,padding:(g=(E=v==null?void 0:v.bits)===null||E===void 0?void 0:E.padding)!==null&&g!==void 0?g:0}),p}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=Lr(o).toUint8Array()}catch(c){if(c instanceof sS)return Ni("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new zp(l,s,a)}catch(c){return Ni(c instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&kf(a.target)){const l=new F(a.target.path);this.jt.get(l)!==null||this.ae(s,l)||this.Yt(s,l,et.newNoDocument(l,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=q();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new Qu(e,n,this.Wt,this.jt,r);return this.jt=Rn(),this.zt=Hv(),this.Wt=new ve(Z),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Gv,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new it(Z),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Gv),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Hv(){return new ve(F.comparator)}function Wv(){return new ve(F.comparator)}const ZR=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),eO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),tO=(()=>({and:"AND",or:"OR"}))();class nO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rf(t,e){return t.useProto3Json||ju(e)?e:{value:e}}function jl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rO(t,e){return jl(t,e.toTimestamp())}function pn(t){return de(!!t),G.fromTimestamp(function(e){const n=or(e);return new ke(n.seconds,n.nanos)}(t))}function jp(t,e){return function(n){return new we(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function RS(t){const e=we.fromString(t);return de(LS(e)),e}function Of(t,e){return jp(t.databaseId,e.path)}function rd(t,e){const n=RS(e);if(n.get(1)!==t.databaseId.projectId)throw new U(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new F(OS(n))}function Mf(t,e){return jp(t.databaseId,e)}function iO(t){const e=RS(t);return e.length===4?we.emptyPath():OS(e)}function $f(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OS(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qv(t,e,n){return{name:Of(t,e),fields:n.value.mapValue.fields}}function oO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(de(u===void 0||typeof u=="string"),st.fromBase64String(u||"")):(de(u===void 0||u instanceof Uint8Array),st.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=l.code===void 0?I.UNKNOWN:AS(l.code);return new U(u,l.message||"")}(s);n=new PS(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rd(t,r.document.name),o=pn(r.document.updateTime),s=r.document.createTime?pn(r.document.createTime):G.min(),a=new Ft({mapValue:{fields:r.document.fields}}),l=et.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Qa(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rd(t,r.document),o=r.readTime?pn(r.readTime):G.min(),s=et.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Qa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rd(t,r.document),o=r.removedTargetIds||[];n=new Qa([],o,i,null)}else{if(!("filter"in e))return z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new KR(i,o),a=r.targetId;n=new kS(a,s)}}return n}function sO(t,e){let n;if(e instanceof Js)n={update:qv(t,e.key,e.value)};else if(e instanceof TS)n={delete:Of(t,e.key)};else if(e instanceof Vr)n={update:qv(t,e.key,e.data),updateMask:gO(e.fieldMask)};else{if(!(e instanceof HR))return z();n={verify:Of(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Vl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Cs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Is)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof zl)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:rO(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:z()}(t,e.precondition)),n}function aO(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?pn(r.updateTime):pn(i);return o.isEqual(G.min())&&(o=pn(i)),new zR(o,r.transformResults||[])}(n,e))):[]}function lO(t,e){return{documents:[Mf(t,e.path)]}}function uO(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Mf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Mf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return $S(mn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:qr(c.field),direction:fO(c.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Rf(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function cO(t){let e=iO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){de(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(c){const d=MS(c);return d instanceof mn&&cS(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(c=>function(d){return new Mo(Kr(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,ju(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new Ul(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new Ul(f,d)}(n.endAt)),TR(e,i,s,o,a,"F",l,u)}function dO(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MS(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Kr(e.unaryFilter.field);return Te.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Kr(e.unaryFilter.field);return Te.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Kr(e.unaryFilter.field);return Te.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Kr(e.unaryFilter.field);return Te.create(o,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(e){return Te.create(Kr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return mn.create(e.compositeFilter.filters.map(n=>MS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return z()}}(e.compositeFilter.op))}(t):z()}function fO(t){return ZR[t]}function hO(t){return eO[t]}function pO(t){return tO[t]}function qr(t){return{fieldPath:t.canonicalString()}}function Kr(t){return tt.fromServerFormat(t.fieldPath)}function $S(t){return t instanceof Te?function(e){if(e.op==="=="){if(Ov(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NAN"}};if(Rv(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Ov(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NOT_NAN"}};if(Rv(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qr(e.field),op:hO(e.op),value:e.value}}}(t):t instanceof mn?function(e){const n=e.getFilters().map(r=>$S(r));return n.length===1?n[0]:{compositeFilter:{op:pO(e.op),filters:n}}}(t):z()}function gO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,i,o=G.min(),s=G.min(),a=st.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.fe=e}}function vO(t){const e=cO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.rn=new wO}addToCollectionParentIndex(e,n){return this.rn.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(ir.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(ir.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}}class wO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(we.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new $i(0)}static Mn(){return new $i(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.changes=new Qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lo(r.mutation,i,Xt.empty(),ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,q()).next(()=>r))}getLocalViewOfDocuments(e,n,r=q()){const i=Ir();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=yo();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ir();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,q()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Rn();const s=$o(),a=$o();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Vr)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Lo(c.mutation,u,c.mutation.getFieldMask(),ke.now())):s.set(u.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new SO(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=$o();let i=new ve((s,a)=>s-a),o=q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Xt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||q()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=yS();c.forEach(f=>{if(!o.has(f)){const h=xS(n.get(f),r.get(f));h!==null&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return b.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return F.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):b.resolve(Ir());let a=-1,l=o;return s.next(u=>b.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?b.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,q())).next(c=>({batchId:a,changes:vS(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new F(n)).next(r=>{let i=yo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=yo();return this.indexManager.getCollectionParents(e,i).next(s=>b.forEach(s,a=>{const l=function(u,c){return new Gu(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{o=o.insert(c,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,et.newInvalidDocument(u)))});let s=yo();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Lo(u.mutation,l,Xt.empty(),ke.now()),Wu(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return b.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:pn(r.createTime)}),b.resolve()}getNamedQuery(e,n){return b.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:vO(r.bundledQuery),readTime:pn(r.readTime)}}(n)),b.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.overlays=new ve(F.comparator),this.ls=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ir();return b.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),b.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){const i=Ir(),o=n.length+1,s=new F(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ve((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ir(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ir(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return b.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new qR(n,r));let o=this.ls.get(n);o===void 0&&(o=q(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(){this.fs=new it(Re.ds),this.ws=new it(Re._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Re(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Re(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new F(new we([])),r=new Re(n,e),i=new Re(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new F(new we([])),r=new Re(n,e),i=new Re(n,e+1);let o=q();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Re(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Re{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return F.comparator(e.key,n.key)||Z(e.As,n.As)}static _s(e,n){return Z(e.As,n.As)||F.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new it(Re.ds)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new WR(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new Re(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(s)}lookupMutationBatch(e,n){return b.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),o=i<0?0:i;return b.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Re(n,0),i=new Re(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),b.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(Z);return n.forEach(i=>{const o=new Re(i,0),s=new Re(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),b.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;F.isDocumentKey(o)||(o=o.child(""));const s=new Re(new F(o),0);let a=new it(Z);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},s),b.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return b.forEach(n.mutations,i=>{const o=new Re(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Re(n,0),i=this.Rs.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.Ds=e,this.docs=new ve(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():et.newInvalidDocument(n))}getEntries(e,n){let r=Rn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():et.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Rn();const s=n.path,a=new F(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||cR(uR(c),r)<=0||(i.has(c.key)||Wu(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return b.resolve(o)}getAllFromCollectionGroup(e,n,r,i){z()}Cs(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TO(this)}getSize(e){return b.resolve(this.size)}}class TO extends EO{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.persistence=e,this.xs=new Qi(n=>_p(n),Fp),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Gp,this.targetCount=0,this.Ms=$i.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),b.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new $i(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.Fn(n),b.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(o).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),b.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),b.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n){this.$s={},this.overlays={},this.Os=new Op(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new AO(this),this.indexManager=new yO,this.remoteDocumentCache=function(r){return new bO(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new mO(n),this.qs=new IO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new xO(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new PO(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return b.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class PO extends fR{constructor(e){super(),this.currentSequenceNumber=e}}class Hp{constructor(e){this.persistence=e,this.Qs=new Gp,this.js=null}static zs(e){return new Hp(e)}get Ws(){if(this.js)return this.js;throw z()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),b.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Ws,r=>{const i=F.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,G.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return b.or([()=>b.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=q(),i=q();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Wp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(_v(n))return b.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Pf(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=q(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,s,l.readTime)?this.Ki(e,Pf(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return _v(n)||i.isEqual(G.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(Av()<=ee.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nf(n)),this.Wi(e,s,n,lR(i,-1)))})}ji(e,n){let r=new it(gS(e));return n.forEach((i,o)=>{Wu(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return Av()<=ee.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Nf(n)),this.Ui.getDocumentsMatchingQuery(e,n,ir.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ve(Z),this.Yi=new Qi(o=>_p(o),Fp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function OO(t,e,n,r){return new RO(t,e,n,r)}async function _S(t,e){const n=H(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=q();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:s,addedBatchIds:a}))})})}function MO(t,e){const n=H(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,u){const c=l.batch,d=c.keys();let f=b.resolve();return d.forEach(h=>{f=f.next(()=>u.getEntry(a,h)).next(m=>{const y=l.docVersions.get(h);de(y!==null),m.version.compareTo(y)<0&&(c.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),f.next(()=>s.mutationQueue.removeMutationBatch(a,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=q();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function FS(t){const e=H(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function $O(t,e){const n=H(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,c.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(st.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(m,y,E){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,h,c)&&a.push(n.Bs.updateTargetData(o,h))});let l=Rn(),u=q();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(LO(o,s,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(G.min())){const c=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return b.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=i,o))}function LO(t,e,n){let r=q(),i=q();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Rn();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(G.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:s,sr:i}})}function _O(t,e){const n=H(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FO(t,e){const n=H(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,b.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new Vn(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Lf(t,e,n){const r=H(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Xs(s))throw s;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Kv(t,e,n){const r=H(t);let i=G.min(),o=q();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,u){const c=H(a),d=c.Yi.get(u);return d!==void 0?b.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,s,Nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:G.min(),n?o:q())).next(a=>(BO(r,NR(e),a),{documents:a,ir:o})))}function BO(t,e,n){let r=t.Xi.get(e)||G.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}class Qv{constructor(){this.activeTargetIds=_R()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UO{constructor(){this.Hr=new Qv,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Qv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa=null;function id(){return Oa===null?Oa=268435456+Math.round(2147483648*Math.random()):Oa++,"0x"+Oa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class GO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=id(),a=this.To(e,n);$("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.Eo(l,i,o),this.Ao(e,a,l,r).then(u=>($("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw Ni("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){const r=zO[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=id();return new Promise((s,a)=>{const l=new X2;l.setWithCredentials(!0),l.listenOnce(K2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nd.NO_ERROR:const c=l.getResponseJson();$(Xe,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case nd.TIMEOUT:$(Xe,`RPC '${e}' ${o} timed out`),a(new U(I.DEADLINE_EXCEEDED,"Request time out"));break;case nd.HTTP_ERROR:const d=l.getStatus();if($(Xe,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const m=function(y){const E=y.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(E)>=0?E:I.UNKNOWN}(h.status);a(new U(m,h.message))}else a(new U(I.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new U(I.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{$(Xe,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);$(Xe,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=id(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=W2(),a=q2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Y2({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");$(Xe,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let f=!1,h=!1;const m=new jO({ro:E=>{h?$(Xe,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||($(Xe,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),$(Xe,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},oo:()=>d.close()}),y=(E,g,p)=>{E.listen(g,v=>{try{p(v)}catch(w){setTimeout(()=>{throw w},0)}})};return y(d,ka.EventType.OPEN,()=>{h||$(Xe,`RPC '${e}' stream ${i} transport opened.`)}),y(d,ka.EventType.CLOSE,()=>{h||(h=!0,$(Xe,`RPC '${e}' stream ${i} transport closed`),m.wo())}),y(d,ka.EventType.ERROR,E=>{h||(h=!0,Ni(Xe,`RPC '${e}' stream ${i} transport errored:`,E),m.wo(new U(I.UNAVAILABLE,"The operation could not be completed")))}),y(d,ka.EventType.MESSAGE,E=>{var g;if(!h){const p=E.data[0];de(!!p);const v=p,w=v.error||((g=v[0])===null||g===void 0?void 0:g.error);if(w){$(Xe,`RPC '${e}' stream ${i} received error:`,w);const S=w.status;let C=function(A){const O=Ce[A];if(O!==void 0)return AS(O)}(S),x=w.message;C===void 0&&(C=I.INTERNAL,x="Unknown error status: "+S+" with message "+w.message),h=!0,m.wo(new U(C,x)),d.close()}else $(Xe,`RPC '${e}' stream ${i} received:`,p),m._o(p)}}),y(a,Q2.STAT_EVENT,E=>{E.stat===bv.PROXY?$(Xe,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===bv.NOPROXY&&$(Xe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.fo()},0),m}}function od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){return new nO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r,i,o,s,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new BS(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(Pn(n.toString()),Pn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new U(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HO extends US{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=oO(this.serializer,e),r=function(i){if(!("targetChange"in i))return G.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?G.min():o.readTime?pn(o.readTime):G.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=$f(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=kf(a)?{documents:lO(i,a)}:{query:uO(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=NS(i,o.resumeToken);const l=Rf(i,o.expectedCount);l!==null&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(G.min())>0){s.readTime=jl(i,o.snapshotVersion.toTimestamp());const l=Rf(i,o.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const r=dO(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=$f(this.serializer),n.removeTarget=e,this.Wo(n)}}class WO extends US{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=aO(e.writeResults,e.commitTime),r=pn(e.commitTime);return this.listener.cu(r,n)}return de(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=$f(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sO(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new U(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new U(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(I.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class KO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Pn(n),this.mu=!1):$("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(s=>{r.enqueueAndForget(async()=>{zr(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=H(a);l.vu.add(4),await ea(l),l.bu.set("Unknown"),l.vu.delete(4),await Xu(l)}(this))})}),this.bu=new KO(r,i)}}async function Xu(t){if(zr(t))for(const e of t.Ru)await e(!0)}async function ea(t){for(const e of t.Ru)await e(!1)}function VS(t,e){const n=H(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Qp(n)?Kp(n):Yi(n).Ko()&&qp(n,e))}function zS(t,e){const n=H(t),r=Yi(n);n.Au.delete(e),r.Ko()&&jS(n,e),n.Au.size===0&&(r.Ko()?r.jo():zr(n)&&n.bu.set("Unknown"))}function qp(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yi(t).su(e)}function jS(t,e){t.Vu.qt(e),Yi(t).iu(e)}function Kp(t){t.Vu=new JR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Yi(t).start(),t.bu.gu()}function Qp(t){return zr(t)&&!Yi(t).Uo()&&t.Au.size>0}function zr(t){return H(t).vu.size===0}function GS(t){t.Vu=void 0}async function YO(t){t.Au.forEach((e,n)=>{qp(t,e)})}async function XO(t,e){GS(t),Qp(t)?(t.bu.Iu(e),Kp(t)):t.bu.set("Unknown")}async function JO(t,e,n){if(t.bu.set("Online"),e instanceof PS&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.Au.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.Au.delete(s),r.Vu.removeTarget(s))}(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gl(t,r)}else if(e instanceof Qa?t.Vu.Ht(e):e instanceof kS?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(G.min()))try{const r=await FS(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(st.EMPTY_BYTE_STRING,u.snapshotVersion)),jS(i,a);const c=new Vn(u.target,a,l,u.sequenceNumber);qp(i,c)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){$("RemoteStore","Failed to raise snapshot:",r),await Gl(t,r)}}async function Gl(t,e,n){if(!Xs(e))throw e;t.vu.add(1),await ea(t),t.bu.set("Offline"),n||(n=()=>FS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Xu(t)})}function HS(t,e){return e().catch(n=>Gl(t,n,e))}async function Ju(t){const e=H(t),n=sr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;ZO(e);)try{const i=await _O(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,eM(e,i)}catch(i){await Gl(e,i)}WS(e)&&qS(e)}function ZO(t){return zr(t)&&t.Eu.length<10}function eM(t,e){t.Eu.push(e);const n=sr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function WS(t){return zr(t)&&!sr(t).Uo()&&t.Eu.length>0}function qS(t){sr(t).start()}async function tM(t){sr(t).hu()}async function nM(t){const e=sr(t);for(const n of t.Eu)e.uu(n.mutations)}async function rM(t,e,n){const r=t.Eu.shift(),i=Up.from(r,e,n);await HS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ju(t)}async function iM(t,e){e&&sr(t).ou&&await async function(n,r){if(i=r.code,QR(i)&&i!==I.ABORTED){const o=n.Eu.shift();sr(n).Qo(),await HS(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Ju(n)}var i}(t,e),WS(t)&&qS(t)}async function Xv(t,e){const n=H(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const r=zr(n);n.vu.add(3),await ea(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Xu(n)}async function oM(t,e){const n=H(t);e?(n.vu.delete(2),await Xu(n)):e||(n.vu.add(2),await ea(n),n.bu.set("Unknown"))}function Yi(t){return t.Su||(t.Su=function(e,n,r){const i=H(e);return i.fu(),new HO(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:YO.bind(null,t),ao:XO.bind(null,t),nu:JO.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Qp(t)?Kp(t):t.bu.set("Unknown")):(await t.Su.stop(),GS(t))})),t.Su}function sr(t){return t.Du||(t.Du=function(e,n,r){const i=H(e);return i.fu(),new WO(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:tM.bind(null,t),ao:iM.bind(null,t),au:nM.bind(null,t),cu:rM.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Ju(t)):(await t.Du.stop(),t.Eu.length>0&&($("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Yp(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(t,e){if(Pn("AsyncQueue",`${e}: ${t}`),Xs(t))return new U(I.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||F.comparator(n.key,r.key):(n,r)=>F.comparator(n.key,r.key),this.keyedMap=yo(),this.sortedSet=new ve(this.comparator)}static emptySet(e){return new yi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.Cu=new ve(F.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):z():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Li{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Li(e,n,yi.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.Nu=void 0,this.listeners=[]}}class aM{constructor(){this.queries=new Qi(e=>pS(e),Hu),this.onlineState="Unknown",this.ku=new Set}}async function lM(t,e){const n=H(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new sM),i)try{o.Nu=await n.onListen(r)}catch(s){const a=Xp(s,`Initialization of query '${Nf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&Jp(n)}async function uM(t,e){const n=H(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function cM(t,e){const n=H(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&Jp(n)}function dM(t,e,n){const r=H(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Jp(t){t.ku.forEach(e=>{e.next()})}class fM{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Li(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Li.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.key=e}}class QS{constructor(e){this.key=e}}class hM{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=q(),this.mutatedKeys=q(),this.tc=gS(e),this.ec=new yi(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Jv,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),h=Wu(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let E=!1;f&&h?f.data.isEqual(h.data)?m!==y&&(r.track({type:3,doc:h}),E=!0):this.rc(f,h)||(r.track({type:2,doc:h}),E=!0,(l&&this.tc(h,l)>0||u&&this.tc(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),E=!0):f&&!h&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(h?(s=s.add(h),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,c)=>function(d,f){const h=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return h(d)-h(f)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const s=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,o.length!==0||l?{snapshot:new Li(this.query,e.ec,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Jv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=q(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new QS(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new KS(r))}),n}hc(e){this.Yu=e.ir,this.Zu=q();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Li.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class pM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gM{constructor(e){this.key=e,this.fc=!1}}class mM{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Qi(a=>pS(a),Hu),this._c=new Map,this.mc=new Set,this.gc=new ve(F.comparator),this.yc=new Map,this.Ic=new Gp,this.Tc={},this.Ec=new Map,this.Ac=$i.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function vM(t,e){const n=TM(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=await FO(n.localStore,Nn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await yM(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&VS(n.remoteStore,s)}return i}async function yM(t,e,n,r,i){t.Rc=(d,f,h)=>async function(m,y,E,g){let p=y.view.sc(E);p.zi&&(p=await Kv(m.localStore,y.query,!1).then(({documents:S})=>y.view.sc(S,p)));const v=g&&g.targetChanges.get(y.targetId),w=y.view.applyChanges(p,m.isPrimaryClient,v);return ey(m,y.targetId,w.cc),w.snapshot}(t,d,f,h);const o=await Kv(t.localStore,e,!0),s=new hM(e,o.ir),a=s.sc(o.documents),l=Zs.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);ey(t,n,u.cc);const c=new pM(e,n,s);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function wM(t,e){const n=H(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!Hu(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Lf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),zS(n.remoteStore,r.targetId),_f(n,r.targetId)}).catch(Ys)):(_f(n,r.targetId),await Lf(n.localStore,r.targetId,!0))}async function EM(t,e,n){const r=AM(t);try{const i=await function(o,s){const a=H(o),l=ke.now(),u=s.reduce((f,h)=>f.add(h.key),q());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let h=Rn(),m=q();return a.Zi.getEntries(f,u).next(y=>{h=y,h.forEach((E,g)=>{g.isValidDocument()||(m=m.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,h)).next(y=>{c=y;const E=[];for(const g of s){const p=GR(g,c.get(g.key).overlayedDocument);p!=null&&E.push(new Vr(g.key,p,aS(p.value.mapValue),Dn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,E,s)}).next(y=>{d=y;const E=y.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(f,y.batchId,E)})}).then(()=>({batchId:d.batchId,changes:vS(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new ve(Z)),l=l.insert(s,a),o.Tc[o.currentUser.toKey()]=l}(r,i.batchId,n),await ta(r,i.changes),await Ju(r.remoteStore)}catch(i){const o=Xp(i,"Failed to persist write");n.reject(o)}}async function YS(t,e){const n=H(t);try{const r=await $O(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?de(s.fc):i.removedDocuments.size>0&&(de(s.fc),s.fc=!1))}),await ta(n,r,e)}catch(r){await Ys(r)}}function Zv(t,e,n){const r=H(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=H(o);a.onlineState=s;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(s)&&(l=!0)}),l&&Jp(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SM(t,e,n){const r=H(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new ve(F.comparator);s=s.insert(o,et.newNoDocument(o,G.min()));const a=q().add(o),l=new Qu(G.min(),new Map,new ve(Z),s,a);await YS(r,l),r.gc=r.gc.remove(o),r.yc.delete(e),Zp(r)}else await Lf(r.localStore,e,!1).then(()=>_f(r,e,n)).catch(Ys)}async function CM(t,e){const n=H(t),r=e.batch.batchId;try{const i=await MO(n.localStore,e);JS(n,r,null),XS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ta(n,i)}catch(i){await Ys(i)}}async function IM(t,e,n){const r=H(t);try{const i=await function(o,s){const a=H(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,s).next(c=>(de(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);JS(r,e,n),XS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ta(r,i)}catch(i){await Ys(i)}}function XS(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function JS(t,e,n){const r=H(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function _f(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||ZS(t,r)})}function ZS(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(zS(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Zp(t))}function ey(t,e,n){for(const r of n)r instanceof KS?(t.Ic.addReference(r.key,e),DM(t,r)):r instanceof QS?($("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||ZS(t,r.key)):z()}function DM(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||($("SyncEngine","New document in limbo: "+n),t.mc.add(r),Zp(t))}function Zp(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new F(we.fromString(e)),r=t.Ac.next();t.yc.set(r,new gM(n)),t.gc=t.gc.insert(n,r),VS(t.remoteStore,new Vn(Nn(Bp(n.path)),r,"TargetPurposeLimboResolution",Op.ct))}}async function ta(t,e,n){const r=H(t),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{s.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Wp.Li(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.dc.nu(i),await async function(a,l){const u=H(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>b.forEach(l,d=>b.forEach(d.Fi,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>b.forEach(d.Bi,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!Xs(c))throw c;$("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.Ji.get(d),h=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(h);u.Ji=u.Ji.insert(d,m)}}}(r.localStore,o))}async function xM(t,e){const n=H(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const r=await _S(n.localStore,e);n.currentUser=e,function(i,o){i.Ec.forEach(s=>{s.forEach(a=>{a.reject(new U(I.CANCELLED,o))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ta(n,r.er)}}function bM(t,e){const n=H(t),r=n.yc.get(e);if(r&&r.fc)return q().add(r.key);{let i=q();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}function TM(t){const e=H(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SM.bind(null,e),e.dc.nu=cM.bind(null,e.eventManager),e.dc.Pc=dM.bind(null,e.eventManager),e}function AM(t){const e=H(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IM.bind(null,e),e}class ty{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Yu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return OO(this.persistence,new NO,e.initialUser,this.serializer)}createPersistence(e){return new kO(Hp.zs,this.serializer)}createSharedClientState(e){return new UO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xM.bind(null,this.syncEngine),await oM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new aM}createDatastore(e){const n=Yu(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new GO(i));var i;return function(o,s,a,l){return new qO(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>Zv(this.syncEngine,a,0),s=Yv.D()?new Yv:new VO,new QO(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,l,u){const c=new mM(r,i,o,s,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=H(e);$("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ea(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Pn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=iS.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{$("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>($("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sd(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await _S(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ny(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OM(t);$("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Xv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Xv(e.remoteStore,o)),t._onlineComponents=e}function RM(t){return t.name==="FirebaseError"?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function OM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await sd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!RM(n))throw n;Ni("Error using user provided cache. Falling back to memory cache: "+n),await sd(t,new ty)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await sd(t,new ty);return t._offlineComponents}async function eC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await ny(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await ny(t,new kM))),t._onlineComponents}function MM(t){return eC(t).then(e=>e.syncEngine)}async function ry(t){const e=await eC(t),n=e.eventManager;return n.onListen=vM.bind(null,e.syncEngine),n.onUnlisten=wM.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t,e,n){if(!n)throw new U(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LM(t,e,n,r){if(e===!0&&r===!0)throw new U(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oy(t){if(!F.isDocumentKey(t))throw new U(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function wi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eg(t);throw new U(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new U(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new U(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new U(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class tg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Z2;switch(n.type){case"firstParty":return new rR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new U(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=iy.get(e);n&&($("ComponentProvider","Removing Datastore"),iy.delete(e),n.terminate())}(this),Promise.resolve()}}function _M(t,e,n,r={}){var i;const o=(t=wi(t,tg))._getSettings();if(o.host!=="firestore.googleapis.com"&&o.host!==e&&Ni("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let s,a;if(typeof r.mockUserToken=="string")s=r.mockUserToken,a=Je.MOCK_USER;else{s=RP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Je(l)}t._authCredentials=new eR(new rS(s,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class Zu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zu(this.firestore,e,this._query)}}class Ds extends Zu{constructor(e,n,r){super(e,n,Bp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new F(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function ay(t,e,...n){if(t=ss(t),arguments.length===1&&(e=iS.A()),$M("doc","path",e),t instanceof tg){const r=we.fromString(e,...n);return oy(r),new jt(t,null,new F(r))}{if(!(t instanceof jt||t instanceof Ds))throw new U(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return oy(r),new jt(t.firestore,t instanceof Ds?t.converter:null,new F(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new BS(this,"async_queue_retry"),this.Xc=()=>{const n=od();n&&$("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=od();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=od();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Tr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Xs(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw Pn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=Yp.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&z()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function ly(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Hl extends tg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new FM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rC(this),this._firestoreClient.terminate()}}function uy(t,e){const n=typeof t=="object"?t:LN(),r=typeof t=="string"?t:e||"(default)",i=RN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=PP("firestore");o&&_M(i,...o)}return i}function nC(t){return t._firestoreClient||rC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rC(t){var e,n,r;const i=t._freezeSettings(),o=function(s,a,l,u){return new gR(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,tC(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new NM(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _i(st.fromBase64String(e))}catch(n){throw new U(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _i(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=/^__.*__$/;class UM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Js(e,this.data,n,this.fieldTransforms)}}function oC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class ig{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Wl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(oC(this.ca)&&BM.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class VM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yu(e)}ya(e,n,r,i=!1){return new ig({ca:e,methodName:n,ga:r,path:tt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zM(t){const e=t._freezeSettings(),n=Yu(t._databaseId);return new VM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jM(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);uC("Data must be an object, but it was:",s,r);const a=aC(r,s);let l,u;if(o.merge)l=new Xt(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=GM(e,d,n);if(!s.contains(f))throw new U(I.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);WM(c,f)||c.push(f)}l=new Xt(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new UM(new Ft(a),l,u)}function sC(t,e){if(lC(t=ss(t)))return uC("Unsupported field value:",e,t),aC(t,e);if(t instanceof iC)return function(n,r){if(!oC(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=sC(s,r.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ss(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return FR(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ke.fromDate(n);return{timestampValue:jl(r.serializer,i)}}if(n instanceof ke){const i=new ke(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jl(r.serializer,i)}}if(n instanceof rg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _i)return{bytesValue:NS(r.serializer,n._byteString)};if(n instanceof jt){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jp(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${eg(n)}`)}(t,e)}function aC(t,e){const n={};return oS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,i)=>{const o=sC(i,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function lC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof rg||t instanceof _i||t instanceof jt||t instanceof iC)}function uC(t,e,n){if(!lC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=eg(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function GM(t,e,n){if((e=ss(e))instanceof ng)return e._internalPath;if(typeof e=="string")return cC(t,e);throw Wl("Field path arguments must be of type string or ",t,!1,void 0,n)}const HM=new RegExp("[~\\*/\\[\\]]");function cC(t,e,n){if(e.search(HM)>=0)throw Wl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ng(...e.split("."))._internalPath}catch{throw Wl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wl(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new U(I.INVALID_ARGUMENT,a+t+l)}function WM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qM extends dC{data(){return super.data()}}function fC(t,e){return typeof e=="string"?cC(t,e):e instanceof ng?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QM{convertValue(e,n="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ie(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ki(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new rg(Ie(e.latitude),Ie(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$p(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ws(e));default:return null}}convertTimestamp(e){const n=or(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);de(LS(r));const i=new Es(r.get(1),r.get(3)),o=new F(r.popFirst(5));return i.isEqual(n)||Pn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hC extends dC{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ya(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ya extends hC{data(e={}){return super.data(e)}}class XM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ya(this._firestore,this._userDataWriter,r.key,r,new Eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new Ya(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Eo(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new Ya(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Eo(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:JM(s.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}class pC extends QM{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function cy(t,e,n){t=wi(t,jt);const r=wi(t.firestore,Hl),i=YM(t.converter,e,n);return e$(r,[jM(zM(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Dn.none())])}function ZM(t,...e){var n,r,i;t=ss(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||ly(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(ly(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof jt)u=wi(t.firestore,Hl),c=Bp(t._key.path),l={next:d=>{e[s]&&e[s](t$(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=wi(t,Zu);u=wi(d.firestore,Hl),c=d._query;const f=new pC(u);l={next:h=>{e[s]&&e[s](new XM(u,f,d,h))},error:e[s+1],complete:e[s+2]},KM(t._query)}return function(d,f,h,m){const y=new PM(m),E=new fM(f,y,h);return d.asyncQueue.enqueueAndForget(async()=>lM(await ry(d),E)),()=>{y.Dc(),d.asyncQueue.enqueueAndForget(async()=>uM(await ry(d),E))}}(nC(u),c,a,l)}function e$(t,e){return function(n,r){const i=new Tr;return n.asyncQueue.enqueueAndForget(async()=>EM(await MM(n),r,i)),i.promise}(nC(t),e)}function t$(t,e,n){const r=n.docs.get(e._key),i=new pC(t);return new hC(t,i,e._key,r,new Eo(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){qi=n})($N),Nl(new as("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new Hl(new tR(n.getProvider("auth-internal")),new oR(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new U(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Es(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),pi(Tv,"3.12.1",t),pi(Tv,"3.12.1","esm2017")})();var n$="firebase",r$="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(n$,r$,"app");function i$(){if(typeof uv=="function"&&uv().length)return;const t={apiKey:{}.VITE_FIREBASE_API_KEY??"REPLACE_ME",authDomain:{}.VITE_FIREBASE_AUTH_DOMAIN??"REPLACE_ME",projectId:{}.VITE_FIREBASE_PROJECT_ID??"task-management-app",storageBucket:{}.VITE_FIREBASE_STORAGE_BUCKET??"REPLACE_ME",messagingSenderId:{}.VITE_FIREBASE_MESSAGING_SENDER_ID??"REPLACE_ME",appId:{}.VITE_FIREBASE_APP_ID??"REPLACE_ME"};Jw(t)}i$();const ad=uy?uy():void 0,dy=[{id:"todo",title:"To do",tasks:[{id:"t1",title:"Welcome - drag me"}]},{id:"inprogress",title:"In progress",tasks:[]},{id:"done",title:"Done",tasks:[]}];function o$(){const[t,e]=R.useState(dy);R.useEffect(()=>{if(!ad)return;const s=ay(ad,"boards","default"),a=ZM(s,l=>{if(l&&l.exists&&l.exists()){const u=l.data();u&&Array.isArray(u.columns)&&e(u.columns)}},l=>{console.warn("Realtime listener error",l)});return cy(s,{columns:dy},{merge:!0}).catch(()=>{}),()=>a&&a()},[]);const n=async s=>{if(!s.destination)return;const{source:a,destination:l}=s;if(a.droppableId===l.droppableId&&a.index===l.index)return;const u=JSON.parse(JSON.stringify(t)),c=u.find(h=>h.id===a.droppableId),d=u.find(h=>h.id===l.droppableId),[f]=c.tasks.splice(a.index,1);d.tasks.splice(l.index,0,f),e(u);try{const h=ay(ad,"boards","default");await cy(h,{columns:u},{merge:!0})}catch(h){console.error("Failed to persist board",h)}},r=Rk,i=jw,o=gP;return xe.jsx(r,{onDragEnd:n,children:xe.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map(s=>xe.jsxs("div",{className:"bg-white rounded shadow p-4",children:[xe.jsx("h2",{className:"font-semibold mb-3",children:s.title}),xe.jsx(i,{droppableId:s.id,children:a=>xe.jsxs("div",{ref:a.innerRef,...a.droppableProps,className:"min-h-[80px]",children:[s.tasks.map((l,u)=>xe.jsx(o,{draggableId:String(l.id),index:u,children:c=>xe.jsx("div",{ref:c.innerRef,...c.draggableProps,...c.dragHandleProps,className:"p-3 mb-2 bg-gray-100 rounded",children:l.title})},String(l.id))),a.placeholder]})})]},s.id))})})}function s$(){return xe.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[xe.jsx("header",{className:"max-w-6xl mx-auto mb-6",children:xe.jsxs("div",{className:"flex items-center gap-3",children:[xe.jsx("span",{className:"text-2xl",children:""}),xe.jsxs("div",{children:[xe.jsx("h1",{className:"text-2xl font-bold",children:"Task Management App"}),xe.jsx("p",{className:"text-sm text-gray-600",children:"Collaborative board with real-time updates and drag-and-drop (React + Firebase)"})]})]})}),xe.jsx("main",{className:"max-w-6xl mx-auto",children:xe.jsx(o$,{})})]})}const a$=x1(document.getElementById("root"));a$.render(xe.jsx(R.StrictMode,{children:xe.jsx(s$,{})}));
